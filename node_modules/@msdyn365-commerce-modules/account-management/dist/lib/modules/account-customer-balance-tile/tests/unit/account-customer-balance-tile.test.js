import { shallow } from 'enzyme';
import * as React from 'react';
import { wrapInResolvedAsyncResult } from '@msdyn365-commerce-modules/retail-actions';
import { buildMockCoreContext } from '@msdyn365-commerce/core';
import AccountCustomerBalanceTileModule from '../../account-customer-balance-tile';
const mockResources = {
    accountBalanceTileDescription: 'Available balance: ',
    accountCustomerBalanceTileDescription: 'Credit limit: ',
    showBalanceButtonText: 'Show balance',
    hideBalanceButtonText: 'Hide balance',
};
const mockHeading1 = {
    text: 'Mock heading 1',
    tag: "h1"
};
const mockConfigWithHeading = {
    className: 'testClassName',
    heading: mockHeading1,
    links: []
};
const mockCustomerBalanceData = {
    balance: wrapInResolvedAsyncResult({
        Balance: 18.22,
        CreditLimit: 300
    }),
    customerInformation: wrapInResolvedAsyncResult({
        AllowOnAccountPayment: true
    })
};
const mockContext = buildMockCoreContext({});
mockContext.cultureFormatter.formatCurrency = jest.fn(price => `$${price}`);
const mockProps = {
    resources: mockResources,
    renderView: jest.fn(),
    renderModuleAttributes: jest.fn()
};
describe('Account-Customer-Balance-Tile Module', () => {
    it('should render correctly if all props are provided ', () => {
        const moduleProps = {
            config: mockConfigWithHeading,
            data: mockCustomerBalanceData,
            context: mockContext,
            ...mockProps
        };
        shallow(React.createElement(AccountCustomerBalanceTileModule, { ...moduleProps }));
        expect(moduleProps.renderView).toMatchSnapshot();
    });
});
//# sourceMappingURL=account-customer-balance-tile.test.js.map