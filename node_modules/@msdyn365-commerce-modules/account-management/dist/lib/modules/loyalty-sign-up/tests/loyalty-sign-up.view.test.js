import { wrapInResolvedAsyncResult } from '@msdyn365-commerce-modules/retail-actions';
import { buildMockModuleProps } from '@msdyn365-commerce/core';
import { render } from 'enzyme';
import * as React from 'react';
import LoyaltySignUpView from '../loyalty-sign-up.view';
const emptyMockData = {
    loyaltyCard: wrapInResolvedAsyncResult(undefined)
};
const mockData = {
    loyaltyCard: wrapInResolvedAsyncResult({ CardNumber: 'carddd' })
};
let mockProps;
describe('LoyaltySignUpView', () => {
    it('Does not render when loading', () => {
        const moduleProps = buildMockModuleProps({}, {});
        mockProps = {
            ...moduleProps,
            LoyaltySignUp: {
                moduleProps: moduleProps,
                className: 'foo'
            },
            loading: true,
            data: emptyMockData,
            heading: React.createElement("h4", null, "Heading"),
            memberHeading: React.createElement("h4", null, "Member heading"),
            signInLink: React.createElement("button", null, "Sign in"),
            signUpText: React.createElement("p", null, "please sign up"),
            signUpButton: React.createElement("button", null, "Sign up"),
            detailsLink: React.createElement("a", null, "link"),
            termsLink: React.createElement("a", null, "terms")
        };
        const component = render(React.createElement(LoyaltySignUpView, Object.assign({}, mockProps)));
        expect(component).toMatchSnapshot();
    });
    it('Renders when not loading', () => {
        const moduleProps = buildMockModuleProps({}, {});
        moduleProps.context.request.user.customerAccountNumber = 'usernumber';
        moduleProps.context.request.user.isAuthenticated = true;
        mockProps = {
            ...moduleProps,
            LoyaltySignUp: {
                moduleProps: moduleProps,
                className: 'foo'
            },
            data: mockData,
            loading: false,
            heading: React.createElement("h4", null, "Heading"),
            memberHeading: React.createElement("h4", null, "Member heading"),
            signInLink: React.createElement("button", null, "Sign in"),
            signUpText: React.createElement("p", null, "please sign up"),
            signUpButton: React.createElement("button", null, "Sign up"),
            detailsLink: React.createElement("a", null, "link"),
            termsLink: React.createElement("a", null, "terms")
        };
        const component = render(React.createElement(LoyaltySignUpView, Object.assign({}, mockProps)));
        expect(component).toMatchSnapshot();
    });
});
//# sourceMappingURL=loyalty-sign-up.view.test.js.map