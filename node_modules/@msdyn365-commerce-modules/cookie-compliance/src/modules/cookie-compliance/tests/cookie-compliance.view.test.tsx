/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

 import { buildMockModuleProps } from '@msdyn365-commerce/core';
 import { render } from 'enzyme';
 import * as React from 'react';
 import { ICookieComplianceConfig, ICookieComplianceProps } from '../cookie-compliance.props.autogenerated';
 import CookieComplianceView from '../cookie-compliance.view';

 const mockConfig: ICookieComplianceConfig = {
     className: 'ms-cookie-compliance',
     content: 'Simple text'
 };

 describe('CookieCompliance Unit Test', () => {
    it('View renders correctly', () => {
        const moduleProps = buildMockModuleProps({}, {}, mockConfig);

        // @ts-ignore partial mock
        const mockProps: ICookieComplianceProps = {
            ...moduleProps,
            CookieComplianceBanner: {
                moduleProps: moduleProps,
                className: mockConfig.content,
            },
            AlertProps: {
                className: 'ms-cookie-compliace__container',
                color: 'white',
            },
            Content: {
                className: 'ms-cookie-compliance__content'
            },
            text: <div>TextComponent</div>,
            links:
                (
                    <div>
                        <a>Link</a>
                        <a>Link</a>
                        <a>Link</a>
                    </div>
                ),
            acceptButton: <div>AcceptButton</div>
        };

        const cookieComplianceView = render(<CookieComplianceView {...mockProps} />);
        expect(cookieComplianceView).toMatchSnapshot();
    });
 });