import { createObservableDataAction } from '@msdyn365-commerce/core';
import { createAddressManagementInput, doAddressManagementOperation } from './add-address';
export function deleteAddressHandler(customer, address) {
    customer.Addresses = customer.Addresses || [];
    customer.Addresses = [...customer.Addresses.filter(cur => cur.RecordId !== address.RecordId)];
    return customer;
}
export async function deleteAddressAction(input, ctx) {
    return doAddressManagementOperation(input, ctx, deleteAddressHandler);
}
/**
 * The deleteAddress data action
 * Calls the read RetailServer API to get information about a customer
 * Removes all address information from the retireved customer, and
 * then updates that customer via the update RetailServer API.
 */
export default createObservableDataAction({
    id: '@msdyn365-commerce-modules/retail-actions/delete-address',
    action: deleteAddressAction,
    input: createAddressManagementInput,
    isBatched: false
});
//# sourceMappingURL=delete-address.js.map