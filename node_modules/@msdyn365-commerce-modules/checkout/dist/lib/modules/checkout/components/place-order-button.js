import { Button, getPayloadObject, getTelemetryAttributes } from '@msdyn365-commerce-modules/utilities';
import { TelemetryEvent } from '@msdyn365-commerce/core';
import classnames from 'classnames';
import React, { useState } from 'react';
const CheckoutPlaceOrderButton = ({ placeOrderText, canPlaceOrder, placeOrder, telemetryContent }) => {
    const [isBusy, setIsBusy] = useState(false);
    const payload = getPayloadObject(TelemetryEvent.Purchase, telemetryContent, placeOrderText, '');
    const attributes = getTelemetryAttributes(telemetryContent, payload);
    const onPlaceOrder = async () => {
        if (isBusy || !canPlaceOrder) {
            return;
        }
        setIsBusy(true);
        await placeOrder();
        setIsBusy(false);
    };
    return (React.createElement(Button, Object.assign({ className: classnames('ms-checkout__btn-place-order', { 'is-busy': isBusy }), color: 'primary', onClick: onPlaceOrder, title: placeOrderText }, attributes, { disabled: !canPlaceOrder }), placeOrderText));
};
export default CheckoutPlaceOrderButton;
//# sourceMappingURL=place-order-button.js.map