import * as orderSummaryUtilities from '@msdyn365-commerce-modules/order-summary-utilities';
import { buildMockModuleProps } from '@msdyn365-commerce/core';
import { getOrderSummary } from '../../components/get-order-summary';
import { getMockData, mockCheckoutCart, mockConfig, mockContext, mockEmptyCart, mockResources } from '../__mock__';
jest.mock('@msdyn365-commerce-modules/order-summary-utilities');
describe('Checkout unit tests - getOrderSummary', () => {
    beforeEach(() => {
        orderSummaryUtilities.OrderSummary.mockImplementation(() => '{OrderSummary}');
    });
    afterEach(() => {
        orderSummaryUtilities.OrderSummary.mockReset();
    });
    afterAll(() => {
        jest.unmock('@msdyn365-commerce-modules/order-summary-utilities');
    });
    it('renders correctly with valid cart', () => {
        const mockData = getMockData(mockCheckoutCart);
        const moduleProps = {
            ...buildMockModuleProps(mockData, {}, mockConfig, mockContext),
            resources: mockResources
        };
        const obj = getOrderSummary(moduleProps);
        expect(obj).toMatchSnapshot();
        expect(obj.lines).toBeDefined();
    });
    it('renders correctly when it get an empty cart', () => {
        const mockData = getMockData(mockEmptyCart);
        const moduleProps = {
            ...buildMockModuleProps(mockData, {}, mockConfig, mockContext),
            resources: mockResources
        };
        const obj = getOrderSummary(moduleProps);
        expect(obj).toMatchSnapshot();
        expect(obj.lines).not.toBeDefined();
    });
});
//# sourceMappingURL=get-order-summary.test.js.map