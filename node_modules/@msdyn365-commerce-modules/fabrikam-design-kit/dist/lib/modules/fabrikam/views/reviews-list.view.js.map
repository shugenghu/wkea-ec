{"version":3,"file":"reviews-list.view.js","sourceRoot":"./src/","sources":["modules/fabrikam/views/reviews-list.view.tsx"],"names":[],"mappings":"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","sourcesContent":["import {  IReviewModalViewProps } from '@msdyn365-commerce-modules/ratings-reviews';\nimport { IReportReviewModalViewProps, IReviewCardViewProps, IReviewsListState, IReviewsListViewProps } from '@msdyn365-commerce-modules/ratings-reviews/src/modules/reviews-list';\nimport {  IModuleProps, Module, Node } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\n\nconst ReviewsListview: React.FC<IReviewsListViewProps> = props => {\n    const {\n        averageRating,\n        filterByDropdown,\n        moduleProps,\n        noReviewsMessage,\n        noReviewsWithFilterMessage,\n        pageControls,\n        refineReviewsProps,\n        reportReviewModal,\n        reviewsListProps,\n        reviewCards,\n        reviewCount,\n        reviewModal,\n        sortByDropdown,\n        state,\n        userReview\n    } = props;\n\n    if (!userReview && reviewCards.length === 0 && !state.isFilterApplied) {\n        return  <Module {...moduleProps}>{noReviewsMessage}</Module>;\n    }\n\n    return (\n        <Module {...moduleProps}>\n            {averageRating}\n            {reviewCount}\n            <Node {...refineReviewsProps} >\n                {sortByDropdown}\n                {filterByDropdown}\n            </Node>\n            <Node {...reviewsListProps}>\n                {userReview && buildReviewCard(userReview)}\n                {reviewCards.map(review => {\n                    return buildReviewCard(review);\n                })}\n            </Node>\n            { reviewCards.length === 0 && state.isFilterApplied && noReviewsWithFilterMessage}\n            {pageControls}\n            {createReviewModal(reviewModal, moduleProps)}\n            {createReportModal(reportReviewModal, state)}\n        </Module>\n    );\n};\n\nconst buildReviewCard = (props: IReviewCardViewProps) => {\n    return (\n        <Node {...props.cardProps}>\n            <Node {...props.headerProps}>\n                {props.rating}\n                {props.name}\n                {props.date}\n            </Node>\n            <Node {...props.cardBodyProps}>\n                <Node {...props.reviewProps}>\n                    {props.reviewTitle}\n                    {props.reviewText}\n                </Node>\n                <Node {...props.responseProps}>\n                    {props.responseName}\n                    {props.responseDate}\n                    {props.responseText}\n                </Node>\n                <Node {...props.controlsProps}>\n                    {props.ratingHelpfulLabel}\n                    {props.like}\n                    {props.dislike}\n                    {props.edit}\n                    {props.report}\n                </Node>\n            </Node>\n        </Node>\n    );\n};\n\nconst createReviewModal = (props: IReviewModalViewProps, moduleProps: IModuleProps): JSX.Element => {\n    return (\n        <Module {...props.modal} {...moduleProps}>\n            {props.modalHeader}\n            <Node {...props.modalBody}>\n                <Node {...props.form}>\n                    <Node {...props.inputRow}>\n                        {props.rating}\n                        {props.ratingLabel}\n                    </Node>\n                    <Node {...props.inputRow}>\n                        {props.titleLabel}\n                        {props.titleInput}\n                    </Node>\n                    <Node {...props.inputRow}>\n                        {props.textLabel}\n                        {props.textInput}\n                    </Node>\n                    {props.privacyPolicyUrl}\n                    {props.error}\n                </Node>\n            </Node>\n            <Node {...props.modalFooter}>\n                {props.submitButton}\n                {props.cancelButton}\n            </Node>\n        </Module>\n    );\n};\n\nconst createReportModal = (props: IReportReviewModalViewProps, state: IReviewsListState): JSX.Element => {\n    return (\n        <Node {...props.modal}>\n            <Node {...props.modalHeader}>\n                {state.reported ? props.headerSubmitted : props.header}\n            </Node>\n            <Node {...props.modalBody}>\n                {state.reported ? props.reportSubmittedMessage : [props.reportMessage, props.radioButtons, props.error]}\n            </Node>\n            <Node {...props.modalFooter}>\n                {state.reported ? props.succesfulButton : [props.submitButton, props.cancelButton]}\n            </Node>\n        </Node>\n    );\n};\n\nexport default ReviewsListview;"]}