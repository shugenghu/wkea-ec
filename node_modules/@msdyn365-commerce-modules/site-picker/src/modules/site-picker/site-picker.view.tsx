/*!
 * Copyright (c) Microsoft Corporation.
 * All rights reserved. See LICENSE in the project root for license information.
 */
import { Module, Node } from '@msdyn365-commerce-modules/utilities';
import * as React from 'react';
import { ISitePickerViewProps } from './site-picker';

export default (props: ISitePickerViewProps) => {
        const {SitePicker,SitePickerMenu,SitePickerMenuSpan} = props;
        return(
            <Module {...SitePicker}>
                <Node {...SitePickerMenu} onClick={props.renderSiteOptions}>
                    {props.config.heading?.text}
                    <Node {...SitePickerMenuSpan}/>
                </Node>
                {props.siteOptionsState?_renderSiteOptionsList(props):null}
            </Module>
    );
    };
const _renderSiteOptionsList = (props: ISitePickerViewProps): React.ReactNode => {
        const{SitePickerMenuList,
            SitePickerMenuListItem,
            SitePickerMenuListItemArray,
            }=props;
        const options = SitePickerMenuListItemArray!.map((item, index) => {
        return (
            <Node {...SitePickerMenuListItem} key={index}>
                {item}
            </Node>
             );
            }
        );
        return(
            <Node {...SitePickerMenuList} onMouseLeave={props.resetSiteOptionsState}>
                {options}
            </Node>
        );
    };
