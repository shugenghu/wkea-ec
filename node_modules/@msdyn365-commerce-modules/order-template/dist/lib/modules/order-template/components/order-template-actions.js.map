{"version":3,"file":"order-template-actions.js","sourceRoot":"./src/","sources":["modules/order-template/components/order-template-actions.tsx"],"names":[],"mappings":"AAEA,OAAO,EAAE,MAAM,EAAqB,MAAM,sCAAsC,CAAC;AACjF,OAAO,EAAE,+BAA+B,EAAuE,4BAA4B,EAAE,MAAM,+BAA+B,CAAC;AAGnL,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAgC/B,MAAM,CAAC,MAAM,wBAAwB,GAAG,CAAC,KAAiC,EAAkC,EAAE;IAC1G,MAAM,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;IAC5B,MAAM,EAAE,wBAAwB,EAAE,GAAG,SAAS,CAAC;IAE/C,MAAM,iBAAiB,GAAG,CAAC,KAAoC,EAAE,EAAE;QAC/D,OAAO,oBAAoB,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC,CAAC;IAEF,OAAO;QACH,gBAAgB,EAAE,gCAAgC,CAAC,KAAK,CAAC;QACzD,cAAc,EAAE,8BAA8B,CAAC,KAAK,CAAC;QACrD,cAAc,EAAE,CACZ,oBAAC,MAAM,IAAC,SAAS,EAAC,sDAAsD,EAAC,OAAO,EAAE,iBAAiB,IAC9F,wBAAwB,CACpB,CACZ;KACJ,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,oBAAoB,GAAG,CAAC,KAAiC,EAAQ,EAAE;IACrE,MAAM,EAAE,IAAI,EAAE,EAAE,aAAa,EAAE,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;IACpD,MAAM,EAAE,gBAAgB,EAAE,GAAG,QAAQ,CAAC;IAEtC,IAAI,gBAAgB,EAAE;QAClB,gBAAgB,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;KAClD;AACL,CAAC,CAAC;AAEF,MAAM,gCAAgC,GAAG,CAAC,KAAiC,EAAmB,EAAE;IAC5F,MAAM,EAAE,IAAI,EAAE,EAAE,aAAa,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;IAC9F,MAAM,EACF,0BAA0B,EAC1B,qBAAqB,EACrB,uBAAuB,EACvB,uBAAuB,EACvB,uBAAuB,EACvB,+BAA+B,EAClC,GAAG,SAAS,CAAC;IAEd,MAAM,aAAa,GAAG;QAClB,qBAAqB,EAAE,qBAAqB;QAC5C,uBAAuB,EAAE,uBAAuB;QAChD,uBAAuB,EAAE,uBAAuB;QAChD,uBAAuB,EAAE,uBAAuB;QAChD,+BAA+B,EAAE,+BAA+B;KACnE,CAAC;IAEF,OAAO,CACH,oBAAC,+BAA+B,IAC5B,OAAO,EAAE,OAAO,EAChB,EAAE,EAAE,EAAE,EACN,QAAQ,EAAE,QAAQ,EAClB,IAAI,EAAE,EAAC,aAAa,EAAC,EACrB,SAAS,EAAC,EAAE,EACZ,aAAa,EAAE,0BAA0B,EACzC,aAAa,EAAE,aAAa,EAC5B,gBAAgB,EAAE,gBAAgB,GACpC,CACL,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,8BAA8B,GAAG,CAAC,KAAiC,EAAmB,EAAE;IAC1F,MAAM,EAAE,gCAAgC,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;IACjF,OAAO,CACH,oBAAC,4BAA4B,IACzB,gBAAgB,EAAE,QAAQ,CAAC,gBAAgB,EAC3C,SAAS,EAAE,gCAAgC,EAC3C,OAAO,EAAE,OAAO,EAChB,EAAE,EAAE,KAAK,CAAC,EAAE,EACZ,IAAI,EAAE,EAAC,aAAa,EAAE,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAC,EAC3D,QAAQ,EAAE,KAAK,CAAC,QAAQ,EACxB,gCAAgC,EAAE,gCAAgC,EAClE,6BAA6B,EAAE,SAAS,CAAC,wBAAwB,GACnE,CACL,CAAC;AACN,CAAC,CAAC","sourcesContent":["\nimport { OrderTemplate } from '@msdyn365-commerce-modules/retail-actions';\nimport { Button, ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport { AddOrderTemplateToCartComponent, ILinesAddedToCartDialogResources, IOrderTemplateNameDialogResources, RenameOrderTemplateComponent } from '@msdyn365-commerce/components';\nimport { IComponentProps, ICoreContext } from '@msdyn365-commerce/core';\nimport { ProductList } from '@msdyn365-commerce/retail-proxy';\nimport * as React from 'react';\n\nexport interface IOrderTemplateActionsData {\n    orderTemplate: OrderTemplate;\n}\n\nexport interface IOrderTemplateActionsProps extends IComponentProps<IOrderTemplateActionsData>  {\n    context: ICoreContext;\n    telemetryContent?: ITelemetryContent;\n    handlers: {\n        onRemoveTemplate(orderTemplateId: string): void;\n        onRenameTemplate(orderTemplate: ProductList): Promise<void>;\n    };\n    renameOrderTemplateDialogStrings: IOrderTemplateNameDialogResources;\n    resources: {\n        addTemplateToBagButtonText: string;\n        renameTemplateButtonText: string;\n        deleteTemplateButtonText: string;\n        closeWindowButtonText: string;\n        addToCartFailureMessage: string;\n        addToCartSuccessMessage: string;\n        addToCartProcessMessage: string;\n        linesAddedToCartDialogResources: ILinesAddedToCartDialogResources;\n    };\n}\n\nexport interface IOrderTemplateActionsViewProps {\n    addTemplateToBag: React.ReactNode;\n    renameTemplate?: React.ReactNode;\n    removeTemplate?: React.ReactNode;\n}\n\nexport const OrderTemplateActionsView = (props: IOrderTemplateActionsProps): IOrderTemplateActionsViewProps => {\n    const { resources } = props;\n    const { deleteTemplateButtonText } = resources;\n\n    const removeOrderAction = (event: React.MouseEvent<HTMLElement>) => {\n        return _removeOrderTemplate(props);\n    };\n\n    return {\n        addTemplateToBag: _getOrderTemplateAddToCartDialog(props),\n        renameTemplate: _getOrderTemplateRenameControl(props),\n        removeTemplate: (\n            <Button className='ms-order-template-action-bar__delete-template-button' onClick={removeOrderAction}>\n                {deleteTemplateButtonText}\n            </Button>\n        )\n    };\n};\n\nconst _removeOrderTemplate = (props: IOrderTemplateActionsProps): void => {\n    const { data: { orderTemplate }, handlers } = props;\n    const { onRemoveTemplate } = handlers;\n\n    if (onRemoveTemplate) {\n        onRemoveTemplate(orderTemplate.productList.Id);\n    }\n};\n\nconst _getOrderTemplateAddToCartDialog = (props: IOrderTemplateActionsProps): React.ReactNode => {\n    const { data: { orderTemplate }, typeName, id, context, telemetryContent, resources } = props;\n    const {\n        addTemplateToBagButtonText,\n        closeWindowButtonText,\n        addToCartFailureMessage,\n        addToCartSuccessMessage,\n        addToCartProcessMessage,\n        linesAddedToCartDialogResources\n    } = resources;\n\n    const dialogStrings = {\n        closeWindowButtonText: closeWindowButtonText,\n        addToCartFailureMessage: addToCartFailureMessage,\n        addToCartSuccessMessage: addToCartSuccessMessage,\n        addToCartProcessMessage: addToCartProcessMessage,\n        linesAddedToCartDialogResources: linesAddedToCartDialogResources\n    };\n\n    return (\n        <AddOrderTemplateToCartComponent\n            context={context}\n            id={id}\n            typeName={typeName}\n            data={{orderTemplate}}\n            className=''\n            addToCartText={addTemplateToBagButtonText}\n            dialogStrings={dialogStrings}\n            telemetryContent={telemetryContent}\n        />\n    );\n};\n\nconst _getOrderTemplateRenameControl = (props: IOrderTemplateActionsProps): React.ReactNode => {\n    const { renameOrderTemplateDialogStrings, resources, context, handlers } = props;\n    return (\n        <RenameOrderTemplateComponent\n            onRenameTemplate={handlers.onRenameTemplate}\n            className={'msc-order-template-name-dialog'}\n            context={context}\n            id={props.id}\n            data={{orderTemplate: props.data.orderTemplate.productList}}\n            typeName={props.typeName}\n            renameOrderTemplateDialogStrings={renameOrderTemplateDialogStrings}\n            renameOrderTemplateButtonText={resources.renameTemplateButtonText}\n        />\n    );\n};"]}