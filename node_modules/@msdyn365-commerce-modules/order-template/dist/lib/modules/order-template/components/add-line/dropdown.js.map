{"version":3,"file":"dropdown.js","sourceRoot":"./src/","sources":["modules/order-template/components/add-line/dropdown.tsx"],"names":[],"mappings":"AAIA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAkC/B,MAAM,OAAO,QAAS,SAAQ,KAAK,CAAC,aAA6C;IAG7E,YAAY,KAAqB,EAAE,KAAqB;QACpD,KAAK,CAAC,KAAK,CAAC,CAAC;QAHT,eAAU,GAAuC,KAAK,CAAC,SAAS,EAAqB,CAAC;QAwCtF,eAAU,GAAG,CAAC,KAA2C,EAAQ,EAAE;YACvE,IAAI,CAAC,QAAQ,CAAC,EAAC,aAAa,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC;YAEnD,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;oBAChB,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU;oBACjC,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;oBAC5B,aAAa,EAAE,KAAK,CAAC,MAAM,CAAC,SAAS;iBACxC,CAAC,CAAC;aACN;QACL,CAAC,CAAC;QA9CE,IAAI,CAAC,KAAK,GAAG;YACT,aAAa,EAAE,EAAE;SACpB,CAAC;IACN,CAAC;IAEM,iBAAiB;QACpB,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,CAAC;SAC7C;IACL,CAAC;IAEM,MAAM;QACT,MAAM,EAAC,UAAU,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAE7D,OAAO,CACH,gCACI,EAAE,EAAE,uBAAuB,UAAU,EAAE,EACvC,GAAG,EAAE,IAAI,CAAC,UAAU,gBACR,YAAY,EACxB,SAAS,EAAC,sBAAsB,EAChC,QAAQ,EAAE,IAAI,CAAC,UAAU,IAExB,YAAY,CAAC,GAAG,CAAC,CAAC,IAAwB,EAAE,EAAE,CAAC,CAAC,IAAI;YACjD,gCACI,KAAK,EAAE,IAAI,CAAC,EAAE,EACd,GAAG,EAAE,IAAI,CAAC,EAAE,EACZ,QAAQ,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,KAAK,CAAC,IAAI,CAAC,EAAE,mBACjC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,KAAK,CAAC,IAAI,CAAC,EAAE,IAEpD,IAAI,CAAC,KAAK,CACN,CACZ,CAAC,CACG,CACZ,CAAC;IACN,CAAC;CAaJ","sourcesContent":["/**\n * Copyright (c) 2018 Microsoft Corporation\n */\nimport { ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\n\ntype IDropdownState = {\n    /**\n     * @friendlyName selectedIndex\n     * @description selected index\n     */\n    selectedIndex: string;\n};\n\nexport interface IDropdownProps {\n    dropdownId: number;\n    dropdownName: string;\n    dropdownList: IDropdownItemProps[];\n    telemetryContent?: ITelemetryContent;\n    onChange?(selection: IDropdownOnSelection): void;\n}\n\nexport interface IDropdownItemProps {\n    value: string;\n    id: number;\n}\n\nexport interface IDropdownOnSelection {\n    dropdownId: number;\n    selectId: string;\n    selectedValue: string;\n}\n\n/**\n *\n * DropDown component\n * @extends {React.PureComponent<IDropdownProps, IDropdownState>}\n */\nexport class Dropdown extends React.PureComponent<IDropdownProps, IDropdownState> {\n    private selectMenu: React.RefObject<HTMLSelectElement> = React.createRef<HTMLSelectElement>();\n\n    constructor(props: IDropdownProps, state: IDropdownState) {\n        super(props);\n        this.state = {\n            selectedIndex: ''\n        };\n    }\n\n    public componentDidMount(): void {\n        if (this.selectMenu.current) {\n            this.selectMenu.current.selectedIndex = 0;\n        }\n    }\n\n    public render(): JSX.Element {\n        const {dropdownId, dropdownList, dropdownName } = this.props;\n\n        return (\n            <select\n                id={`msc-dropdown__entry-${dropdownId}`}\n                ref={this.selectMenu}\n                aria-label={dropdownName}\n                className='msc-dropdown__select'\n                onChange={this._onChanged}\n            >\n                {dropdownList.map((item: IDropdownItemProps) => (item &&\n                    <option\n                        value={item.id}\n                        key={item.id}\n                        selected={+this.state.selectedIndex === +item.id}\n                        aria-selected={+this.state.selectedIndex === +item.id}\n                    >\n                        {item.value}\n                    </option>\n                ))}\n            </select>\n        );\n    }\n\n    private _onChanged = (event: React.ChangeEvent<HTMLSelectElement>): void => {\n        this.setState({selectedIndex: event.target.value});\n\n        if (this.props.onChange) {\n            this.props.onChange({\n                dropdownId: this.props.dropdownId,\n                selectId: event.target.value,\n                selectedValue: event.target.innerText\n            });\n        }\n    };\n}"]}