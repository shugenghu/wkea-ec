{"version":3,"file":"order-template.test.js","sourceRoot":"./src/","sources":["modules/order-template/tests/order-template.test.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { OrderTemplate, OrderTemplateLine, wrapInRejectedAsyncResult, wrapInResolvedAsyncResult } from '@msdyn365-commerce-modules/retail-actions';\nimport { FullProduct } from '@msdyn365-commerce/commerce-entities';\nimport { buildHydratedMockActionContext, buildMockModuleProps } from '@msdyn365-commerce/core';\nimport { ICartState } from '@msdyn365-commerce/global-state';\nimport { AsyncResult, Cart, ProductList, ProductListLine } from '@msdyn365-commerce/retail-proxy';\nimport * as RetailActions from '@msdyn365-commerce/retail-proxy/dist/DataActions/ProductListsDataActions.g';\nimport { mount } from 'enzyme';\nimport * as React from 'react';\nimport OrderTemplateLines, { IOrderTemplateLineViewModel } from '../order-template';\nimport { IOrderTemplateData } from '../order-template.data';\nimport { HeadingTag, IOrderTemplateConfig, IOrderTemplateProps, IOrderTemplateResources } from '../order-template.props.autogenerated';\n\nconst mockFullProduct = {\n    ProductDetails: {\n        AdjustedPrice: 145,\n        BasePrice: 145,\n        Behavior: {\n            AllowNegativePhysicalInventory: false,\n            ExtensionProperties: [],\n            HasSerialNumber: false,\n            IsBlankSerialNumberAllowed: false,\n            IsBlankSerialNumberReceiptAllowed: false,\n            IsDiscountAllowed: true,\n            IsKitDisassemblyAllowed: false,\n            IsManualDiscountAllowed: true,\n            IsNegativeQuantityAllowed: false,\n            IsReturnAllowed: true,\n            IsSaleAtPhysicalStoresAllowed: true,\n            IsSerialNumberControlEnabled: false,\n            IsSerialNumberRequired: false,\n            IsStorageDimensionGroupLocationActive: true,\n            IsStorageDimensionGroupLocationAllowBlankReceiptEnabled: false,\n            IsStorageDimensionGroupLocationBlankIssueAllowed: false,\n            IsZeroSalePriceAllowed: false,\n            KeyInPriceValue: 4,\n            KeyInQuantityValue: 0,\n            MustKeyInComment: false,\n            MustPrintIndividualShelfLabelsForVariants: false,\n            MustPromptForSerialNumberOnlyAtSale: false,\n            MustWeighProductAtSale: false,\n            ValidFromDateForSaleAtPhysicalStores: new Date('Wed Jul 03 2019 14:44:37 GMT-0700'),\n            ValidToDateForSaleAtPhysicalStores: new Date('Wed Jul 03 2019 14:44:37 GMT-0700')\n        },\n        Components: [],\n        DefaultUnitOfMeasure: 'ea',\n        Description: 'Classic dress shoes made of authentic leather.',\n        ExtensionProperties: [],\n        ItemId: '92077',\n        ItemServiceTypeValue: 0,\n        ItemTypeValue: 0,\n        LinkedProducts: [],\n        MasterProductId: 68719493343,\n        Name: 'Classic Leather Dress Shoes',\n        Price: 145,\n        PrimaryImageUrl:\n            'https://cms-ppe-imageresizer-mr.trafficmanager.net/cms/api/fabrikamsb/imageFileData/search?fileName=/Products%2F92077%20%5E%20%20%5E%208.5%20%5E%20%20%5E%20Regular_000_001.png',\n        ProductTypeValue: 5,\n        RecordId: 68719493351,\n        Dimensions: [\n            {\n                DimensionTypeValue: 3,\n                ExtensionProperties: [],\n                DimensionValue: {\n                    DimensionId: '8.5',\n                    ExtensionProperties: [],\n                    RecordId: 22565421192,\n                    Value: '8.5'\n                }\n            },\n            {\n                DimensionTypeValue: 4,\n                ExtensionProperties: [],\n                DimensionValue: {\n                    DimensionId: 'Regular',\n                    ExtensionProperties: [],\n                    RecordId: 5637144583,\n                    Value: 'Regular'\n                }\n            }\n        ]\n    },\n    ProductPrice: {\n        AdjustedPrice: 145,\n        BasePrice: 145,\n        CatalogId: 0,\n        ChannelId: 68719478279,\n        CurrencyCode: 'USD',\n        CustomerContextualPrice: 145,\n        DiscountAmount: 0,\n        DiscountLines: [],\n        ExtensionProperties: [],\n        InventoryDimensionId: '#0000001000006E07',\n        ItemId: '92077',\n        ListingId: 68719493351,\n        ProductId: 68719493351,\n        ProductLookupId: 0,\n        TradeAgreementPrice: 145,\n        UnitOfMeasure: 'ea',\n        ValidFrom: new Date('Wed Jul 03 2019 14:44:37 GMT-0700')\n    },\n    ProductRating: {\n        AverageRating: undefined,\n        ExtensionProperties: [],\n        ProductId: 68719493351,\n        RatingDistribution: [],\n        TotalRatings: 0\n    }\n} as FullProduct;\n\nconst mockProductListLine: ProductListLine = {\n    CreatedDateTime: undefined,\n    DataAreaId: 'usrt',\n    DeletedDateTime: new Date('Mon Jan 01 1900 02:30:17 GMT+0230'),\n    ExtensionProperties: [],\n    LastUpdated: new Date('Tue Jun 16 2020 22:30:53 GMT+0300'),\n    LineId: '15a64c8e9d974d97b876a726bba18eb2',\n    ProductId: 68719493351,\n    ProductListId: '103fe74cbe7443e0bd96a0741fb8fe39',\n    Quantity: 23423342,\n    UnitOfMeasure: 'ea'\n};\n\nconst mockProductList: ProductList = {\n    CreatedDateTime: undefined,\n    CustomerId: '004047',\n    DataAreaId: 'usrt',\n    DeletedDateTime: new Date('Mon Jan 01 1900 02:30:17 GMT+0230'),\n    ExtensionProperties: [],\n    Id: '103fe74cbe7443e0bd96a0741fb8fe39',\n    LastUpdated: new Date('Fri May 29 2020 00:29:17 GMT+0300'),\n    Name: 'Name',\n    ProductListLines: [mockProductListLine],\n    ProductListTypeValue: 1\n};\n\nconst mockEmptyProductList: ProductList = {\n    CreatedDateTime: undefined,\n    CustomerId: '004047',\n    DataAreaId: 'usrt',\n    DeletedDateTime: new Date('Mon Jan 01 1900 02:30:17 GMT+0230'),\n    ExtensionProperties: [],\n    Id: '103fe74cbe7443e0bd96a0741fb8fe39',\n    LastUpdated: new Date('Fri May 29 2020 00:29:17 GMT+0300'),\n    Name: 'Name',\n    ProductListLines: [],\n    ProductListTypeValue: 1\n};\n\nconst mockEmptyOrderTemplate = new OrderTemplate(mockEmptyProductList, [], 0);\nconst mockOrderTemplate = new OrderTemplate(mockProductList, [new OrderTemplateLine(mockProductListLine, mockFullProduct)], 1);\n\nconst mockCartState = {\n    cart: {\n        Id: 'gB8DCi6AK3mzMavh08C4P18wFDbEEyto',\n        Version: 123\n    } as Cart,\n    addProductToCart: jest.fn()\n};\n\nconst mockData: IOrderTemplateData = {\n    // @ts-ignore\n    cart: wrapInResolvedAsyncResult(mockCartState),\n    orderTemplate: wrapInResolvedAsyncResult<OrderTemplate>(mockOrderTemplate)\n};\n\nconst mockDataFailedResponse: IOrderTemplateData = {\n    cart: {} as AsyncResult<ICartState>,\n    orderTemplate: wrapInRejectedAsyncResult<OrderTemplate>(mockOrderTemplate)\n};\n\nconst mockConfig: IOrderTemplateConfig = {\n    heading: {\n        text: 'Weekday Outfits',\n        tag: HeadingTag.h1\n    }\n};\n\nconst mockResources: IOrderTemplateResources = {\n    emptyOrderTemplateLinesText: 'Your order template lines is empty.',\n    priceFree: 'Free',\n    renameTemplateButtonText: 'renameTemplateButtonText',\n    renameOrderTemplateButtonText: 'renameOrderTemplateButtonText',\n    renameOrderTemplateTitleText: 'renameOrderTemplateTitleText',\n    cancelBtnLabel: 'Cancel',\n    orderTemplateTitle: 'Order Template Name',\n    removeItemFromOrderTemplateButtonText: 'Remove from order template',\n    addOrderTemplateItemToBagButtonText: 'Add to bag',\n    addSelectedToBagButtonText: 'Add Selected to bag',\n    removeSelectedToBagButtonText: 'Remove Selected',\n    waitingClass: 'waiting waiting-circular waiting-lg',\n    addedToCartSuccessMessage: 'Added to your cart',\n    addedToCartFailureMessage: 'Add to cart failed. Please refresh and retry',\n    maxQuantityLimitText: 'You can only add {quantity} of this item to your shopping bag',\n    originalPriceText: 'Original price',\n    currentPriceText: 'Current price',\n    productDimensionTypeColor: 'Color',\n    productDimensionTypeSize: 'Size',\n    productDimensionTypeStyle: 'Style',\n    productDimensionTypeConfiguration: 'Configuration',\n    errorGettingOrderTemplateLines: 'Sorry we are unable to load your order template lines at this moment, please try again later.',\n    productNumberText: 'Product number',\n    productText: 'Product',\n    productUnitPriceText: 'Unit price',\n    productUOMText: 'UOM',\n    productQuantityText: 'Quantity',\n    productActionsText: 'Actions',\n    addTemplateToBagButtonText: 'Add template to bag',\n    deleteTemplateButtonText: 'Delete template',\n    inputQuantityAriaLabel: 'quantity input',\n    decrementButtonAriaLabel: 'Press to decrease the quantity by 1',\n    incrementButtonAriaLabel: 'Press to increment quantity by 1',\n    addToCartFailureMessage: 'Add to cart failed. Please refresh and retry',\n    addToCartSuccessMessage: 'Order template successfully added to cart',\n    addToCartProcessMessage: 'Adding to cart',\n    removeSelectedSuccessMessage: 'Selected lines successfully removed to cart',\n    removeSelectedFailureMessage: 'Failed to remove selected lines, please try again',\n    closeWindowButtonText: 'Close',\n    deleteOrderTemplateFailedText: 'Failed to delete order template',\n    flipperNext: 'flipperNext',\n    flipperPrevious: 'flipperPrevious',\n    paginationAriaLabel: 'paginationAriaLabel',\n    viewCartButtonText: 'viewCartButtonText',\n    orderTemplateCloseButtonText: 'orderTemplateCloseButtonText',\n    linesAddedToCartHeaderItemsOneText: 'linesAddedToCartHeaderItemsOneText',\n    linesAddedToCartHeaderLinesOneText: 'linesAddedToCartHeaderLinesOneText',\n    linesAddedToCartHeaderLinesFormatText: 'linesAddedToCartHeaderLinesFormatText',\n    linesAddedToCartHeaderMessageText: 'linesAddedToCartHeaderMessageText',\n    itemAddedToCartHeaderItemOneText: 'itemAddedToCartHeaderItemOneText',\n    itemAddedToCartHeaderItemFormatText: 'itemAddedToCartHeaderItemFormatText',\n    itemAddedToCartHeaderMessageText: 'itemAddedToCartHeaderMessageText',\n    freePriceText: 'freePriceText',\n    addLineModalLinkText: 'Add a Line',\n    addItemToTemplateText: 'Add to Template',\n    selectProductButtonText: 'Select',\n    backButtonText: 'Back to Products',\n    searchModalPlaceholderText: 'Enter product search query',\n    quantitySelectLabel: 'Quantity',\n    notFoundSearchErrorNotice: 'No items found.',\n    notFoundSearchErrorRedediation: 'Try entering a different keyword.',\n    searchErrorMessage: 'Search Error',\n    addLineProductUnitPricePrefix: 'Unit Price:',\n    addLineProductUnitOfMeasurePrefix: 'UOM',\n    searchButtonAriaLabel: 'Submit search',\n    searchInputAriaLabel: 'Search query',\n    searchResultsCountVerbage: 'We found $count $subject based on your search.',// @TODO figure out how to reliably test this count\n    searchResultsCountSubject: 'product',\n    addToTemplateConfirmation: '10 pair of sunglasses, green, regular have been added to template.',\n    totalPriceLabel: 'Total',\n    defaultOrderTemplateName: 'Untitled',\n    progressNotificationText: 'Loading...',\n    addToTemplateError: 'Error adding this product to this template.'\n};\n\nconst mockActions = {};\n\nconst mockActionContext = buildHydratedMockActionContext();\n// @ts-ignore\nmockActionContext.requestContext.apiSettings = {\n    baseImageUrl: 'https://cms-ppe-imageresizer-mr.trafficmanager.net/cms/api/fabrikamsb/imageFileData/search?fileName=/'\n};\n// @ts-ignore\nconst mockContext: ICoreContext<{}> = {\n    actionContext: mockActionContext,\n    request: {\n        user: {\n            isAuthenticated: true,\n            token:\n                'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ilg1ZVhrNHh5b2pORnVtMWtsMll0djhkbE5QNC1jNTdkTzZRR1RWQndhTmsifQ.eyJleHAiOjE1NzQzODA2MTQsIm5iZiI6MTU3NDM3NzAxNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9sb2dpbi5mYWJyaWthbS5jb20vMDcxODA4YzMtMDIxMy00ZjQzLWI1ZTItZGYwMTI2NmU0NGFlL3YyLjAvIiwic3ViIjoiMmE2YjYwZjMtNTE3NS00YmExLWI5YzYtODM2ODQ5MWYyMWQ2IiwiYXVkIjoiNWY2M2Y1MGQtZDdlNy00YTRlLTg1MzQtZTg3NTk5ZmMwZmQ5Iiwibm9uY2UiOiI2MzcwOTk3MzgxMzc3MDMyNjYuTURnM056a3lOekl0T0RnNE9TMDBOVGxqTFRnNFpqa3RPRFUyTm1VelkyWmtObUU0WWpFMlpUVXhOREF0TUdRMU5DMDBOR0UyTFdFNVlUTXRabU0xWmpjM05EQTFPRGhrIiwiaWF0IjoxNTc0Mzc3MDE0LCJhdXRoX3RpbWUiOjE1NzQzNzcwMTQsIm9pZCI6IjJhNmI2MGYzLTUxNzUtNGJhMS1iOWM2LTgzNjg0OTFmMjFkNiIsImdpdmVuX25hbWUiOiJKb3JkYW5Ud28iLCJmYW1pbHlfbmFtZSI6IkV1Z2VuaW8iLCJlbWFpbHMiOlsidi1qb2V1Z0BtaWNyb3NvZnQuY29tIl0sInRmcCI6IkIyQ18xX3Npc3VfcjJwcGUiLCJjX2hhc2giOiI3a2ZPSnFMRDhNUUFfMnBmdnBpQVBnIn0.XUqgKAIBfc2eQBGSeBjgvAzGNyxmftcxEQktcbvM2aeChseBrZfl9-Jd8E5FbwY4x2cAxeTG_-NH6J7An_Q4gcCiGVb625BSEmgVuOj9KLN3yuUmgz3BwRgyu_pbByqpLWQXQGdiNTUDPUEGRReINEVneqCQ18iXScTgy_r4kMjB3dHeV8eWfrdtXlFz4IAinfKU19eoc_FixpJ_6jjUzcnrwt9E9eEnd09dOjSeByM4KRUAY9RWVNrJiqK33-kyUXPT8QCR3bEP9ApTe2DTSirMvAfpQ7_9m99EB7MbF2a6CqpBaBlUTAdvavwIDSPGItSklJ8zNvNWDIL-laf5gg',\n            customerAccountNumber: '004219'\n        }\n    },\n    app: {\n        config: {\n            maxQuantityForCartLineItem: 10\n        }\n    }\n};\n\ndescribe('OrderTemplate', () => {\n    let moduleProps: IOrderTemplateProps<IOrderTemplateData>;\n\n    beforeEach(() => {\n        mockData.orderTemplate = wrapInResolvedAsyncResult(mockOrderTemplate);\n        moduleProps = {\n            ...(buildMockModuleProps(mockData, mockActions, mockConfig, mockContext) as IOrderTemplateProps<IOrderTemplateData>),\n            resources: mockResources,\n            // @ts-ignore\n            renderView: jest.fn(props => <div props={props} />)\n        };\n    });\n\n    it('renders correctly', () => {\n        const orderTemplate = mount(<OrderTemplateLines {...moduleProps} />);\n        expect(moduleProps.renderView).toBeCalled();\n        const viewProps = orderTemplate.childAt(0).props().props;\n        expect(viewProps.status).toBe('SUCCESS');\n    });\n\n    it('Successful - remove item', async () => {\n        // @ts-ignore\n        RetailActions.removeProductListLinesAsync = jest.fn().mockImplementation(() => Promise.resolve(null));\n\n        const orderTemplate = mount(<OrderTemplateLines {...moduleProps} />);\n        orderTemplate.setState({\n            productSelection: moduleProps.data.orderTemplate.result?.orderTemplateLines as IOrderTemplateLineViewModel[]\n        });\n        expect(moduleProps.renderView).toBeCalled();\n        const viewProps = orderTemplate.childAt(0).props().props;\n        expect(viewProps.orderLines).toBeDefined();\n\n        const product = viewProps.orderLines[0];\n        expect(product.removeButton).toBeDefined();\n    });\n\n    it('renders failure message correctly', () => {\n        moduleProps = {\n            ...(buildMockModuleProps(mockDataFailedResponse, mockActions, mockConfig, mockContext) as IOrderTemplateProps<\n                IOrderTemplateData\n            >),\n            resources: mockResources,\n            // @ts-ignore\n            renderView: jest.fn(props => <div props={props} />)\n        };\n        const orderTemplate = mount(<OrderTemplateLines {...moduleProps} />);\n        expect(moduleProps.renderView).toBeCalled();\n        const viewProps = orderTemplate.childAt(0).props().props;\n        expect(viewProps.status).toBe('FAILED');\n        expect(viewProps.statusMessage).toMatchSnapshot();\n    });\n\n    it('renders empty message correctly', () => {\n        mockData.orderTemplate = wrapInResolvedAsyncResult(mockEmptyOrderTemplate);\n        moduleProps = {\n            ...(buildMockModuleProps(mockData, mockActions, mockConfig, mockContext) as IOrderTemplateProps<IOrderTemplateData>),\n            resources: mockResources,\n            // @ts-ignore\n            renderView: jest.fn(props => <div props={props} />)\n        };\n\n        const orderTemplate = mount(<OrderTemplateLines {...moduleProps} />);\n        expect(moduleProps.renderView).toBeCalled();\n        const viewProps = orderTemplate.childAt(0).props().props;\n        expect(viewProps.status).toBe('EMPTY');\n        expect(viewProps.statusMessage).toMatchSnapshot();\n    });\n\n    it('renders loading  message correctly', () => {\n        mockData.cart.status = 'LOADING';\n        moduleProps = {\n            ...(buildMockModuleProps(mockData, mockActions, mockConfig, mockContext) as IOrderTemplateProps<IOrderTemplateData>),\n            resources: mockResources,\n            // @ts-ignore\n            renderView: jest.fn(props => <div props={props} />)\n        };\n\n        const orderTemplate = mount(<OrderTemplateLines {...moduleProps} />);\n        expect(moduleProps.renderView).toBeCalled();\n        const viewProps = orderTemplate.childAt(0).props().props;\n        expect(viewProps.status).toBe('LOADING');\n        expect(viewProps.statusMessage).toMatchSnapshot();\n    });\n});\n"]}