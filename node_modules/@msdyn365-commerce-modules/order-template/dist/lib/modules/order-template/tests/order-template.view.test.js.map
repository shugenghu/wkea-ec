{"version":3,"file":"order-template.view.test.js","sourceRoot":"./src/","sources":["modules/order-template/tests/order-template.view.test.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { buildHydratedMockActionContext, buildMockModuleProps } from '@msdyn365-commerce/core';\nimport { render } from 'enzyme';\nimport * as React from 'react';\n\nimport { IOrderTemplateActionsViewProps, IOrderTemplateLineViewProps, OrderTemplateBulkActions } from '../components';\nimport { IOrderTemplateLinesCallbacks, IOrderTemplateViewProps } from '../order-template';\nimport { IOrderTemplateResources } from '../order-template.props.autogenerated';\nimport OrderTemplateLinesView from '../order-template.view';\n\nconst mockActionContext = buildHydratedMockActionContext();\n// @ts-ignore partial mock\nconst mockContext: ICoreContext<{}> = {\n    actionContext: mockActionContext,\n    request: {},\n    app: {\n        config: {\n            maxQuantityForCartLineItem: 10\n        }\n    }\n};\n\nconst mockOrderAction: IOrderTemplateActionsViewProps = {\n    addTemplateToBag: <div>Add to Template</div>,\n    renameTemplate: <div>Rename Template</div>,\n    removeTemplate: <div>Remove Template</div>\n};\n\nconst mockResources: IOrderTemplateResources = {\n    emptyOrderTemplateLinesText: 'Your order template lines is empty.',\n    priceFree: 'Free',\n    cancelBtnLabel: 'Cancel',\n    orderTemplateTitle: 'orderTemplateTitle',\n    renameOrderTemplateButtonText: 'Rename',\n    renameOrderTemplateTitleText: 'Rename order template',\n    renameTemplateButtonText: 'Rename template',\n    removeItemFromOrderTemplateButtonText: 'Remove from order template',\n    addOrderTemplateItemToBagButtonText: 'Add to bag',\n    addSelectedToBagButtonText: 'Add Selected to bag',\n    removeSelectedToBagButtonText: 'Remove Selected',\n    waitingClass: 'waiting waiting-circular waiting-lg',\n    addedToCartSuccessMessage: 'Added to your cart',\n    addedToCartFailureMessage: 'Add to cart failed. Please refresh and retry',\n    maxQuantityLimitText: 'You can only add {quantity} of this item to your shopping bag',\n    originalPriceText: 'Original price',\n    currentPriceText: 'Current price',\n    productDimensionTypeColor: 'Color',\n    productDimensionTypeSize: 'Size',\n    productDimensionTypeStyle: 'Style',\n    productDimensionTypeConfiguration: 'Configuration',\n    errorGettingOrderTemplateLines: 'Sorry we are unable to load your order template lines at this moment, please try again later.',\n    productNumberText: 'Product number',\n    productText: 'Product',\n    productUnitPriceText: 'Unit price',\n    productUOMText: 'UOM',\n    productQuantityText: 'Quantity',\n    productActionsText: 'Actions',\n    addTemplateToBagButtonText: 'Add template to bag',\n    deleteTemplateButtonText: 'Delete template',\n    inputQuantityAriaLabel: 'quantity input',\n    decrementButtonAriaLabel: 'Press to decrease the quantity by 1',\n    incrementButtonAriaLabel: 'Press to increment quantity by 1',\n    addToCartFailureMessage: 'Add to cart failed. Please refresh and retry',\n    addToCartSuccessMessage: 'Order template successfully added to cart',\n    addToCartProcessMessage: 'Adding to cart',\n    removeSelectedSuccessMessage: 'Selected lines successfully removed to cart',\n    removeSelectedFailureMessage: 'Failed to remove selected lines, please try again',\n    closeWindowButtonText: 'Close',\n    deleteOrderTemplateFailedText: 'Failed to delete order template',\n    flipperNext: 'flipperNext',\n    flipperPrevious: 'flipperPrevious',\n    paginationAriaLabel: 'paginationAriaLabel',\n    viewCartButtonText: 'viewCartButtonText',\n    orderTemplateCloseButtonText: 'orderTemplateCloseButtonText',\n    linesAddedToCartHeaderItemsOneText: 'linesAddedToCartHeaderItemsOneText',\n    linesAddedToCartHeaderLinesOneText: 'linesAddedToCartHeaderLinesOneText',\n    linesAddedToCartHeaderLinesFormatText: 'linesAddedToCartHeaderLinesFormatText',\n    linesAddedToCartHeaderMessageText: 'linesAddedToCartHeaderMessageText',\n    itemAddedToCartHeaderItemOneText: 'itemAddedToCartHeaderItemOneText',\n    itemAddedToCartHeaderItemFormatText: 'itemAddedToCartHeaderItemFormatText',\n    itemAddedToCartHeaderMessageText: 'itemAddedToCartHeaderMessageText',\n    freePriceText: 'freePriceText',\n    addLineModalLinkText: 'Add a Line',\n    addItemToTemplateText: 'Add to Template',\n    selectProductButtonText: 'Select',\n    backButtonText: 'Back to Products',\n    searchModalPlaceholderText: 'Enter product search query',\n    quantitySelectLabel: 'Quantity',\n    notFoundSearchErrorNotice: 'No items found.',\n    notFoundSearchErrorRedediation: 'Try entering a different keyword.',\n    searchErrorMessage: 'Search Error',\n    addLineProductUnitPricePrefix: 'Unit Price:',\n    addLineProductUnitOfMeasurePrefix: 'UOM',\n    searchButtonAriaLabel: 'Submit search',\n    searchInputAriaLabel: 'Search query',\n    searchResultsCountVerbage: 'We found $count $subject based on your search.',// @TODO figure out how to reliably test this count\n    searchResultsCountSubject: 'product',\n    addToTemplateConfirmation: '10 pair of sunglasses, green, regular have been added to template.',\n    totalPriceLabel: 'Total',\n    defaultOrderTemplateName: 'Untitled',\n    progressNotificationText: 'Loading...',\n    addToTemplateError: 'Error adding this product to this template.'\n};\n\nconst mockOrderTemplateLines: IOrderTemplateLineViewProps[] = [\n    {\n        key: 'index1',\n        productImage: <div>Product Image</div>,\n        productListId: 'index1',\n        productPrice: <div>Product Price</div>,\n        addToBagButton: <div>Add to Cart Button</div>,\n        removeButton: <div>Remove Button</div>,\n        productName: 'Product Name',\n        productNumber: <div>Product Number</div>,\n        productInfo: <div>Product Info</div>,\n        productLabel: <div>Product Label</div>,\n        productUnitOfMeasure: <div>Product Unit Of Measure</div>,\n        productQuantity: 1,\n        productQuantityView: <div>Product Quantity View</div>,\n        selectLine: <input/>\n    },\n    {\n        key: 'index2',\n        productImage: <div>Product Image</div>,\n        productListId: 'index12',\n        productPrice: <div>Product Price</div>,\n        addToBagButton: <div>Add to Cart Button</div>,\n        removeButton: <div>Remove Button</div>,\n        productName: 'Product Name',\n        productNumber: <div>Product Number</div>,\n        productInfo: <div>Product Info</div>,\n        productLabel: <div>Product Label</div>,\n        productUnitOfMeasure: <div>Product Unit Of Measure</div>,\n        productQuantity: 1,\n        productQuantityView: <div>Product Quantity View</div>,\n        selectLine: <input/>\n    }\n];\n\nconst mockOrderLinesCallbacks: IOrderTemplateLinesCallbacks = {\n    updateQuantity: jest.fn()\n};\n\ndescribe('OrderTemplate', () => {\n    it('renders correctly', () => {\n        const moduleProps: IOrderTemplateViewProps = buildMockModuleProps({}, {}) as IOrderTemplateViewProps;\n\n        const mockProps: IOrderTemplateViewProps = {\n            ...moduleProps,\n            OrderTemplateLines: {\n                moduleProps: moduleProps,\n                className: 'ms-order-template'\n            },\n            resources: mockResources,\n            status: 'SUCCESS',\n            productsStatusMessage: <div>Message</div>,\n            heading: <div className={'ms-order-template__heading'}>Heading </div>,\n            OrderTemplateActions: {\n                className: 'ms-order-template-action-bar',\n                tag: 'div'\n            },\n            ProductsTable: {\n                className: 'ms-order-template__table',\n                tag: 'table'\n            },\n            ProductsTableRow: {\n                className: 'ms-order-template-table-line',\n                tag: 'tr'\n            },\n            ProductsTableHeading: <div>Table Heading</div>,\n            ProductDetails: {\n                className: 'ms-order-template-table-line__link',\n                tag: 'a'\n            },\n            orderLines: mockOrderTemplateLines,\n            callbacks: mockOrderLinesCallbacks,\n            orderActions: mockOrderAction,\n            bulkOrderLineActions: OrderTemplateBulkActions({\n                ...moduleProps,\n                resources: mockResources,\n                orderTemplateId: '1',\n                onAddSelectionToBag: jest.fn(),\n                onRemoveSelection: jest.fn()\n            })\n        };\n\n        const component = render(<OrderTemplateLinesView {...mockProps} />);\n        expect(component).toMatchSnapshot();\n    });\n\n    it('View renders status message correctly', () => {\n        const moduleProps: IOrderTemplateViewProps = buildMockModuleProps({}, {}) as IOrderTemplateViewProps;\n\n        const mockProps: IOrderTemplateViewProps = {\n            ...moduleProps,\n            OrderTemplateLines: {\n                moduleProps: moduleProps,\n                className: 'ms-order-template'\n            },\n            resources: mockResources,\n            status: 'LOADING',\n            statusMessage: <p>Waiting</p>,\n            productsStatusMessage: <div>Message</div>,\n            heading: <div className={'ms-order-template__heading'}>Heading </div>,\n            OrderTemplateActions: {\n                className: 'ms-order-template-action-bar',\n                tag: 'div'\n            },\n            ProductsTable: {\n                className: 'ms-order-template__table',\n                tag: 'table'\n            },\n            ProductsTableRow: {\n                className: 'ms-order-template-table-line',\n                tag: 'tr'\n            },\n            ProductsTableHeading: <div>Table Heading</div>,\n            ProductDetails: {\n                className: 'ms-order-template-table-line__link',\n                tag: 'a'\n            },\n            orderLines: mockOrderTemplateLines,\n            callbacks: mockOrderLinesCallbacks,\n            orderActions: mockOrderAction\n        };\n\n        const component = render(<OrderTemplateLinesView {...mockProps} />);\n        expect(component).toMatchSnapshot();\n    });\n});\n"]}