{"version":3,"file":"integration.test.js","sourceRoot":"./src/","sources":["modules/promo-banner/__tests__/integration.test.tsx"],"names":[],"mappings":"AAKA,OAAO,EAAE,oBAAoB,EAAE,MAAM,yBAAyB,CAAC;AAC/D,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEvC,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,iBAAiB,MAAM,iBAAiB,CAAC;AAEhD,OAAO,eAAe,MAAM,sBAAsB,CAAC;AAEnD,MAAM,aAAa,GAAG;IAClB,oBAAoB,EAAE,oBAAoB;IAC1C,gBAAgB,EAAE,OAAO;CAC5B,CAAC;AAEF,MAAM,SAAS,GAAe;IAC1B,QAAQ,EAAE,mBAAmB;IAC7B,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;KACrC;IACD,SAAS,EAAE,sBAAsB;CACpC,CAAC;AAEF,MAAM,SAAS,GAAe;IAC1B,QAAQ,EAAE,mBAAmB;IAC7B,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;KACrC;IACD,SAAS,EAAE,sBAAsB;CACpC,CAAC;AAEF,MAAM,SAAS,GAAiB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AAEvD,MAAM,UAAU,GAAuB;IACnC,cAAc,EAAE,IAAI;IACpB,cAAc,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC;CACtD,CAAC;AAEF,QAAQ,CAAC,+BAA+B,EAAE,GAAG,EAAE;IAC3C,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;QACzB,MAAM,WAAW,GAA0B;YACvC,GAAI,oBAAoB,CAAC,EAAE,EAAE,EAAE,EAAE,UAAU,CAA2B;YACtE,SAAS,EAAE,aAAa;YAExB,UAAU,EAAE,eAAe;SAC9B,CAAC;QACF,MAAM,SAAS,GAAG,MAAM,CAAC,oBAAC,iBAAiB,oBAAK,WAAW,EAAI,CAAC,CAAC;QACjE,MAAM,CAAC,SAAS,CAAC,CAAC,eAAe,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uCAAuC,EAAE,GAAG,EAAE;QAC7C,MAAM,WAAW,GAA0B;YACvC,GAAI,oBAAoB,CAAC,EAAE,EAAE,EAAE,EAAE,UAAU,CAA2B;YACtE,SAAS,EAAE,aAAa;YAExB,UAAU,EAAE,eAAe;SAC9B,CAAC;QACF,MAAM,SAAS,GAAG,KAAK,CAAC,oBAAC,iBAAiB,oBAAK,WAAW,EAAI,CAAC,CAAC;QAGhE,MAAM,WAAW,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAGnD,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAG9B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAEvD,SAAS,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { buildMockModuleProps } from '@msdyn365-commerce/core';\nimport { mount, render } from 'enzyme';\n// tslint:disable-next-line:no-unused-variable\nimport * as React from 'react';\nimport PromoBannerModule from '../promo-banner';\nimport { ILinksData, IPromoBannerConfig, IPromoBannerProps } from '../promo-banner.props.autogenerated';\nimport PromoBannerView from '../promo-banner.view';\n\nconst mockResources = {\n    closeButtonAriaLabel: 'Close promo-banner',\n    closeButtonLabel: 'Close'\n};\n\nconst mockLink1: ILinksData = {\n    linkText: 'Mock link 1 title',\n    linkUrl: {\n        destinationUrl: 'Mock link 1 href'\n    },\n    ariaLabel: 'Mock link 1 alt text'\n};\n\nconst mockLink2: ILinksData = {\n    linkText: 'Mock link 2 title',\n    linkUrl: {\n        destinationUrl: 'Mock link 2 href'\n    },\n    ariaLabel: 'Mock link 2 alt text'\n};\n\nconst mockLinks: ILinksData[] = [mockLink1, mockLink2];\n\nconst mockConfig: IPromoBannerConfig = {\n    dismissEnabled: true,\n    bannerMessages: [{ text: 'text', links: mockLinks}]\n};\n\ndescribe('PromoBanner integration tests', () => {\n    it('renders correctly', () => {\n        const moduleProps: IPromoBannerProps<{}> = {\n            ...(buildMockModuleProps({}, {}, mockConfig) as IPromoBannerProps<{}>),\n            resources: mockResources,\n            // @ts-ignore\n            renderView: PromoBannerView\n        };\n        const component = render(<PromoBannerModule {...moduleProps} />);\n        expect(component).toMatchSnapshot();\n    });\n\n    it('hides after clicking the close button', () => {\n        const moduleProps: IPromoBannerProps<{}> = {\n            ...(buildMockModuleProps({}, {}, mockConfig) as IPromoBannerProps<{}>),\n            resources: mockResources,\n            // @ts-ignore\n            renderView: PromoBannerView\n        };\n        const component = mount(<PromoBannerModule {...moduleProps} />);\n\n        // Find the close button\n        const closeButton = component.find('button').at(0);\n\n        // Simulate click close button\n        closeButton.simulate('click');\n\n        // It hides the module\n        expect(component.find('.promo-banner').length).toBe(0);\n\n        component.unmount();\n    });\n});\n"]}