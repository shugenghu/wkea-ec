{"version":3,"file":"links.js","sourceRoot":"./src/","sources":["modules/promo-banner/components/links.tsx"],"names":[],"mappings":"AAIA,OAAO,EAAE,gBAAgB,EAAE,sBAAsB,EAAqB,gBAAgB,EAAE,MAAM,sCAAsC,CAAC;AACrI,OAAO,KAAK,QAAQ,MAAM,yBAAyB,CAAC;AACpD,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAU/B,MAAM,CAAC,MAAM,gBAAgB,GAAgC,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,YAAY,EAAE,gBAAgB,EAAE,EAAE,EAAE;IACvH,MAAM,aAAa,GAAG,iBAAiB,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;IACjE,OAAM,CACF,8BAAM,SAAS,EAAC,wBAAwB,IACnC,aAAa,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;QACpC,oBAAC,QAAQ,CAAC,KAAK,IACX,KAAK,EAAG,aAAa,EACrB,SAAS,EAAE,EAAC,YAAY,EAAE,YAAY,EAAE,cAAc,EAAE,cAAc,EAAC,GACzE;QACF,CAAC,CAAC,IAAI,CAEX,CACN,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,iBAAiB,GAAG,CAAC,QAAsB,EAAE,gBAAmC,EAAgC,EAAE;IACpH,IAAG,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;QACnC,OAAO,IAAI,CAAC;KACf;IACD,MAAM,aAAa,GAA0B,EAAE,CAAC;IAChD,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,EAAC,KAAK,EAAE,EAAE;QAE5B,MAAM,OAAO,GAAG,gBAAgB,CAAC,OAAO,EAAE,gBAAgB,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACpE,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;QACpD,OAAO,CAAC,aAAa,CAAC,KAAK,GAAG,QAAQ,CAAC;QACvC,MAAM,UAAU,GAAG,sBAAsB,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;QACrE,MAAM,YAAY,GAAwB;YACtC,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,uBAAuB;YAClC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc;YACpC,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,IAAI,EAAE,QAAQ;YACd,oBAAoB,EAAE,UAAU;YAChC,OAAO,EAAE,gBAAgB,CAAC,gBAAgB,EAAE,OAAO,EAAE,QAAQ,CAAC;SACjE,CAAC;QACF,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACrC,CAAC,CAAC,CAAC;IAEH,OAAO,aAAa,CAAC;AACzB,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport * as React from 'react';\nimport { ILinksData } from '../promo-banner.props.autogenerated';\n\nexport interface IPromoBannerLinks {\n    links: ILinksData[];\n    requestContext: Msdyn365.IRequestContext;\n    telemetryContent: ITelemetryContent;\n    onTextChange?(index: number): (event: Msdyn365.ContentEditableEvent) => void;\n}\n\nexport const PromoBannerLinks: React.FC<IPromoBannerLinks> = ({ links, requestContext, onTextChange, telemetryContent }) => {\n    const editableLinks = _mapEditableLinks(links, telemetryContent);\n    return(\n        <span className='ms-promo-banner__links'>\n            {editableLinks && editableLinks.length ?\n                <Msdyn365.Links\n                    links= {editableLinks}\n                    editProps={{onTextChange: onTextChange, requestContext: requestContext}}\n                />\n                : null\n            }\n    </span>\n    );\n};\n\nconst _mapEditableLinks = (linkdata: ILinksData[], telemetryContent: ITelemetryContent): Msdyn365.ILinksData[] | null => {\n    if(!linkdata || linkdata.length === 0) {\n        return null;\n    }\n    const editableLinks: Msdyn365.ILinksData[] = [];\n    linkdata.forEach((link,index) => {\n        // Construct telemetry attribute to render\n        const payLoad = getPayloadObject('click', telemetryContent, '', '');\n        const linkText = link.linkText ? link.linkText : '';\n        payLoad.contentAction.etext = linkText;\n        const attributes = getTelemetryAttributes(telemetryContent, payLoad);\n        const editableLink: Msdyn365.ILinksData = {\n            ariaLabel: link.ariaLabel,\n            className: 'ms-promo-banner__link',\n            linkText: link.linkText,\n            linkUrl: link.linkUrl.destinationUrl,\n            openInNewTab: link.openInNewTab,\n            role: 'button',\n            additionalProperties: attributes,\n            onClick: onTelemetryClick(telemetryContent, payLoad, linkText)\n        };\n        editableLinks.push(editableLink);\n    });\n\n    return editableLinks;\n};\n"]}