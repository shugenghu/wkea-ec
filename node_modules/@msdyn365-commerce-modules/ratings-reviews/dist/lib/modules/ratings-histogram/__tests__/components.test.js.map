{"version":3,"file":"components.test.js","sourceRoot":"./src/","sources":["modules/ratings-histogram/__tests__/components.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Node } from '@msdyn365-commerce-modules/utilities';\nimport { RatingsSummary } from '@msdyn365-commerce/commerce-entities';\nimport { mount, render} from 'enzyme';\nimport * as React from 'react';\nimport {HistogramItems, IHistogramItemsProps, IHistogramItemsResources } from '../component/components';\n\ndescribe('Ratings histogram items', () => {\n    let ratingsSummary: RatingsSummary;\n    let props: IHistogramItemsProps;\n    const onClick = jest.fn();\n    const locale= 'en-us';\n    const resources: IHistogramItemsResources = {\n        barItemAriaLabel: '{0} stars, {1}% of users gave {0} stars'\n    };\n\n    beforeEach(() => {\n        ratingsSummary= {\n            tenantId: 'ATenant',\n            productId: '1234',\n            market: 'US',\n            averageRating: 3.5,\n            totalRatingsCount: 200,\n            reviewsCount: 2,\n            star5Count: 50,\n            star4Count: 45,\n            star3Count: 5,\n            star2Count: 10,\n            star1Count: 90,\n            star5ReviewCount: 1,\n            star4ReviewCount: 0,\n            star3ReviewCount: 0,\n            star2ReviewCount: 0,\n            star1ReviewCount: 1\n        };\n\n        props = {\n            ratingsSummary: ratingsSummary,\n            locale: locale,\n            resources: resources,\n            onClick: onClick\n        };\n    });\n\n    it('Standard histogram', () => {\n        const items = HistogramItems(props);\n        for (const item of items) {\n            expect(render(item.starLabel)).toMatchSnapshot();\n            expect(render(item.bar)).toMatchSnapshot();\n            expect(render(item.percentage)).toMatchSnapshot();\n            expect(item.buttonProps.className).toBe('ms-ratings-histogram__item');\n        }\n    });\n\n    it('Empty histogram', () => {\n        ratingsSummary = {\n            tenantId: 'ATenant',\n            productId: '1234',\n            market: 'US',\n            averageRating: 0,\n            totalRatingsCount: 0,\n            reviewsCount: 0,\n            star5Count: 0,\n            star4Count: 0,\n            star3Count: 0,\n            star2Count: 0,\n            star1Count: 0,\n            star5ReviewCount: 0,\n            star4ReviewCount: 0,\n            star3ReviewCount: 0,\n            star2ReviewCount: 0,\n            star1ReviewCount: 0\n        };\n\n        props = {\n            ratingsSummary: ratingsSummary,\n            locale: locale,\n            resources: resources,\n            onClick: onClick\n        };\n\n        const items = HistogramItems(props);\n        for (const item of items) {\n            expect(render(item.starLabel)).toMatchSnapshot();\n            expect(render(item.bar)).toMatchSnapshot();\n            expect(render(item.percentage)).toMatchSnapshot();\n            expect(item.buttonProps.className).toBe('ms-ratings-histogram__item');\n        }\n    });\n\n    it('calls the onclick when the button is clicked', ()=> {\n        const items = HistogramItems(props);\n        const item = items[1];\n        const button = mount(<Node {...item.buttonProps}/>);\n        button.simulate('click');\n        expect(onClick).toHaveBeenCalledWith(4);\n    });\n});"]}