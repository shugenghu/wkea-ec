{"version":3,"file":"cart.js","sourceRoot":"./src/","sources":["modules/cart/cart.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IOrderSummaryLines, OrderSummary } from '@msdyn365-commerce-modules/order-summary-utilities';\nimport { Alert, Button, getPayloadObject, getTelemetryAttributes, getTelemetryObject, INodeProps, IPayLoad, ITelemetryContent, TelemetryConstant, Waiting } from '@msdyn365-commerce-modules/utilities';\nimport {\n    IAddToOrderTemplateDialogResources, IDuplicateItemsWhenAddingToOrderTemplateDialogResources,\n    IItemAddedToOrderTemplateDialogResources, ILinesAddedToOrderTemplateDialogResources, IOrderTemplateNameDialogResources,\n    IWishlistActionSuccessResult, PromoCodeComponent, SaveCartToOrderTemplateComponent } from '@msdyn365-commerce/components';\nimport MsDyn365, { getUrlSync, IImageSettings } from '@msdyn365-commerce/core';\nimport { ICartState } from '@msdyn365-commerce/global-state';\nimport { CartLine } from '@msdyn365-commerce/retail-proxy';\nimport { ReleasedProductType } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react';\nimport React from 'react';\nimport { ICartData } from './cart.data';\nimport { ICartProps, ICartResources } from './cart.props.autogenerated';\nimport { CartLineItems, ICartlinesViewProps } from './components/cart-line-items';\n\nexport interface ICartViewProps extends ICartProps<ICartData> {\n    className: string;\n    title?: React.ReactNode;\n    CartlinesWrapper: INodeProps;\n    cartlines?: ICartlinesViewProps[];\n    cart: ICartState | undefined;\n    orderSummaryHeading: React.ReactNode;\n    orderSummaryLineitems?: IOrderSummaryLines;\n    OrderSummaryWrapper: INodeProps;\n    OrderSummaryItems: INodeProps;\n    OrderSummaryErrors?: IOrderSummaryErrors;\n    checkoutAsGuestButton: React.ReactNode;\n    checkoutAsSignInUserButton: React.ReactNode;\n    storeSelector?: React.ReactNode;\n    backToShoppingButton: React.ReactNode;\n    waitingComponent: React.ReactNode;\n    promoCode: React.ReactNode;\n    cartLoadingStatus: string;\n    cartDataResult: boolean;\n    createTemplateFromCartButton: React.ReactNode;\n    telemetryContent?: ITelemetryContent;\n    removeItemClickHandler(cartlineToRemove: CartLine): void;\n    moveToWishlistSuccessHandler(result: IWishlistActionSuccessResult, cartlineId: CartLine): void;\n}\n\nexport interface IOrderSummaryErrors {\n    Wrapper: INodeProps;\n\n    header: React.ReactNode;\n    errors: React.ReactNode[];\n}\n\n/**\n *\n * Cart component\n * @extends {React.PureComponent<ICartProps<ICartData>>}\n */\n@observer\nclass Cart extends React.Component<ICartProps<ICartData>> {\n    private telemetryContent: ITelemetryContent;\n    private payLoad: IPayLoad;\n\n    constructor(props: ICartProps<ICartData>) {\n        super(props);\n        this.telemetryContent = getTelemetryObject(this.props.context.request.telemetryPageName!,\n                                                   this.props.friendlyName,\n                                                   this.props.telemetry);\n        this.payLoad = getPayloadObject('click', this.telemetryContent, '');\n    }\n\n    public render(): JSX.Element | null {\n        const {\n            data: {\n                cart: { result: cart }\n            },\n            context: {\n                request: {\n                    user: {\n                        isAuthenticated,\n                        signInUrl\n                    }\n                }\n            },\n            resources\n        } = this.props;\n\n        const guestCheckoutUrl = getUrlSync('checkout', this.props.context.actionContext) || '';\n        const backToShoppingUrl = getUrlSync('home', this.props.context.actionContext) || '';\n        const checkoutURL = this._getCheckoutURL(isAuthenticated, guestCheckoutUrl, signInUrl || '');\n        const isCartEmpty = cart && cart.cart.CartLines && cart.cart.CartLines.length === 0;\n        const cartLines = this._getCartLines();\n\n        this.payLoad.contentAction.etext = TelemetryConstant.Checkout;\n        const checkoutBySignInAttributes = getTelemetryAttributes(this.telemetryContent, this.payLoad);\n\n        this.payLoad.contentAction.etext = TelemetryConstant.GuestCheckout;\n        const checkoutByGuestAttributes = getTelemetryAttributes(this.telemetryContent, this.payLoad);\n\n        this.payLoad.contentAction.etext = TelemetryConstant.BackToShopping;\n        const backtoShoppingAttributes = getTelemetryAttributes(this.telemetryContent, this.payLoad);\n\n        const hasErrors = cartLines ? cartLines.some(cartline => cartline.error !== undefined) : false;\n\n        const viewProps = {\n            ...this.props,\n            className: classnames('ms-cart'),\n            title: <h1 className={'msc-cart__heading'}>{resources.cartTitle}</h1>,\n            CartlinesWrapper: { className: 'msc-cartline-wraper' },\n            OrderSummaryWrapper: { className: 'msc-order-summary-wrapper' },\n            OrderSummaryItems: { className: 'msc-order-summary__items' },\n            cartlines: cartLines,\n            promoCode: this._getPromoCode(),\n            cart: this.props.data.cart.result,\n            context: this.props.context,\n            typeName: this.props.typeName,\n            telemetry: this.props.telemetry,\n            id: this.props.id,\n            removePromoAriaLabelFormat: resources.removePromoAriaLabelFormat,\n            orderSummaryHeading: this.props.data.products && this.props.data.products.result && cart && cart.cart.CartLines && cart.cart.CartLines.length > 0 ?\n                (\n                    <h2 className={'msc-order-summary__heading'}>{resources.orderSummaryTitle}</h2>\n                ) : null,\n            orderSummaryLineitems: this._getOrderSummaryLineItems(),\n            checkoutAsSignInUserButton: (!isCartEmpty) ?\n                (\n                    <Button disabled={hasErrors} className={'msc-cart__btn-checkout'} href={checkoutURL} title={resources.checkoutButtonTitle}{...checkoutBySignInAttributes} >{resources.checkoutButtonTitle}</Button>\n                ) : null,\n            checkoutAsGuestButton: (!isCartEmpty && !isAuthenticated) ?\n                (\n                    <Button disabled={hasErrors} className={'msc-cart__btn-guestcheckout'} href={guestCheckoutUrl} title={resources.guestCheckoutButtonTitle}{...checkoutByGuestAttributes}>{resources.guestCheckoutButtonTitle}</Button>\n                ) : null,\n            backToShoppingButton: <Button className={'msc-cart__btn-backtoshopping'} {...backtoShoppingAttributes} href={backToShoppingUrl} title={resources.backToShoppingButtonTitle}>{resources.backToShoppingButtonTitle}</Button>,\n            createTemplateFromCartButton: (this._displayAddCartToTemplate()) ?\n                (\n                    <SaveCartToOrderTemplateComponent\n                        addToOrderTemplateDialogResources={this._generateAddToOrderTemplateDialogResources(resources)}\n                        createOrderTemplateDialogResources={this._generateOrderTemplateNameDialogResources(resources)}\n                        linesAddedToOrderTemplateDialogResources={this._generateLinesAddedToOrderTemplateDialogResources(resources)}\n                        createOrderTemplateFromCartButton={resources.createOrderTemplateFromCartButton}\n                        context={this.props.context}\n                        id={this.props.id}\n                        typeName={this.props.typeName}\n                        data={{\n                            orderTemplates: this.props.data.orderTemplates.result!,\n                            cartLines: this.props.data.cart.result!.cart.CartLines!,\n                            customerInformation: this.props.data.customerInformation.result\n                        }}\n                    />\n                ) : null,\n            storeSelector: this.props.slots.storeSelector && this.props.slots.storeSelector.length > 0 ? this.props.slots.storeSelector[0] : null,\n            removeItemClickHandler: this._removeItemFromCartHandler,\n            moveToWishlistSuccessHandler: this._moveToWishlistSuccessHandler,\n            waitingComponent: <Waiting className='msc-waiting-circular msc-waiting-lg' />,\n            cartLoadingStatus: this.props.data.cart.status === 'FAILED' ? this.props.resources.cartLoadingErrorMessage : null,\n            cartDataResult: this.props.data.cart.result && this.props.data.cart.result.isEmpty,\n            OrderSummaryErrors: this._getOrderSummaryErrors(cartLines),\n            telemetryContent: this.telemetryContent\n        };\n\n        return this.props.renderView(viewProps) as React.ReactElement;\n    }\n\n    private _displayAddCartToTemplate(): boolean {\n        const RetailB2BEcommerceFeatureState = this.props.data.featureState.result?.find(featureState => featureState.Name === 'Dynamics.AX.Application.RetailB2BEcommerceFeature');\n        if (RetailB2BEcommerceFeatureState?.IsEnabled && this.props.data.customerInformation.result?.IsB2b && this.props.data.orderTemplates.result &&\n            this.props.data.cart.result?.cart?.CartLines?.length && this.props.data.cart.result.cart.CartLines.length > 0 &&\n            this.props.data.customerInformation.result) {\n            return true;\n        }\n\n        return false;\n    }\n\n    private _getOrderSummaryErrors(cartLines: ICartlinesViewProps[] | null): IOrderSummaryErrors | undefined {\n        const allErrors = cartLines && cartLines.map(cartline => {\n\n            // check if the product is service or not by product type\n            const PRODUCTASSERVICE = 2 as ReleasedProductType.Service;\n            const isServiceItem = cartline.data?.product.ItemTypeValue === PRODUCTASSERVICE;\n\n            if (!isServiceItem && cartline.error) {\n                const fullError = (cartline.data && cartline.data.product.Name) ? `${cartline.data.product.Name}: ${cartline.error}` : cartline.error;\n\n                return (\n                    <div className='msc-alert__line'>{fullError}</div>\n                );\n            }\n\n            return null;\n        }).filter((line): line is JSX.Element => !!line) || [];\n\n        return {\n            Wrapper: {\n                tag: Alert,\n                className: 'msc-alert',\n                isOpen: allErrors.length > 0,\n                color: 'danger',\n                assertive: true,\n                'aria-label': this.props.resources.outOfStockErrorMessageHeader\n            },\n            header: (\n                <div className='msc-alert__header' aria-hidden='true'>\n                    <span className='msi-exclamation-triangle' />\n                    <span>{this.props.resources.outOfStockErrorMessageHeader}</span>\n                </div>\n            ),\n            errors: allErrors\n        };\n    }\n\n    private _getOrderSummaryLineItems(): IOrderSummaryLines | undefined {\n        const {\n            data: {\n                cart: { result: cart }\n            },\n            telemetry,\n            resources\n        } = this.props;\n\n        const channelConfiguration = this.props.context && this.props.context.request && this.props.context.request.channel;\n\n        return cart && cart.cart && channelConfiguration && cart.cart.CartLines && cart.cart.CartLines.length > 0 ?\n            (\n                OrderSummary({\n                    cart: cart.cart,\n                    subTotalLabel: resources.itemsWithCountLabel,\n                    shippingLabel: resources.estimatedShippingLabel,\n                    otherChargeLabel: resources.otherCharges,\n                    taxLabel: resources.estimatedTaxLabel,\n                    orderTotalLabel: resources.orderTotal,\n                    totalDiscountsLabel: resources.totalDiscountsLabel,\n                    context: this.props.context,\n                    typeName: this.props.typeName,\n                    id: this.props.id,\n                    toBeCalculatedText: resources.yetToBeCalculatedText,\n                    freeText: resources.priceFree,\n                    channelConfiguration: channelConfiguration,\n                    telemetry: telemetry\n                })\n            ) : undefined;\n    }\n\n    private _getPromoCode(): React.ReactNode {\n        const {\n            data: {\n                cart: { result: cart }\n            },\n            resources\n        } = this.props;\n\n        return cart && (\n            <PromoCodeComponent\n                cart={cart}\n                promoCodeHeadingText={resources.promoCodeHeadingText}\n                promoPlaceholderText={resources.promoPlaceholderText}\n                promoCodeApplyButtonText={resources.promoCodeApplyButtonText}\n                appliedPromoCodeHeadingText={resources.appliedPromoCodeHeadingText}\n                collapseTimeOut={350}\n                removePromoAriaLabelFormat={resources.removePromoAriaLabelFormat}\n                removePromoText={resources.removePromoText}\n                invalidPromoCodeErrorText={resources.invalidPromoCodeErrorText}\n                failedToAddPromoCodeErrorText={resources.failedToAddPromoCodeErrorText}\n                failedToRemovePromoCodeErrorText={resources.failedToRemovePromoCodeErrorText}\n                duplicatePromoCodeErrorText={resources.duplicatePromotionErrorText}\n                context={this.props.context}\n                id={this.props.id}\n                typeName={this.props.typeName}\n                data={{}}\n                telemetryContent={this.telemetryContent}\n            />\n        );\n    }\n\n    private _generateAddToOrderTemplateDialogResources(resources: ICartResources): IAddToOrderTemplateDialogResources {\n        return {\n            addToOrderTemplateHeader: resources.addToOrderTemplateHeader,\n\n            noOrderTemplatesMessage: resources.noOrderTemplatesMessage,\n            noOrderTemplatesDescription: resources.noOrderTemplatesDescription,\n\n            createAnOrderTemplateButtonText: resources.createAnOrderTemplateButtonText,\n            createNewOrderTemplateButtonText: resources.createNewOrderTemplateButtonText,\n            cancelOrderTemplateCreationButtonText: resources.cancelOrderTemplateCreationButtonText,\n\n            selectTemplatesText: resources.selectTemplatesText,\n            addToTemplateButtonText: resources.addToTemplateButtonText,\n            lineItemsText: resources.lineItemsText\n        };\n    }\n\n    private _generateItemAddedToOrderTemplateDialogResources(resources: ICartResources): IItemAddedToOrderTemplateDialogResources {\n        return {\n            viewOrderTemplateButtonText: resources.viewOrderTemplateButtonText,\n            continueShoppingButtonText: resources.continueShoppingButtonText,\n            itemAddedToOrderTemplateHeaderItemOneText: resources.itemAddedToOrderTemplateHeaderItemOneText,\n            itemAddedToOrderTemplateHeaderItemFormatText: resources.itemAddedToOrderTemplateHeaderItemFormatText,\n            itemAddedToOrderTemplateHeaderMessageText: resources.itemAddedToOrderTemplateHeaderMessageText,\n            freePriceText: resources.freePriceText,\n            originalPriceText: resources.originalPriceText,\n            currentPriceText: resources.currentPriceText\n        };\n    }\n\n    private _generateLinesAddedToOrderTemplateDialogResources(resources: ICartResources): ILinesAddedToOrderTemplateDialogResources {\n        return {\n            viewOrderTemplateButtonText: resources.viewOrderTemplateButtonText,\n            continueShoppingButtonText: resources.continueShoppingButtonText,\n            linesAddedToOrderTemplateHeaderItemsOneText: resources.linesAddedToOrderTemplateHeaderItemsOneText,\n            linesAddedToOrderTemplateHeaderItemsFormatText: resources.linesAddedToOrderTemplateHeaderItemsFormatText,\n            linesAddedToOrderTemplateHeaderLinesOneText: resources.linesAddedToOrderTemplateHeaderLinesOneText,\n            linesAddedToOrderTemplateHeaderLinesFormatText: resources.linesAddedToOrderTemplateHeaderLinesFormatText,\n            linesAddedToOrderTemplateHeaderMessageText: resources.linesAddedToOrderTemplateHeaderMessageText\n        };\n    }\n\n    private _generateDuplicateItemsWhenAddingToOrderTemplateDialogResources(resources: ICartResources): IDuplicateItemsWhenAddingToOrderTemplateDialogResources {\n        return {\n            duplicatedProductsHeader: resources.duplicatedProductsHeader,\n            duplicatedProductsDescription: resources.duplicatedProductsDescription,\n            updateQuantityButtonText: resources.updateQuantityButtonText,\n            cancelDuplicateItemsButtonText: resources.cancelDuplicateItemsButtonText\n        };\n    }\n\n    private _generateOrderTemplateNameDialogResources(resources: ICartResources): IOrderTemplateNameDialogResources {\n        return {\n            orderTemplateHeaderLabel: resources.createOrderTemplateHeader,\n            orderTemplateTitleLabel: resources.orderTemplateTitle,\n            orderTemplateNameAriaLabel: resources.orderTemplateNameAriaLabel,\n            orderTemplateDescription: resources.createOrderTemplateDescription,\n\n            defaultOrderTemplateName: resources.defaultOrderTemplateName,\n\n            orderTemplateButtonLabel: resources.createOrderTemplateButtonText,\n            orderTemplateCancelButtonLabel: resources.cancelNewOrderTemplateCreationButtonText\n        };\n    }\n\n    private _getCartLines(): ICartlinesViewProps[] | null {\n        const {\n            data: {\n                cart: { result: cart },\n                wishlists: { result: wishlists },\n                orderTemplates: { result: orderTemplates },\n                customerInformation: { result: customerInformation }\n            },\n            context: {\n                request: {\n                    channel: {\n                        PickupDeliveryModeCode\n                    } = { PickupDeliveryModeCode: undefined }\n                }\n            },\n            config: config,\n            telemetry,\n            resources\n        } = this.props;\n\n        const imageSettings = this._getImageSettings(config.imageSettings);\n\n        return this.props.data.products && this.props.data.products.result && cart && cart.cart.CartLines && cart.cart.CartLines.length > 0 ? (\n            CartLineItems({\n                cartlines: cart.cart.CartLines,\n                products: this.props.data.products.result,\n                productAvailabilites: this.props.data.productAvailabilites.result,\n                productDeliveryOptions: this.props.data.deliveryOptions.result,\n                imageSettings: imageSettings,\n                isStockCheckEnabled: this.props.context.app.config.enableStockCheck || false,\n                maxCartlineQuantity: this.props.context.app.config.maxQuantityForCartLineItem,\n                gridSettings: this.props.context.request.gridSettings!,\n                context: this.props.context,\n                typeName: this.props.typeName,\n                id: this.props.id,\n                resources: {\n                    sizeString: resources.productDimensionTypeSize,\n                    colorString: resources.productDimensionTypeColor,\n                    configString: resources.productDimensionTypeConfiguration,\n                    styleString: resources.productDimensionTypeStyle,\n                    quantityDisplayString: resources.quantityDisplayText,\n                    inputQuantityAriaLabel: resources.inputQuantityAriaLabel,\n                    decrementButtonAriaLabel: resources.decrementButtonAriaLabel,\n                    incrementButtonAriaLabel: resources.incrementButtonAriaLabel,\n                    discountStringText: resources.discountStringText,\n                    originalPriceText: resources.originalPriceText,\n                    currentPriceText:resources.currentPriceText,\n                    shippingChargesText:resources.shippingCharges\n                },\n                telemetry: telemetry,\n                addToWishlistButtonText: resources.addToWishlistButtonText,\n                removeFromWishlistButtonText: resources.removeFromWishlistButtonText,\n                removeButtonText: resources.removeCartButtonText,\n                shipItText: resources.shipInsteadDisplayText,\n                pickitUpText: resources.pickItUpDisplayText,\n                changeStoreText: resources.changeStoreDisplayText,\n                storeSelectorStateManager: this.props.data.storeSelectorStateManager.result,\n                outOfStockText: resources.outOfStockErrorMessage,\n                outOfRangeOneText: resources.errorMessageOutOfRangeOneLeft,\n                outOfRangeFormatText: resources.errorMessageOutOfRangeFormat,\n                cartState: this.props.data.cart.result,\n                orgUnitLocations: this.props.data.orgUnitLocations.result,\n                removeItemClickHandler: this._removeItemFromCartHandler,\n                moveToWishlistSuccessHandler: this._moveToWishlistSuccessHandler,\n                updateCartLinesQuantitySuccessHandler: this._updateCartlineQuantity,\n                wishlists: wishlists,\n                defaultWishlistName: resources.defaultWishlistName,\n                pickupDeliveryModeCode: PickupDeliveryModeCode,\n                includeErrors: config.showOutOfStockErrors,\n                showShippingChargesForLineItems: config.showShippingChargesForLineItems,\n                telemetryContent: this.telemetryContent,\n\n                addToOrderTemplateDialogResources: this._generateAddToOrderTemplateDialogResources(resources),\n                createOrderTemplateDialogResources: this._generateOrderTemplateNameDialogResources(resources),\n                itemAddedToOrderTemplateDialogResources: this._generateItemAddedToOrderTemplateDialogResources(resources),\n                duplicateItemsWhenAddingToOrderTemplateDialogResources: this._generateDuplicateItemsWhenAddingToOrderTemplateDialogResources(resources),\n\n                addToOrderTemplateButtonText: resources.addToOrderTemplateButtonText,\n                addToOrderTemplateMessage: resources.addToOrderTemplateMessage,\n                addItemToOrderTemplateError: resources.addItemToOrderTemplateError,\n                orderTemplates: orderTemplates,\n                customerInformation: customerInformation\n            })\n        ) : null;\n    }\n\n    private _getCheckoutURL(isAuthenticated: boolean, guestCheckoutUrl: string, signInUrl: string): string {\n        if (isAuthenticated) {\n            return guestCheckoutUrl;\n        }\n\n        const absoluteUrlRegExp = new RegExp('^(?:[a-z]+:)?//', 'i');\n        const isAbsoluteUrl = absoluteUrlRegExp.test(guestCheckoutUrl);\n        let returnURL = guestCheckoutUrl;\n        if (MsDyn365.isBrowser && !isAbsoluteUrl) {\n            returnURL = `${window.location.origin}${guestCheckoutUrl}`;\n        }\n\n        return `${signInUrl}${signInUrl.indexOf('?') === -1 ? '?' : '&'}ru=${returnURL}`;\n    }\n\n    private _getImageSettings = (imageSettings: IImageSettings | undefined): IImageSettings => {\n        return imageSettings || {\n            viewports: {\n                xs: { q: `w=80&h=94&m=6`, w: 0, h: 0 },\n                sm: { q: `w=148&h=174&m=6`, w: 0, h: 0 },\n                lg: { q: `w=148&h=174&m=6`, w: 0, h: 0 }\n            },\n            lazyload: true\n        };\n    }\n\n    private _removeItemFromCartHandler = (cartlineToRemove: CartLine) => {\n        if (this.props.data.cart.result) {\n            const input = {\n                cartLineIds: [cartlineToRemove.LineId!.toString()]\n            };\n            this.props.data.cart.result.removeCartLines(input)\n                .catch((error) => {\n                    this.props.telemetry.warning(error);\n                    this.props.telemetry.debug('Unable to Remove Cart Line');\n                });\n        }\n    }\n\n    private _moveToWishlistSuccessHandler = (result: IWishlistActionSuccessResult, cartline?: CartLine) => {\n        if (result.status === 'ADDED' && cartline) {\n            this._removeItemFromCartHandler(cartline);\n        }\n    }\n\n    private _updateCartlineQuantity = (cartlineToUpdate: CartLine, quantity: number) => {\n        if (this.props.data.cart.result) {\n            const input = {\n                cartLineId: cartlineToUpdate.LineId!.toString(),\n                newQuantity: quantity\n            };\n            this.props.data.cart.result.updateCartLineQuantity(input)\n                .catch((error) => {\n                    this.props.telemetry.warning(error);\n                    this.props.telemetry.debug('Unable to update Cart Line quantity');\n                });\n        }\n    }\n}\n\nexport default Cart;\n"]}