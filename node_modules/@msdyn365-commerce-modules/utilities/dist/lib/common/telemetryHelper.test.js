"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var core_1 = require("@msdyn365-commerce/core");
var TelemetryHelper = tslib_1.__importStar(require("./telemetryHelper"));
describe('TelemetryHelper.getPayloadObject test', function () {
    var moduleProps;
    var mockActions = {};
    var mockConfig = {};
    beforeAll(function () {
        moduleProps = core_1.buildMockModuleProps({}, mockActions, mockConfig);
        moduleProps.friendlyName = 'Content Block';
        moduleProps.context.request.telemetryPageName = 'Homepage';
    });
    it('should return payLoad Object.', function () {
        var telemetryContent = TelemetryHelper.getTelemetryObject(moduleProps.context.request.telemetryPageName, moduleProps.friendlyName, moduleProps.telemetry);
        var payLoad = TelemetryHelper.getPayloadObject('click', telemetryContent, 'Shop Now', '');
        expect(payLoad.contentCategory).toBe('click');
        expect(payLoad.contentAction.pgname).toBe('Homepage');
        expect(payLoad.contentAction.mname).toBe('Content Block');
        expect(payLoad.contentAction.etext).toBe('Shop Now');
        expect(payLoad.contentAction.recid).toBe('');
    });
});
describe('TelemetryHelper.getTelemetryAttributes test', function () {
    var moduleProps;
    var mockActions = {};
    var mockConfig = {};
    beforeAll(function () {
        moduleProps = core_1.buildMockModuleProps({}, mockActions, mockConfig);
        moduleProps.friendlyName = 'Content Block';
        moduleProps.context.request.telemetryPageName = 'Homepage';
    });
    it('should return telemetry Attributes.', function () {
        var telemetryContent = TelemetryHelper.getTelemetryObject(moduleProps.context.request.telemetryPageName, moduleProps.friendlyName, moduleProps.telemetry);
        var payLoad = TelemetryHelper.getPayloadObject('click', telemetryContent, 'Shop Now', '');
        var attributes = TelemetryHelper.getTelemetryAttributes(telemetryContent, payLoad);
        expect(attributes).not.toBeNull();
    });
});
//# sourceMappingURL=telemetryHelper.test.js.map