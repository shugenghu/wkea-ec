"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var React = tslib_1.__importStar(require("react"));
var react_dom_1 = require("react-dom");
var utilities_1 = require("../common/utilities");
var Portal = (function (_super) {
    tslib_1.__extends(Portal, _super);
    function Portal(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            defaultNode: null
        };
        return _this;
    }
    Portal.prototype.componentWillUnmount = function () {
        if (this.state.defaultNode) {
            document.body.removeChild(this.state.defaultNode);
        }
    };
    Portal.prototype.render = function () {
        var node = null;
        if (!utilities_1.canUseDOM) {
            return null;
        }
        if (!this.props.node && !this.state.defaultNode) {
            node = document.createElement('div');
            document.body.appendChild(node);
            this.setState({ defaultNode: node });
        }
        return react_dom_1.createPortal(this.props.children, this.props.node || node);
    };
    return Portal;
}(React.Component));
exports.default = Portal;
//# sourceMappingURL=Portal.js.map