import { render } from 'enzyme';
import * as React from 'react';
import ControlledDrawer from './ControlledDrawer';

describe('ControlledDrawer', () => {
    it('renders controlled drawer with glyph at the end', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                openGlyph={'fa fa-chevron-up'}
                closeGlyph={'fa fa-chevron-down'}
                glyphPlacement={'end'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders disabled controlled drawer', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                disabled
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                openGlyph={'fa fa-chevron-up'}
                closeGlyph={'fa fa-chevron-down'}
                glyphPlacement={'end'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer with glyph at the start', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                openGlyph={'fa fa-chevron-up'}
                closeGlyph={'fa fa-chevron-down'}
                glyphPlacement={'start'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer without a glyph', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer with animation in glyph when closed', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                openGlyph={'fa fa-chevron-up'}
                glyphPlacement={'end'}
                animateGlyph={true}
                toggleGlyphClassName={'custom_glyph_animation'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer with animation in glyph when open', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000,
                    isOpen: true
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                closeGlyph={'fa fa-chevron-up'}
                glyphPlacement={'end'}
                animateGlyph={true}
                toggleGlyphClassName={'custom_glyph_animation'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer with animation in glyph when no glyph provided and depends on class applied for icon', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                collapseProps={{
                    className: 'drawer',
                    timeout: 1000,
                    isOpen: true
                }}
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                glyphPlacement={'end'}
                animateGlyph={true}
                toggleGlyphClassName={'custom_glyph_animation'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer correctly when no collapse props are provided', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                glyphPlacement={'end'}
                animateGlyph={true}
                toggleGlyphClassName={'custom_glyph_animation'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer correctly when className is provided', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                openGlyph={'fa fa-chevron-up'}
                closeGlyph={'fa fa-chevron-down'}
                glyphPlacement={'end'}
                className={'custom parent classname'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });

    it('renders controlled drawer correctly with custom button classname is provided', () => {
        const controlledDrawer = render(
            <ControlledDrawer
                toggleButtonText={'Select Shipping Address'}
                toggleButtonProps={{
                    color: 'primary',
                    tag: 'button'
                }}
                openGlyph={'fa fa-chevron-up'}
                closeGlyph={'fa fa-chevron-down'}
                glyphPlacement={'end'}
                toggleButtonClassName={'custom toggle button classname'}
            >
                <div className='card drawer__card'>
                    <span>This is a card</span>
                </div>
            </ControlledDrawer>
        );
        expect(controlledDrawer).toMatchSnapshot();
    });
});
