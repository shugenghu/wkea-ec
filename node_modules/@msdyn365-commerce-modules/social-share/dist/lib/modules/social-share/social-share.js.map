{"version":3,"file":"social-share.js","sourceRoot":"./src/","sources":["modules/social-share/social-share.tsx"],"names":[],"mappings":"AAMA,OAAO,UAAU,MAAM,YAAY,CAAC;AACpC,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAiB/B,MAAM,WAAY,SAAQ,KAAK,CAAC,aAAoD;IAChF,YAAY,KAA4C;QACpD,KAAK,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC;IAEM,MAAM;QACT,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAE7B,IAAI,KAAK,IAAI,KAAK,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,2DAA2D,CAAC,CAAC;YAChG,OAAO,IAAI,CAAC;SACf;QAED,MAAM,cAAc,GACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;YAC1B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO;YAClC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc;YACjD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;QAEpD,IAAI,cAAc,KAAK,KAAK,EAAE;YAC1B,OAAO,IAAI,CAAC;SACf;QAED,MAAM,SAAS,GAAG;YACd,GAAG,IAAI,CAAC,KAAK;YACb,WAAW,EAAE;gBACT,WAAW,EAAE,IAAI,CAAC,KAAK;gBACvB,SAAS,EAAE,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC;aACxE;YACD,eAAe,EAAE;gBACb,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;gBACvC,SAAS,EAAE,sBAAsB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,eAAyB,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,EAAE;gBACrJ,GAAG,EAAE,IAAI;aACZ;YACD,eAAe,EAAE;gBACb,SAAS,EAAE,oBAAoB;gBAC/B,GAAG,EAAE,IAAI;gBACT,QAAQ,EAAE,GAAG;aAChB;YACD,uBAAuB,EAAE,KAAK,IAAI,KAAK,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,gBAAgB;SAChG,CAAC;QAEF,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAuB,CAAC;IAClE,CAAC;CACJ;AAED,eAAe,WAAW,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IModuleProps, INodeProps } from '@msdyn365-commerce-modules/utilities';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { ISocialShareConfig, ISocialShareProps, orientation } from './social-share.props.autogenerated';\n\nexport interface ISocialShareViewProps extends ISocialShareProps<ISocialShareConfig> {\n    isConsentGiven: boolean;\n    SocialShareItemElements: React.ReactNode[];\n    SocialShare: IModuleProps;\n    SocialShareList: INodeProps;\n    SocialShareItem: INodeProps;\n    SocialShareItemCustomization: INodeProps;\n}\n\n/**\n *\n * SocialShare component\n * @extends {React.PureComponent<ISocialShareProps<ISocialShareConfig>>}\n */\nclass SocialShare extends React.PureComponent<ISocialShareProps<ISocialShareConfig>> {\n    constructor(props: ISocialShareProps<ISocialShareConfig>) {\n        super(props);\n    }\n\n    public render(): JSX.Element | null {\n        const { slots } = this.props;\n\n        if (slots && slots.socialShareItems.length === 0) {\n            this.props.context.telemetry.error('No social media is enable for sharing, module wont render');\n            return null;\n        }\n\n        const isConsentGiven =\n        this.props.context.request &&\n        this.props.context.request.cookies &&\n        this.props.context.request.cookies.isConsentGiven &&\n        this.props.context.request.cookies.isConsentGiven();\n\n        if (isConsentGiven === false) {\n            return null;\n        }\n\n        const viewprops = {\n            ...this.props,\n            SocialShare: {\n                moduleProps: this.props,\n                className: classnames('ms-social-share', this.props.config.className)\n            },\n            SocialShareList: {\n                'data-title': this.props.config.caption,\n                className: `ms-social-share-ul ${this.props.config.caption && 'caption'} ${this.props.config.orientation === orientation.vertical ? 'vertical' : ''}`,\n                tag: 'ul'\n            },\n            SocialShareItem: {\n                className: 'ms-social-share-li',\n                tag: 'li',\n                tabIndex: '0'\n            },\n            SocialShareItemElements: slots && slots.socialShareItems.length > 0 && slots.socialShareItems\n        };\n\n        return this.props.renderView(viewprops) as React.ReactElement;\n    }\n}\n\nexport default SocialShare;\n"]}