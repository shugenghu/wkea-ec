
import { buildMockModuleProps } from '@msdyn365-commerce/core';
import { render } from 'enzyme';
import * as React from 'react';
import SocialShare from '../social-share';
import {
    ISocialShareConfig,
    ISocialShareProps,
    orientation,
} from '../social-share.props.autogenerated';
import SocialShareView from '../social-share.view';

const mockAccordionData = {
};

const mockConfigWithFlipper: ISocialShareConfig = {
    className: 'className',
    orientation: orientation.horizontal
};

const mockConfig2: ISocialShareConfig = {
    caption: 'Share:',
    className: 'className',
    orientation: orientation.horizontal
};

const myReactNodeChild1: React.ReactNode = 'whatever child module 1';
const myReactNodeChild2: React.ReactNode = 'whatever child module 2';
const myReactNodeChild3: React.ReactNode = 'whatever child module 3';
const myReactNodeChild4: React.ReactNode = 'whatever child module 4';

const slots = {
    socialShareItems: [myReactNodeChild1, myReactNodeChild2],
    socialShareCustomizationItems: [myReactNodeChild3, myReactNodeChild4]
};

describe('Social Share integration tests', () => {
    it('renders correctly', () => {
        const moduleProps: ISocialShareProps<ISocialShareConfig> = {
            ...buildMockModuleProps(mockAccordionData, mockConfigWithFlipper) as ISocialShareProps<ISocialShareConfig>,
            slots: slots,
            // @ts-ignore
            renderView: SocialShareView
        };
        // @ts-ignore mock partial data
        const component = render(<SocialShare {...moduleProps} />);
        expect(component).toMatchSnapshot();
    });

    it('renders correctly', () => {
        const moduleProps: ISocialShareProps<ISocialShareConfig> = {
            ...buildMockModuleProps(mockAccordionData, mockConfig2) as ISocialShareProps<ISocialShareConfig>,
            slots: slots,
            // @ts-ignore
            renderView: SocialShareView
        };

        const component = render(<SocialShare {...moduleProps} />);
        expect(component).toMatchSnapshot();
    });
});