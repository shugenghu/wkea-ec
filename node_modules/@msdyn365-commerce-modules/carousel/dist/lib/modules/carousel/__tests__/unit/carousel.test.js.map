{"version":3,"file":"carousel.test.js","sourceRoot":"./src/","sources":["modules/carousel/__tests__/unit/carousel.test.tsx"],"names":[],"mappings":"AAKA,OAAO,EAAE,oBAAoB,EAAC,MAAM,yBAAyB,CAAC;AAC9D,OAAO,EAAE,KAAK,EAAE,MAAM,QAAQ,CAAC;AAC/B,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,cAAsC,MAAM,gBAAgB,CAAC;AASpE,MAAM,QAAQ,GAAkB;IAC9B,UAAU,EAAE,aAAa;CAC1B,CAAC;AAEF,MAAM,qBAAqB,GAAoB;IAC7C,cAAc,SAAsB;IACpC,WAAW,EAAE,KAAK;IAClB,YAAY,EAAE,IAAI;IAClB,QAAQ,EAAE,IAAI;CACf,CAAC;AAEF,MAAM,qBAAqB,GAAoB;IAC7C,WAAW,EAAE,IAAI;CAClB,CAAC;AAEF,MAAM,+BAA+B,GAAoB;IACvD,WAAW,EAAE,IAAI;IACjB,cAAc,EAAE,IAAI;CACrB,CAAC;AAEF,MAAM,YAAY,GAAuB;IACvC,WAAW,EAAE,MAAM;IACnB,eAAe,EAAE,MAAM;IACvB,iBAAiB,EAAE,WAAW;IAC9B,yBAAyB,EAAE,QAAQ;CACpC,CAAC;AAEF,MAAM,WAAW,GAAG,EAAE,CAAC;AAEvB,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,IAAI,sBAAqD,CAAC;IAC1D,IAAI,sBAAqD,CAAC;IAC1D,IAAI,gCAA+D,CAAC;IAEpE,SAAS,CAAC,GAAG,EAAE;QACb,sBAAsB,GAAG;YACvB,GAAG,oBAAoB,CAAC,QAAQ,EAAE,WAAW,EAAE,qBAAqB,CAAkC,EAAE,SAAS,EAAE,YAAY;YAE/H,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,GAAG,OAAO,6BAAK,KAAK,EAAE,KAAK,GAAI,CAAC,CAAA,CAAC,CAAC;SAC/D,CAAC;QAEF,sBAAsB,GAAG;YACvB,GAAG,oBAAoB,CAAC,QAAQ,EAAE,WAAW,EAAE,qBAAqB,CAAkC,EAAE,SAAS,EAAE,YAAY;YAE/H,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,GAAG,OAAO,6BAAK,KAAK,EAAE,KAAK,GAAI,CAAC,CAAA,CAAC,CAAC;SAC/D,CAAC;QAEF,gCAAgC,GAAG;YACjC,GAAG,oBAAoB,CAAC,QAAQ,EAAE,WAAW,EAAE,+BAA+B,CAAkC,EAAE,SAAS,EAAE,YAAY;YAEzI,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,GAAG,OAAO,6BAAK,KAAK,EAAE,KAAK,GAAI,CAAC,CAAA,CAAC,CAAC;SAC/D,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;QACzC,MAAM,MAAM,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACpE,MAAM,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,UAAU,EAAE,CAAC;QAEvD,MAAM,SAAS,GAAuB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC;QACtE,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;QACxC,MAAM,MAAM,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACpE,MAAM,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,UAAU,EAAE,CAAC;QAEvD,MAAM,SAAS,GAAuB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC;QACtE,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;QACzD,MAAM,MAAM,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,gCAAgC,EAAG,CAAC,CAAC;QAC9E,MAAM,CAAC,gCAAgC,CAAC,UAAU,CAAC,CAAC,UAAU,EAAE,CAAC;QAEjE,MAAM,SAAS,GAAuB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC;QACtE,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kBAAkB,EAAE,GAAG,EAAE;QAC1B,sBAAsB,CAAC,KAAK,GAAG,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACjD,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAoB,CAAC;QAEtD,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;QAChD,sBAAsB,CAAC,KAAK,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QAC/C,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAoB,CAAC;QAEtD,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uDAAuD,EAAE,GAAG,EAAE;QAC/D,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,OAAO,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAG,CAAC,EAAE,CAAC,CAAC;QACtC,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAoB,CAAC;QAEtD,QAAQ,CAAC,SAAS,EAAE,CAAC;QACrB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE;QAC9B,sBAAsB,CAAC,KAAK,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QAC/C,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAoB,CAAC;QAEtD,QAAQ,CAAC,SAAS,EAAE,CAAC;QACrB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uBAAuB,EAAE,GAAG,EAAE;QAC/B,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAoB,CAAC;QAEtD,QAAQ,CAAC,UAAU,EAAE,CAAC;QACtB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sBAAsB,EAAE,GAAG,EAAE;QAC9B,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAoB,CAAC;QAEtD,QAAQ,CAAC,SAAS,EAAE,CAAC;QACrB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;QAC3C,MAAM,OAAO,GAAG,KAAK,CAAC,oBAAC,cAAc,oBAAK,sBAAsB,EAAG,CAAC,CAAC;QACrE,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QACrC,MAAM,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,UAAU,EAAE,CAAC;QAEvD,MAAM,SAAS,GAAuB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC;QACvE,MAAM,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { buildMockModuleProps} from '@msdyn365-commerce/core';\nimport { mount } from 'enzyme';\nimport * as React from 'react';\nimport CarouselModule, { ICarouselViewProps } from '../../carousel';\nimport { ICarouselData } from '../../carousel.data';\nimport {\n  ICarouselConfig,\n  ICarouselProps,\n  ICarouselResources,\n  transitionType\n} from '../../carousel.props.autogenerated';\n\nconst mockData: ICarouselData = {\n  carouselId: 'carousel123'\n};\n\nconst mockConfigWithFlipper: ICarouselConfig = {\n  transitionType: transitionType.slide,\n  hideFlipper: false,\n  pauseOnHover: true,\n  autoplay: true\n};\n\nconst mockConfigHideFlipper: ICarouselConfig = {\n  hideFlipper: true\n};\n\nconst mockConfigHideFlipperEnableDiss: ICarouselConfig = {\n  hideFlipper: true,\n  dismissEnabled: true\n};\n\nconst mockResource: ICarouselResources = {\n  flipperNext: 'next',\n  flipperPrevious: 'prev',\n  ariaLabelForSlide: 'Slide {0}',\n  ariaLabelForDismissButton: 'cancel'\n};\n\nconst mockActions = {};\n\ndescribe('CarouselModule', () => {\n  let modulePropsWithFlipper: ICarouselProps<ICarouselData>;\n  let modulePropsHideFlipper: ICarouselProps<ICarouselData>;\n  let modulePropsHideFlipperEnableDiss: ICarouselProps<ICarouselData>;\n\n  beforeAll(() => {\n    modulePropsWithFlipper = {\n      ...buildMockModuleProps(mockData, mockActions, mockConfigWithFlipper) as ICarouselProps<ICarouselData>, resources: mockResource,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />;})\n    };\n\n    modulePropsHideFlipper = {\n      ...buildMockModuleProps(mockData, mockActions, mockConfigHideFlipper) as ICarouselProps<ICarouselData>, resources: mockResource,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />;})\n    };\n\n    modulePropsHideFlipperEnableDiss = {\n      ...buildMockModuleProps(mockData, mockActions, mockConfigHideFlipperEnableDiss) as ICarouselProps<ICarouselData>, resources: mockResource,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />;})\n    };\n  });\n\n  it('renders correctly with flipper', () => {\n   const result = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n   expect(modulePropsWithFlipper.renderView).toBeCalled();\n\n   const viewProps: ICarouselViewProps = result.childAt(0).props().props;\n   expect(viewProps).toBeDefined();\n  });\n\n  it('renders correctly hide flipper', () => {\n    const result = mount(<CarouselModule {...modulePropsHideFlipper}/>);\n    expect(modulePropsHideFlipper.renderView).toBeCalled();\n\n    const viewProps: ICarouselViewProps = result.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n  });\n\n  it('renders correctly flipper with dismiss enanbled', () => {\n    const result = mount(<CarouselModule {...modulePropsHideFlipperEnableDiss}/>);\n    expect(modulePropsHideFlipperEnableDiss.renderView).toBeCalled();\n\n    const viewProps: ICarouselViewProps = result.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n  });\n\n  it('should call next', () => {\n    modulePropsWithFlipper.slots = { content: [[]] };\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    const instance = wrapper.instance() as CarouselModule;\n    // @ts-ignore ignore private method\n    instance._next();\n    expect(wrapper.state('closeNow')).toBe(false);\n  });\n\n  it('should call next with 0 content length', () => {\n    modulePropsWithFlipper.slots = { content: [] };\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    const instance = wrapper.instance() as CarouselModule;\n    // @ts-ignore ignore private method\n    instance._next();\n    expect(wrapper.state('closeNow')).toBe(false);\n  });\n\n  it('should call previous with active index greater than 0', () => {\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    wrapper.setState({ activeIndex : 4 });\n    const instance = wrapper.instance() as CarouselModule;\n    // @ts-ignore ignore private method\n    instance._previous();\n    expect(wrapper.state('closeNow')).toBe(false);\n  });\n\n  it('should call previous', () => {\n    modulePropsWithFlipper.slots = { content: [] };\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    const instance = wrapper.instance() as CarouselModule;\n    // @ts-ignore ignore private method\n    instance._previous();\n    expect(wrapper.state('closeNow')).toBe(false);\n  });\n\n  it('should call onExiting', () => {\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    const instance = wrapper.instance() as CarouselModule;\n    // @ts-ignore ignore private method\n    instance._onExiting();\n    expect(wrapper.state('closeNow')).toBe(false);\n  });\n\n  it('should call onExited', () => {\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    const instance = wrapper.instance() as CarouselModule;\n    // @ts-ignore ignore private method\n    instance._onExited();\n    expect(wrapper.state('closeNow')).toBe(false);\n  });\n\n  it('should render with updated states', () => {\n    const wrapper = mount(<CarouselModule {...modulePropsWithFlipper}/>);\n    wrapper.setState({ closeNow: true });\n    expect(modulePropsWithFlipper.renderView).toBeCalled();\n\n    const viewProps: ICarouselViewProps = wrapper.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n  });\n});"]}