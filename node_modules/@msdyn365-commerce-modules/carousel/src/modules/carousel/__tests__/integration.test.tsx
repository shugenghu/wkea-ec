/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

import { buildMockModuleProps} from '@msdyn365-commerce/core';
import { render } from 'enzyme';
import * as React from 'react';
import CarouselModule from '../carousel';
import { ICarouselData } from '../carousel.data';
import {
  ICarouselConfig,
  ICarouselProps,
  ICarouselResources
} from '../carousel.props.autogenerated';
import CarouselView from '../carousel.view';

const mockData: ICarouselData = {
  carouselId: 'carousel123'
};

const mockConfigWithFlipper: ICarouselConfig = {
  hideFlipper: false,
  dismissEnabled: false
};

const mockResource: ICarouselResources = {
  flipperNext: 'next',
  flipperPrevious: 'prev',
  ariaLabelForSlide: 'Slide {0}',
  ariaLabelForDismissButton: 'cancel'
};

const mockActions = {};

describe('Carousel integration tests', () => {
  it('renders correctly', ()=> {
      const moduleProps: ICarouselProps<ICarouselData> = {
        ...buildMockModuleProps(mockData, mockActions, mockConfigWithFlipper) as ICarouselProps<ICarouselData>, resources: mockResource,
          // @ts-ignore
          renderView: CarouselView
      };

      const component = render(<CarouselModule {...moduleProps}/>);
      expect(component).toMatchSnapshot();
  });
});