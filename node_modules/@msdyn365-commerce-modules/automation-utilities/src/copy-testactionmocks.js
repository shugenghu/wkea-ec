const fs = require('fs-extra');
const path = require('path');
const glob = require('glob');


const actionmocks = glob.sync(path.resolve(__dirname, '../', '**/*dvt.json'));


if(actionmocks && actionmocks.length > 0) {   
    actionmocks.forEach(filePath => {
        if(filePath.indexOf('node_modules') === -1){
            const fileName = filePath.substr(filePath.lastIndexOf("/")+1)            
            const data = fs.readFileSync(filePath, 'utf8');
            console.log('writing files from packages to demo-partner')
            fs.outputFileSync(path.resolve(__dirname, 'src', 'pageMocks', fileName), data);           
        }
    });
} else {
    console.log('No action mocks found');
}

