/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

import { buildMockModuleProps, buildMockRequest, IImageData, IRequestContext} from '@msdyn365-commerce/core';
/// <reference types="jest" />

// tslint:disable-next-line:no-unused-variable
import * as React from 'react';
import * as renderer from 'react-test-renderer';
import FooterItem from '../../footer-item';
import {
  IFooterItemConfig,
  IFooterItemProps,
  IHeadingData,
  ILinkData
} from '../../footer-item.props.autogenerated';

const mockRequest: IRequestContext = buildMockRequest();
// @ts-ignore
const mockContext: ICoreContext = {
    request: mockRequest
};
const mockHeading: IHeadingData = {
  text: 'Mock heading'
};

const mockImage: IImageData = {
  src: 'https://img-prod-cms-mr-microsoft-com.akamaized.net/cms/api/fabrikam/imageFileData/MA1QsS',
  altText: 'Mock Text'
};

const mockLink: ILinkData = {
  linkText: 'Mock action link 1 title',
  linkUrl: {
    destinationUrl: 'Mock action link 1 href',
},
  ariaLabel: 'Mock action link 1 alt text'
};

const mockConfig: IFooterItemConfig = {
  heading: mockHeading,
  link: mockLink,
  image: mockImage,
  text: 'Mock text'
};

describe('FooterItem', () => {
  let moduleProps: IFooterItemProps<IFooterItemConfig>;
  beforeAll(() => {
    moduleProps = buildMockModuleProps({}, {}, mockConfig, mockContext) as IFooterItemProps<IFooterItemConfig>;
  });
  it('renders correctly', () => {
    const component: renderer.ReactTestRenderer = renderer.create(
      <FooterItem {...moduleProps} />
    );
    const tree = component.toJSON();
    expect(tree).toMatchSnapshot();
  });
});
