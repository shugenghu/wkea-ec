{"version":3,"file":"iframe.test.js","sourceRoot":"./src/","sources":["modules/iframe/tests/iframe.test.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { buildMockModuleProps } from '@msdyn365-commerce/core';\n/// <reference types=\"jest\" />\n// tslint:disable-next-line:no-unused-variable\nimport { mount } from 'enzyme';\nimport * as React from 'react';\nimport Iframe, { IIframeViewProps } from '../iframe';\nimport {\n  HeadingTag, IIframeConfig,\n  IIframeProps\n} from '../iframe.props.autogenerated';\n\nconst mockConfig: IIframeConfig = {\n  target: {\n    destinationUrl:'https://ppe-streaming-video-mr-microsoft-com.akamaized.net/5b4aaa0e-602a-4964-80d0-cdea46ec368f/1c372c3e-debb-42a3-a6db-58904cebdaad.mp4',\n  },\n  height: '100%',\n\n};\n\nconst mockConfig1: IIframeConfig = {\n  target: {\n    destinationUrl:'https://ppe-streaming-video-mr-microsoft-com.akamaized.net/5b4aaa0e-602a-4964-80d0-cdea46ec368f/1c372c3e-debb-42a3-a6db-58904cebdaad.mp4',\n  },\n  height: '100%',\n};\n\nconst mockConfig2: IIframeConfig = {\n  target: {\n    destinationUrl:'https://ppe-streaming-video-mr-microsoft-com.akamaized.net/5b4aaa0e-602a-4964-80d0-cdea46ec368f/1c372c3e-debb-42a3-a6db-58904cebdaad.mp4',\n  },\n  height: '',\n};\n\nconst mockConfig3: IIframeConfig = {\n  target: {\n    destinationUrl:'https://ppe-streaming-video-mr-microsoft-com.akamaized.net/5b4aaa0e-602a-4964-80d0-cdea46ec368f/1c372c3e-debb-42a3-a6db-58904cebdaad.mp4',\n  },\n  height: '100%',\n  heading: {\n    text: 'Microsoft video',\n    tag: HeadingTag.h2\n  },\n};\n\ndescribe('Iframe', () => {\n  it('renders correctly', () => {\n    let moduleProps: IIframeProps<IIframeConfig>;\n    moduleProps = {\n      ...buildMockModuleProps({}, {}, mockConfig) as IIframeProps<IIframeConfig>,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />; })\n    };\n    const wrapper = mount(<Iframe {...moduleProps} />);\n    expect(moduleProps.renderView).toBeCalled();\n    const viewProps: IIframeViewProps = wrapper.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n    expect(viewProps).toMatchSnapshot();\n  });\n\n  it('renders correctly without width', () => {\n    let moduleProps: IIframeProps<IIframeConfig>;\n    moduleProps = {\n      ...buildMockModuleProps({}, {}, mockConfig1) as IIframeProps<IIframeConfig>,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />; })\n    };\n    const wrapper = mount(<Iframe {...moduleProps} />);\n    expect(moduleProps.renderView).toBeCalled();\n    const viewProps: IIframeViewProps = wrapper.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n    expect(viewProps).toMatchSnapshot();\n  });\n\n  it('renders correctly without height', () => {\n    let moduleProps: IIframeProps<IIframeConfig>;\n    moduleProps = {\n      ...buildMockModuleProps({}, {}, mockConfig2) as IIframeProps<IIframeConfig>,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />; })\n    };\n    const wrapper = mount(<Iframe {...moduleProps} />);\n    expect(moduleProps.renderView).toBeCalled();\n    const viewProps: IIframeViewProps = wrapper.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n    expect(viewProps).toMatchSnapshot();\n  });\n\n  it('renders correctly with heading', () => {\n    let moduleProps: IIframeProps<IIframeConfig>;\n    moduleProps = {\n      ...buildMockModuleProps({}, {}, mockConfig3) as IIframeProps<IIframeConfig>,\n      // @ts-ignore\n      renderView: jest.fn(props => { return <div props={props} />; })\n    };\n    const wrapper = mount(<Iframe {...moduleProps} />);\n    expect(moduleProps.renderView).toBeCalled();\n    const viewProps: IIframeViewProps = wrapper.childAt(0).props().props;\n    expect(viewProps).toBeDefined();\n    expect(viewProps).toMatchSnapshot();\n  });\n});\n"]}