{"version":3,"file":"search.view.js","sourceRoot":"./src/","sources":["modules/search/search.view.tsx"],"names":[],"mappings":"AAKA,OAAO,EAAc,MAAM,EAAE,IAAI,EAAE,MAAM,sCAAsC,CAAC;AAChF,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAI/B,MAAM,UAAU,GAA+B,KAAK,CAAC,EAAE;IACnD,MAAM,EACF,MAAM,EACN,oBAAoB,EACpB,wBAAwB,EACxB,UAAU,EACV,WAAW,EACX,cAAc,EACd,cAAc,EACd,eAAe,EACf,SAAS,EACT,SAAS,EACT,UAAU,EACV,IAAI,EACJ,mBAAmB,EACnB,kBAAkB,EAClB,kBAAkB,EAClB,UAAU,EACV,WAAW,EACX,KAAK,EACR,GAAG,KAAK,CAAC;IAEV,OAAO,CACH,oBAAC,MAAM,oBAAK,MAAM;QACb,KAAK;QACL,WAAW,CAAC,IAA4B,EAAE,UAAU,EAAE,WAAW,CAAC;QACnE,oBAAC,IAAI,oBAAK,WAAW;YAChB,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAClC,oBAAC,IAAI,oBAAK,oBAAoB,GAAG,wBAAwB,CAAQ,CAAC,CAAC,CAAC,EAAE;YAEzE,yBAAyB,CAAC,cAAc,EAAE,SAAS,EAAE,kBAAkB,CAAC;YACxE,yBAAyB,CAAC,cAAc,EAAE,SAAS,EAAE,kBAAkB,CAAC;YACxE,0BAA0B,CAAC,eAAe,EAAE,UAAU,EAAE,mBAAmB,CAAC,CAC1E,CACF,CACZ,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,WAAW,GAAG,CAAC,IAA0B,EAAE,UAAsB,EAAE,WAAuB,EAAE,EAAE;IAChG,OAAO,CACH,oBAAC,IAAI,oBAAK,UAAU;QAChB,oBAAC,IAAI,oBAAK,WAAW;YAChB,IAAI,CAAC,SAAS;YACd,IAAI,CAAC,KAAK;YACV,IAAI,CAAC,SAAS,CACZ,CACJ,CACV,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,yBAAyB,GAAG,CAC9B,cAA0B,EAC1B,SAAqB,EACrB,kBAA4C,EAC9C,EAAE;IACA,OAAO,CACH,kBAAkB,IAAI,CAClB,oBAAC,IAAI,oBAAK,cAAc;QACpB,oBAAC,IAAI,oBAAK,SAAS,GACd,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YAChC,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC,CACC,CACJ,CACV,CACJ,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,yBAAyB,GAAG,CAC9B,cAA0B,EAC1B,SAAqB,EACrB,kBAA4C,EAC9C,EAAE;IACA,OAAO,CACH,kBAAkB,IAAI,CAClB,oBAAC,IAAI,oBAAK,cAAc;QACpB,oBAAC,IAAI,oBAAK,SAAS;YACd,kBAAkB,CAAC,KAAK;YACxB,kBAAkB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBAC1C,OAAO,CACH,oBAAC,IAAI,oBAAK,IAAI,CAAC,SAAS,IAAE,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,KAAK;oBAC3C,oBAAC,IAAI,oBAAK,IAAI,CAAC,QAAQ;wBAClB,IAAI,CAAC,SAAS;wBACd,IAAI,CAAC,IAAI;wBACT,IAAI,CAAC,KAAK,CACR,CACJ,CACV,CAAC;YACN,CAAC,CAAC,CACC,CACJ,CACV,CACJ,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,0BAA0B,GAAG,CAC/B,eAA2B,EAC3B,UAAsB,EACtB,mBAA8C,EAChD,EAAE;IACA,OAAO,CACH,mBAAmB,IAAI,CACnB,oBAAC,IAAI,oBAAK,eAAe;QACrB,oBAAC,IAAI,oBAAK,UAAU;YACf,mBAAmB,CAAC,KAAK;YACzB,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACjC,OAAO,IAAI,CAAC;YAChB,CAAC,CAAC,CACC,CACJ,CACV,CACJ,CAAC;AACN,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { INodeProps, Module, Node } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\nimport { ISearchCategoryViewProps, ISearchFormViewProps, ISearchKeywordViewProps, ISearchProductViewProps } from './components';\nimport { ISearchViewProps } from './search';\n\nconst SearchView: React.FC<ISearchViewProps> = props => {\n    const {\n        Search,\n        AutoSuggestAriaLabel,\n        AutoSuggestAriaLabelText,\n        searchText,\n        AutoSuggest,\n        KeywordSuggest,\n        ProductSuggest,\n        CategorySuggest,\n        UlKeyword,\n        UlProduct,\n        UlCategory,\n        form,\n        autosuggestCategory,\n        autosuggestKeyword,\n        autosuggestProduct,\n        SearchForm,\n        FormWrapper,\n        label\n    } = props;\n\n    return (\n        <Module {...Search}>\n            {label}\n            {_renderForm(form as ISearchFormViewProps, SearchForm, FormWrapper)}\n            <Node {...AutoSuggest}>\n                {searchText && searchText.length > 0 ?\n                    <Node {...AutoSuggestAriaLabel}>{AutoSuggestAriaLabelText}</Node> : ''\n                }\n                {_renderKeywordSuggestions(KeywordSuggest, UlKeyword, autosuggestKeyword)}\n                {_renderProductSuggestions(ProductSuggest, UlProduct, autosuggestProduct)}\n                {_renderCategorySuggestions(CategorySuggest, UlCategory, autosuggestCategory)}\n            </Node>\n        </Module>\n    );\n};\n\nconst _renderForm = (form: ISearchFormViewProps, SearchForm: INodeProps, FormWrapper: INodeProps) => {\n    return (\n        <Node {...SearchForm}>\n            <Node {...FormWrapper}>\n                {form.submitBtn}\n                {form.input}\n                {form.cancelBtn}\n            </Node>\n        </Node>\n    );\n};\n\nconst _renderKeywordSuggestions = (\n    KeywordSuggest: INodeProps,\n    UlKeyword: INodeProps,\n    keywordSuggestions?: ISearchKeywordViewProps\n) => {\n    return (\n        keywordSuggestions && (\n            <Node {...KeywordSuggest}>\n                <Node {...UlKeyword}>\n                    {keywordSuggestions.text.map(text => {\n                        return text;\n                    })}\n                </Node>\n            </Node>\n        )\n    );\n};\n\nconst _renderProductSuggestions = (\n    ProductSuggest: INodeProps,\n    UlProduct: INodeProps,\n    productSuggestions?: ISearchProductViewProps\n) => {\n    return (\n        productSuggestions && (\n            <Node {...ProductSuggest}>\n                <Node {...UlProduct}>\n                    {productSuggestions.title}\n                    {productSuggestions.items.map((item, index) => {\n                        return (\n                            <Node {...item.LiProduct} key={item.id || index}>\n                                <Node {...item.AProduct}>\n                                    {item.thumbnail}\n                                    {item.text}\n                                    {item.price}\n                                </Node>\n                            </Node>\n                        );\n                    })}\n                </Node>\n            </Node>\n        )\n    );\n};\n\nconst _renderCategorySuggestions = (\n    CategorySuggest: INodeProps,\n    UlCategory: INodeProps,\n    categorySuggestions?: ISearchCategoryViewProps\n) => {\n    return (\n        categorySuggestions && (\n            <Node {...CategorySuggest}>\n                <Node {...UlCategory}>\n                    {categorySuggestions.title}\n                    {categorySuggestions.text.map(text => {\n                        return text;\n                    })}\n                </Node>\n            </Node>\n        )\n    );\n};\n\nexport default SearchView;"]}