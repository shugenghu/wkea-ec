{"version":3,"file":"integration.test.js","sourceRoot":"./src/","sources":["modules/video-player/__tests__/integration.test.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { buildMockModuleProps} from '@msdyn365-commerce/core';\n/// <reference types=\"jest\" />\n\n// tslint:disable-next-line:no-unused-variable\nimport { render } from 'enzyme';\nimport * as React from 'react';\n\nimport VideoPlayer from '../video-player';\nimport {\n  IVideoPlayerConfig,\n  IVideoPlayerProps,\n  IVideoPlayerResources\n} from '../video-player.props.autogenerated';\nimport VideoPlayerView from '../video-player.view';\n\nconst mockConfig: IVideoPlayerConfig = {\n  video: {\n    title: 'test video',\n    playTime: 81,\n    _links: {\n      binaryReferences: [\n        {\n          sizeInBytes: 690479,\n          // tslint:disable-next-line:max-line-length no-inferrable-types no-http-string\n          sourceHref: 'http://eus-streaming-video-rt-microsoft-com.akamaized.net/3b826980-878b-45db-a41a-0b630403456e/5d0958ac-40f6-4178-bc6d-113b9d2c_640x276_1180.mp4',\n          alias: '102',\n          href: 'cms/api/am/binary/RE2ooKv-102unsupported',\n          format: '102',\n          height: 276,\n          width: 640,\n          // tslint:disable-next-line:max-line-length no-inferrable-types no-http-string\n          clientHref: 'http://eus-streaming-video-rt-microsoft-com.akamaized.net/3b826980-878b-45db-a41a-0b630403456e/5d0958ac-40f6-4178-bc6d-113b9d2c_640x276_1180.mp4',\n        },\n      ]\n    },\n    thumbnail: {\n      title: 'Sample video Thumbnail',\n      src: 'https://img-prod-cms-mr-microsoft-com.akamaized.net/cms/api/fabrikam/imageFileData/MA1QsS?ver=fd1c',\n      width: 640,\n      height: 360,\n    },\n  },\n  autoplay: true,\n  mute: true,\n  loop: false,\n  playPauseTrigger: true,\n  controls: true,\n  playFullScreen: false,\n  hidePosterFrame: false,\n  maskLevel: 40,\n  thumbnailFullWidth: false,\n  lazyLoad: true\n};\n\nconst mockConfig1 = {\n  autoplay: true,\n  mute: true,\n  loop: false,\n  playPauseTrigger: true,\n  controls: true,\n  playFullScreen: false,\n  hidePosterFrame: false,\n  maskLevel: 40,\n  thumbnailFullWidth: false,\n  lazyLoad: true,\n  video: null,\n};\n\nconst mockConfig2 = {\n  autoplay: true,\n  mute: true,\n  loop: false,\n  playPauseTrigger: true,\n  controls: true,\n  playFullScreen: false,\n  hidePosterFrame: false,\n  maskLevel: 40,\n  thumbnailFullWidth: false,\n  lazyLoad: true,\n  video: {\n    title: 'test video',\n    playTime: 81,\n    _links: null,\n    thumbnail: null,\n  },\n};\n\nconst mockResources: IVideoPlayerResources = {\n  playLabel: 'play',\n  pauseLabel: 'pause',\n  pausedLabel: 'paused',\n  playingLabel: 'playing',\n  muteLabel: 'mute',\n  unMuteLabel: 'unmute',\n  fullScreenLabel: 'full screen',\n  exitFullScreenLabel: 'exit full screen',\n  seekBarLabel: 'Seek bar',\n  videoTimeDurationLabel: 'Video time duration',\n  closedCaptionLabel: 'Closed caption',\n  optionButtonLabel: 'More Options'\n};\n\nconst mockActions = {};\n\ndescribe('VideoPlayer', () => {\n\n  it('renders correctly', () => {\n    let moduleProps: IVideoPlayerProps<IVideoPlayerConfig>;\n    moduleProps = {...buildMockModuleProps({}, mockActions, mockConfig) as IVideoPlayerProps<IVideoPlayerConfig>, resources: mockResources};\n    const player = render(\n      <VideoPlayer {...moduleProps} />\n    );\n    expect(player).toMatchSnapshot();\n  });\n\n  it('renders correctly without video data & thumbnail', () => {\n    let moduleProps: IVideoPlayerProps<IVideoPlayerConfig>;\n    moduleProps = { ...buildMockModuleProps({}, {}, mockConfig1) as IVideoPlayerProps<IVideoPlayerConfig>,\n                resources: mockResources,\n    // @ts-ignore\n                renderView: VideoPlayerView};\n    const component = render(<VideoPlayer {...moduleProps} />);\n    expect(component).toMatchSnapshot();\n  });\n\n  it('renders correctly with video data & with thumbnail', () => {\n    let moduleProps: IVideoPlayerProps<IVideoPlayerConfig>;\n    moduleProps = { ...buildMockModuleProps({}, {}, mockConfig2) as IVideoPlayerProps<IVideoPlayerConfig>,\n                resources: mockResources,\n    // @ts-ignore\n                renderView: VideoPlayerView};\n    const component = render(<VideoPlayer {...moduleProps} />);\n    expect(component).toMatchSnapshot();\n  });\n});\n"]}