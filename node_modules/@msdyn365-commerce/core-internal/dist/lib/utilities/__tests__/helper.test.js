/*!
 * Copyright (c) Microsoft Corporation.
 * All rights reserved. See LICENSE in the project root for license information.
 */
import { getAsset } from '../helper';
import { buildMockRequest } from '../../mock/mock-helper';
describe('helpers', () => {
    describe('site paths', () => {
        const sitePaths = ['/foo/bar', 'foo/bar', 'foo/bar/', 'foo/bar/file.js', '/foo//bar////baz'];
        let originalEnv;
        let counter = 0;
        beforeAll(() => {
            originalEnv = process.env;
        });
        afterAll(() => {
            process.env = originalEnv;
        });
        beforeEach(() => {
            process.env.SUBMISSIONID = counter++ < sitePaths.length ? '000-000-000' : undefined;
        });
        sitePaths.concat(sitePaths).forEach(sitePath => it('can get asset', () => {
            // @ts-ignore
            expect(getAsset(sitePath, buildMockRequest({
                url: { requestUrl: new URL('https://contoso.com'), staticCdnUrl: '//prod.fabrikam.com/_msdyn365/_scnr/' }
            }))).toMatchSnapshot();
        }));
    });
});
//# sourceMappingURL=helper.test.js.map