{"version":3,"file":"dynamics-privacy-helper.js","sourceRoot":"","sources":["../../../src/privacy/dynamics-privacy-helper.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { DynamicsPrivacyLog } from './dynamics-privacy-log';\n\n/**\n * Wraps the given data in an 'AccessControl' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asAccessControl<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'AccessControl',\n        isCustomerData: false,\n        isRestrictedData: true,\n        isPersonalData: false,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'CustomerContent' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asCustomerContent<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'CustomerContent',\n        isCustomerData: true,\n        isRestrictedData: true,\n        isPersonalData: true,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'EUII' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asEUII<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'EUII',\n        isCustomerData: true,\n        isRestrictedData: true,\n        isPersonalData: true,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'SupportData' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asSupportData<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'SupportData',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: true,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'AccountData' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asAccountData<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'AccountData',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: true,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'PublicPersonalData' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asPublicPersonalData<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'PublicPersonalData',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: true,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'EUPI' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asEUPI<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'EUPI',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: true,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'OII' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asOII<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'OII',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: false,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'SystemMetadata' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asSystemMetadata<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'SystemMetadata',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: false,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Wraps the given data in an 'PublicNonPersonalData' DynamicsPrivacyLog object.\n * @param data Data to wrap with privacy information\n */\nexport function asPublicNonPersonalData<T>(data: T): DynamicsPrivacyLog<T> {\n    return {\n        data: data,\n        classificationLevel: 'PublicNonPersonalData',\n        isCustomerData: false,\n        isRestrictedData: false,\n        isPersonalData: false,\n        __isDynamicsPrivacy: true\n    };\n}\n\n/**\n * Gets the data out of the input object if it is a DynamicsPrivacyLog object.\n * Filters data if it contains privacy information.\n * @param input Input object that may or may not be a DynamicsPrivacyLog\n */\n// tslint:disable-next-line:no-any\nexport function getFilteredData(input: any): any {\n    // Check if the input is a DynamicsPrivacyLog object\n    if (input && input.__isDynamicsPrivacy) {\n        // If input contains privacy data, censor output\n        if (input.isCustomerData || input.isRestrictedData || input.isPersonalData) {\n            return `DATA CENSORED (${input.classificationLevel})`;\n        } else {\n            return input.data;\n        }\n    } else {\n        return input;\n    }\n}\n"]}