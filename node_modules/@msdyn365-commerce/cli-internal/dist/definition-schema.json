{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "JSON schema for theme module definition",
    "type": "object",
    "definitions": {
        "allowedCategories": {
            "type": "array",
            "uniqueItems": true
        },
        "allowedTypes": {
            "anyOf": [
                {
                    "enum": [
                        "*"
                    ],
                    "type": "string"
                },
                {
                    "items": {
                        "type": "string"
                    },
                    "type": "array",
                    "uniqueItems": true
                }
            ]
        },
        "attributes": {
            "additionalItems": false,
            "additionalProperties": false,
            "description": "Additional attributes for a module which inform how tooling needs to handle this module",
            "properties": {
                "private": {
                    "description": "If set to true, this module will not be included in any container unless explicitly added",
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "booleanProperty": {
            "additionalProperties": false,
            "description": "boolean config type",
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "boolean"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "boolean"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "cssProperty": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type",
                        "enum"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "string"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "enum": {
                    "patternProperties": {
                        ".+": {
                            "type": "string"
                        }
                    },
                    "propertyNames": {
                        "pattern": "^[a-z][_A-Za-z0-9]*$"
                    },
                    "type": "object",
                    "uniqueItems": true
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "maxLength": {
                    "minimum": 1,
                    "type": "integer"
                },
                "minLength": {
                    "minimum": 1,
                    "type": "integer"
                },
                "pattern": {
                    "format": "regex",
                    "type": "string"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "css"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "categories": {
            "description": "Categories that this module can subscribe to. The values specified here are used by containers to allow or disallow certain modules in specific slots",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "type": "array"
        },
        "config": {
            "patternProperties": {
                ".+": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/booleanProperty"
                        },
                        {
                            "$ref": "#/definitions/cssProperty"
                        },
                        {
                            "$ref": "#/definitions/dataTypes"
                        },
                        {
                            "$ref": "#/definitions/integerProperty"
                        },
                        {
                            "$ref": "#/definitions/numberProperty"
                        },
                        {
                            "$ref": "#/definitions/objectArray"
                        },
                        {
                            "$ref": "#/definitions/objectProperty"
                        },
                        {
                            "$ref": "#/definitions/primitiveArray"
                        },
                        {
                            "$ref": "#/definitions/resourceProperty"
                        },
                        {
                            "$ref": "#/definitions/stringProperty"
                        },
                        {
                            "$ref": "#/definitions/reservedCssProperty"
                        }
                    ]
                }
            },
            "propertyNames": {
                "pattern": "^[_a-z][_A-Za-z0-9]*$|ref$"
            },
            "type": "object",
            "uniqueItems": true
        },
        "resources": {
            "patternProperties": {
                ".+": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "value": {
                            "type": "string"
                        },
                        "comment": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "value"
                    ]
                }
            },
            "propertyNames": {
                "pattern": "^[a-z][A-Za-z0-9]*$"
            },
            "type": "object",
            "uniqueItems": true
        },
        "dataTypes": {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "description": {
                    "type": "string"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "image",
                        "imageSettings",
                        "link",
                        "productList",
                        "richText",
                        "video"
                    ],
                    "type": "string"
                }
            },
            "type": [
                "object"
            ]
        },
        "dataActions": {
            "additionalItems": false,
            "additionalProperties": false,
            "patternProperties": {
                ".+": {
                    "additionalItems": false,
                    "additionalProperties": false,
                    "properties": {
                        "id": {
                            "type": "string"
                        },
                        "path": {
                            "minLength": 4,
                            "type": "string"
                        },
                        "runOn": {
                            "default": "server",
                            "enum": [
                                "client",
                                "server"
                            ],
                            "type": "string"
                        },
                        "options": {
                            "type":"object",
                            "properties": {
                                "cacheType":{
                                    "type":"string",
                                    "enum": [
                                        "request",
                                        "none",
                                        "application",
                                        "instance"
                                    ]
                                }
                            }
                        }
                    },
                    "oneOf": [
                        {
                            "required": [
                                "id"
                            ]
                        },
                        {
                            "required": [
                                "path"
                            ]
                        }
                    ],
                    "type": "object"
                }
            },
            "propertyNames": {
                "pattern": "^[a-z][A-Za-z0-9]*$"
            },
            "type": "object",
            "uniqueItems": true
        },
        "description": {
            "description": "Information that gets displayed to page authors about this module/slot",
            "minLength": 4,
            "type": "string"
        },
        "dependencies": {
            "type": "object",
            "description": "Only for definition extension: Allows to extend schema properties",
            "properties": {
                "moduleLayout": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "oneOf": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "properties": {
                                        "type": "object",
                                        "uniqueItems": true,                                    
                                        "properties": {
                                            "moduleLayout": {
                                                "type": "object",
                                                "additionalProperties": false,
                                                "properties": {
                                                    "enum": {
                                                        "patternProperties": {
                                                            ".+": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "propertyNames": {
                                                            "pattern": "^[a-z][_A-Za-z0-9]*$"
                                                        },
                                                        "type": "object",
                                                        "uniqueItems": true                                                    
                                                    }
                                                },
                                                "required": [
                                                    "enum"
                                                ]
                                            }
                                        },
                                        "patternProperties": {
                                            "^(?!(moduleLayout)$).*$": {
                                                "anyOf": [
                                                    {
                                                        "$ref": "#/definitions/booleanProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/cssProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/dataTypes"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/integerProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/numberProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/objectArray"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/objectProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/primitiveArray"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/resourceProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/stringProperty"
                                                    },
                                                    {
                                                        "$ref": "#/definitions/reservedCssProperty"
                                                    }
                                                ]
                                            }
                                        },
                                        "propertyNames": {
                                            "pattern": "^[_a-z][_A-Za-z0-9]*$"
                                        },
                                        "required": ["moduleLayout"]
                                    }
                                },
                                "required": [
                                    "properties"
                                ]
                            }
                        }
                    },
                    "required": [
                        "oneOf"
                    ]
                }
            },
            "required": [
                "moduleLayout"
            ]
        },
        "excludeCategories": {
            "type": "array",
            "uniqueItems": true
        },
        "excludeTypes": {
            "type": "array",
            "uniqueItems": true
        },
        "filterCriteria": {
            "description": "Module filter criteria type to filter B2B, B2C modules",
            "type": "object",
            "additionalProperties": true,
            "properties": {
                "siteType": {
                    "description": "Defined the type of site to filter the modules for. Eg: siteType: B2B",
                    "type": "string",
                    "enum": [
                        "B2B",
                        "B2C"
                    ]
                }
            }
        },
        "friendlyName": {
            "description": "Friendly name that gets displayed to page authors",
            "minLength": 3,
            "type": "string"
        },
        "group": {
            "description": "Group name for this property, eg: Appearance/Layout etc.",
            "type": [
                "array",
                "string"
            ],
            "items": {
                "type": "string"
            }
        },
        "screenshots": {
            "type": "object",
            "uniqueItems": true,
            "propertyNames": {
                "pattern": "^[a-z][_A-Za-z0-9]*$"
            },
            "patternProperties": {
                ".+": {
                    "additionalItems": false,
                    "additionalProperties": false,
                    "properties": {
                        "alt": {
                            "minLength": 2,
                            "type": "string"
                        },
                        "src": {
                            "minLength": 5,
                            "type": "string"
                        }
                    },
                    "required": [
                        "alt",
                        "src"
                    ],
                    "type": "object"
                }
            }
        },
        "integerProperty": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "integer"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "exclusiveMaximum": {
                    "type": "boolean"
                },
                "exclusiveMinimum": {
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "maximum": {
                    "type": "integer"
                },
                "minimum": {
                    "type": "integer"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "integer"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "max": {
            "description": "Maximum number of modules allowed in this slot, has to be greater than value specified in min",
            "minimum": 1,
            "type": "integer"
        },
        "min": {
            "description": "Minimum number of modules allowed in this slot",
            "minimum": 0,
            "type": "integer"
        },
        "module": {
            "additionalItems": false,
            "additionalProperties": false,
            "description": "This property is deprecated. Please use the dataActions property to register data-actions to your module",
            "properties": {
                "dataActions": {
                    "$ref": "#/definitions/dataActions"
                },
                "view": {
                    "minLength": 3,
                    "type": "string"
                }
            },
            "required": [
                "view"
            ],
            "type": "object"
        },
        "name": {
            "description": "Name of the module, this has to be unique across the application. This is the ID of the module referenced by authoring and should not be changed.",
            "minLength": 3,
            "pattern": "^[a-z][A-Za-z0-9_-]*$|ref$",
            "type": "string"
        },
        "nestedObjectProperty": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "additionalProperties": {
                    "additionalProperties": false,
                    "type": "boolean"
                },
                "default": {
                    "type": [
                        "object"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "properties": {
                    "additionalProperties": false,
                    "patternProperties": {
                        ".*": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/booleanProperty"
                                },
                                {
                                    "$ref": "#/definitions/dataTypes"
                                },
                                {
                                    "$ref": "#/definitions/integerProperty"
                                },
                                {
                                    "$ref": "#/definitions/numberProperty"
                                },
                                {
                                    "$ref": "#/definitions/primitiveArray"
                                },
                                {
                                    "$ref": "#/definitions/resourceProperty"
                                },
                                {
                                    "$ref": "#/definitions/stringProperty"
                                }
                            ]
                        }
                    },
                    "type": "object"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "object"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "numberProperty": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "number"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "exclusiveMaximum": {
                    "type": "boolean"
                },
                "exclusiveMinimum": {
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "maximum": {
                    "type": "number"
                },
                "minimum": {
                    "type": "number"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "number"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "objectArray": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "array"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "items": {
                    "$ref": "#/definitions/nestedObjectProperty"
                },
                "maxItems": {
                    "minimum": 1,
                    "type": "integer"
                },
                "minItems": {
                    "minimum": 0,
                    "type": "integer"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "array"
                    ],
                    "type": "string"
                },
                "uniqueItems": {
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "objectProperty": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "additionalProperties": {
                    "additionalProperties": false,
                    "type": "boolean"
                },
                "default": {
                    "type": [
                        "object"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "properties": {
                    "additionalProperties": false,
                    "patternProperties": {
                        ".*": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/booleanProperty"
                                },
                                {
                                    "$ref": "#/definitions/dataTypes"
                                },
                                {
                                    "$ref": "#/definitions/integerProperty"
                                },
                                {
                                    "$ref": "#/definitions/numberProperty"
                                },
                                {
                                    "$ref": "#/definitions/objectArray"
                                },
                                {
                                    "$ref": "#/definitions/primitiveArray"
                                },
                                {
                                    "$ref": "#/definitions/resourceProperty"
                                },
                                {
                                    "$ref": "#/definitions/stringProperty"
                                }
                            ]
                        }
                    },
                    "type": "object"
                },
                "resourceKey": {
                    "type": "string"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "object"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "primitiveArray": {
            "additionalProperties": false,
            "anyOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "items",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "array"
                    ],
                    "items": {
                        "type": [
                            "boolean",
                            "integer",
                            "number",
                            "string"
                        ]
                    }
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "items": {
                    "$ref": "#/definitions/primitiveArrayProperty"
                },
                "maxItems": {
                    "minimum": 1,
                    "type": "integer"
                },
                "minItems": {
                    "minimum": 0,
                    "type": "integer"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "array"
                    ],
                    "type": "string"
                },
                "uniqueItems": {
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "primitiveArrayProperty": {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "type": {
                    "additionalProperties": false,
                    "enum": [
                        "boolean",
                        "image",
                        "integer",
                        "link",
                        "productList",
                        "richText",
                        "number",
                        "string",
                        "video"
                    ],
                    "type": "string"
                },
                "friendlyName": {
                    "type": "string",
                    "description": "The name of each element in the array"
                }
            },
            "type": "object"
        },
        "ref-definitions": {
            "$ref": "#/definitions/config",
            "description": "Contains common definitions which you can reference in your module definition file"
        },
        "reservedCssProperty": {
            "type": "object",
            "description": "Set of reserved config properties that control the css class name passed down to modules",
            "additionalProperties": false,
            "properties": {
                "__cssClassName__": {
                    "description": "Optional property. Provides a way to set constant, unchangeable default css class(es) to apply to your module.",
                    "type": "object",
                    "properties": {
                        "editable": {
                            "type": "boolean",
                            "enum": [
                                false
                            ]
                        },
                        "type": {
                            "type": "string",
                            "enum": [
                                "string"
                            ]
                        },
                        "default": {
                            "type": "string",
                            "minLength": 1
                        },
                        "friendlyName": {
                            "type": "string",
                            "default": "Readonly CSS Class Name(s)"
                        },
                        "description": {
                            "type": "string",
                            "default": "Provides a way to set constant, unchangeable default css class(es) to apply to your module."
                        }
                    },
                    "required": [
                        "editable",
                        "default",
                        "type",
                        "friendlyName",
                        "description"
                    ]
                },
                "className": {
                    "description": "Optional property. Provides a way to set configurable default css class(es) to apply to your module.",
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "enum": [
                                "string"
                            ]
                        },
                        "default": {
                            "type": "string"
                        },
                        "friendlyName": {
                            "type": "string",
                            "defaul": "Default CSS Class Name(s)"
                        },
                        "description": {
                            "type": "string",
                            "default": "Provides a way to set configurable default css class(es) to apply to your module."
                        }
                    },
                    "required": [
                        "type",
                        "friendlyName",
                        "description"
                    ]
                }
            }
        },
        "resourceProperty": {
            "additionalProperties": false,
            "description": "This property is deprecated. Please use the top level property resources to define resources and related values.",
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "string"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "description": "Group name for this property, eg: Appearance/Layout etc.",
                    "type": "string"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "resource"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "required": {
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "type": "array",
            "uniqueItems": true
        },
        "slot": {
            "anyOf": [
                {
                    "additionalProperties": false,
                    "properties": {
                        "allowedCategories": {
                            "$ref": "#/definitions/allowedCategories"
                        },
                        "allowedTypes": {
                            "$ref": "#/definitions/allowedTypes"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "excludeCategories": {
                            "$ref": "#/definitions/excludeTypes"
                        },
                        "friendlyName": {
                            "$ref": "#/definitions/friendlyName"
                        },
                        "max": {
                            "$ref": "#/definitions/max"
                        },
                        "min": {
                            "$ref": "#/definitions/min"
                        }
                    },
                    "required": [
                        "allowedCategories",
                        "description",
                        "friendlyName",
                        "max",
                        "min"
                    ]
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "allowedCategories": {
                            "$ref": "#/definitions/allowedCategories"
                        },
                        "allowedTypes": {
                            "$ref": "#/definitions/allowedTypes"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "excludeTypes": {
                            "$ref": "#/definitions/excludeTypes"
                        },
                        "friendlyName": {
                            "$ref": "#/definitions/friendlyName"
                        },
                        "max": {
                            "$ref": "#/definitions/max"
                        },
                        "min": {
                            "$ref": "#/definitions/min"
                        }
                    },
                    "required": [
                        "allowedCategories",
                        "description",
                        "friendlyName",
                        "max",
                        "min"
                    ]
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "allowedCategories": {
                            "$ref": "#/definitions/allowedCategories"
                        },
                        "allowedTypes": {
                            "$ref": "#/definitions/allowedTypes"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "excludeCategories": {
                            "$ref": "#/definitions/excludeTypes"
                        },
                        "friendlyName": {
                            "$ref": "#/definitions/friendlyName"
                        },
                        "max": {
                            "$ref": "#/definitions/max"
                        },
                        "min": {
                            "$ref": "#/definitions/min"
                        }
                    },
                    "required": [
                        "allowedTypes",
                        "description",
                        "friendlyName",
                        "max",
                        "min"
                    ]
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "allowedCategories": {
                            "$ref": "#/definitions/allowedCategories"
                        },
                        "allowedTypes": {
                            "$ref": "#/definitions/allowedTypes"
                        },
                        "description": {
                            "$ref": "#/definitions/description"
                        },
                        "excludeTypes": {
                            "$ref": "#/definitions/excludeTypes"
                        },
                        "friendlyName": {
                            "$ref": "#/definitions/friendlyName"
                        },
                        "max": {
                            "$ref": "#/definitions/max"
                        },
                        "min": {
                            "$ref": "#/definitions/min"
                        }
                    },
                    "required": [
                        "allowedTypes",
                        "description",
                        "friendlyName",
                        "max",
                        "min"
                    ]
                }
            ],
            "type": "object"
        },
        "slots": {
            "patternProperties": {
                ".+": {
                    "$ref": "#/definitions/slot"
                }
            },
            "propertyNames": {
                "pattern": "^[a-z][A-Za-z0-9]*$"
            },
            "type": "object",
            "uniqueItems": true
        },
        "stringProperty": {
            "additionalProperties": false,
            "oneOf": [
                {
                    "required": [
                        "$ref"
                    ]
                },
                {
                    "required": [
                        "description",
                        "friendlyName",
                        "type"
                    ]
                }
            ],
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "default": {
                    "type": [
                        "string"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "editable": {
                    "default": true,
                    "type": "boolean"
                },
                "editorStyle": {
                    "type": "string",
                    "enum": [
                        "multiLineText"
                    ]
                },
                "enum": {
                    "patternProperties": {
                        ".+": {
                            "type": "string"
                        }
                    },
                    "propertyNames": {
                        "pattern": "^[a-z][_A-Za-z0-9]*$"
                    },
                    "type": "object",
                    "uniqueItems": true
                },
                "format": {
                    "type": "string",
                    "enum": [
                        "multiLineText"
                    ]
                },
                "friendlyName": {
                    "type": "string"
                },
                "group": {
                    "$ref": "#/definitions/group"
                },
                "maxLength": {
                    "minimum": 1,
                    "type": "integer"
                },
                "minLength": {
                    "minimum": 1,
                    "type": "integer"
                },
                "pattern": {
                    "format": "regex",
                    "type": "string"
                },
                "readOnly": {
                    "default": false,
                    "type": "boolean"
                },
                "required": {
                    "default": false,
                    "type": "boolean"
                },
                "resourceKey": {
                    "type": "string"
                },
                "scope": {
                    "default": "module",
                    "enum": [
                        "module",
                        "siteAndModule",
                        "siteOnly"
                    ],
                    "type": "string"
                },
                "type": {
                    "enum": [
                        "string"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "tags": {
            "description": "Tags used to search the modules, all the categories are automatically added as tags",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "type": "array"
        },
        "title": {
            "maxLength": 1024,
            "type": "string"
        }
    },
    "oneOf": [
        {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "$type": {
                    "enum": [
                        "containerModule",
                        "pageModule"
                    ],
                    "type": "string"
                },
                "attributes": {
                    "$ref": "#/definitions/attributes"
                },
                "categories": {
                    "$ref": "#/definitions/categories"
                },
                "config": {
                    "$ref": "#/definitions/config"
                },
                "resources": {
                    "$ref": "#/definitions/resources"
                },
                "definitions": {
                    "$ref": "#/definitions/ref-definitions"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "dependencies": {
                    "$ref": "#/definitions/dependencies"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                },
                "friendlyName": {
                    "$ref": "#/definitions/friendlyName"
                },
                "screenshots": {
                    "$ref": "#/definitions/screenshots"
                },
                "dataActions": {
                    "$ref": "#/definitions/dataActions"
                },
                "module": {
                    "$ref": "#/definitions/module"
                },
                "name": {
                    "$ref": "#/definitions/name"
                },
                "slots": {
                    "$ref": "#/definitions/slots"
                },
                "tags": {
                    "$ref": "#/definitions/tags"
                }
            },
            "required": [
                "$type",
                "categories",
                "description",
                "friendlyName",
                "name",
                "slots"
            ]
        },
        {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "$type": {
                    "enum": [
                        "contentModule"
                    ],
                    "type": "string"
                },
                "attributes": {
                    "$ref": "#/definitions/attributes"
                },
                "categories": {
                    "$ref": "#/definitions/categories"
                },
                "config": {
                    "$ref": "#/definitions/config"
                },
                "resources": {
                    "$ref": "#/definitions/resources"
                },
                "definitions": {
                    "$ref": "#/definitions/ref-definitions"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "dependencies": {
                    "$ref": "#/definitions/dependencies"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                },
                "friendlyName": {
                    "$ref": "#/definitions/friendlyName"
                },
                "screenshots": {
                    "$ref": "#/definitions/screenshots"
                },
                "dataActions": {
                    "$ref": "#/definitions/dataActions"
                },
                "module": {
                    "$ref": "#/definitions/module"
                },
                "name": {
                    "$ref": "#/definitions/name"
                },
                "tags": {
                    "$ref": "#/definitions/tags"
                }
            },
            "required": [
                "$type",
                "categories",
                "description",
                "friendlyName",
                "name"
            ]
        },
        {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "$type": {
                    "enum": [
                        "htmlHeadTagsModule"
                    ],
                    "type": "string"
                },
                "categories": {
                    "$ref": "#/definitions/categories"
                },
                "config": {
                    "$ref": "#/definitions/config"
                },
                "resources": {
                    "$ref": "#/definitions/resources"
                },
                "definitions": {
                    "$ref": "#/definitions/ref-definitions"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "friendlyName": {
                    "$ref": "#/definitions/friendlyName"
                },
                "dependencies": {
                    "$ref": "#/definitions/dependencies"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                },
                "screenshots": {
                    "$ref": "#/definitions/screenshots"
                },
                "dataActions": {
                    "$ref": "#/definitions/dataActions"
                },
                "module": {
                    "$ref": "#/definitions/module"
                },
                "name": {
                    "$ref": "#/definitions/name"
                },
                "tags": {
                    "$ref": "#/definitions/tags"
                }
            },
            "required": [
                "$type",
                "categories",
                "config",
                "description",
                "friendlyName",
                "module",
                "name"
            ]
        },
        {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "$type": {
                    "enum": [
                        "definitionExtension"
                    ],
                    "type": "string"
                },
                "config": {
                    "description": "Allows extension of parent definition config properties",
                    "$ref": "#/definitions/config"
                },
                "resources": {
                    "description": "Allows extension of parent definition resource properties",
                    "$ref": "#/definitions/resources"
                },
                "disableConfigProperties": {
                    "type": "array",
                    "description": "An array of properties that should not be inherited from the parent definition",
                    "items": {
                        "type": "string"
                    }
                },
                "slots": {
                    "description": "Allows extension of parent definition slot properties",
                    "$ref": "#/definitions/slots"
                },
                "dataActions": {
                    "$ref": "#/definitions/dataActions"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                },
                "dependencies": {
                    "$ref": "#/definitions/dependencies"
                }
            },
            "required": [
                "$type"
            ]
        },
        {
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "$ref": {
                    "minLength": 2,
                    "type": "string"
                },
                "$type": {
                    "enum": [
                        "scriptModule"
                    ],
                    "type": "string"
                },
                "attributes": {
                    "additionalItems": false,
                    "additionalProperties": false,
                    "description": "Additional attributes for a module which inform how tooling needs to handle this module",
                    "properties": {
                        "allowInBodyBegin": {
                            "default": false,
                            "description": "If set to true this module will be allowed to be placed in beginning of the body",
                            "type": "boolean"
                        },
                        "allowInBodyEnd": {
                            "default": false,
                            "description": "If set to true, this module will be allowed to be placed at the end of the body",
                            "type": "boolean"
                        },
                        "allowInHead": {
                            "default": false,
                            "description": "If set to true this module will be allowed to be placed in head of html document",
                            "type": "boolean"
                        }
                    },
                    "type": "object"
                },
                "categories": {
                    "$ref": "#/definitions/categories"
                },
                "config": {
                    "$ref": "#/definitions/config"
                },
                "resources": {
                    "$ref": "#/definitions/resources"
                },
                "definitions": {
                    "$ref": "#/definitions/ref-definitions"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "dependencies": {
                    "$ref": "#/definitions/dependencies"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                },
                "friendlyName": {
                    "$ref": "#/definitions/friendlyName"
                },
                "screenshots": {
                    "$ref": "#/definitions/screenshots"
                },
                "dataActions": {
                    "$ref": "#/definitions/dataActions"
                },
                "module": {
                    "$ref": "#/definitions/module"
                },
                "name": {
                    "$ref": "#/definitions/name"
                },
                "tags": {
                    "$ref": "#/definitions/tags"
                }
            },
            "required": [
                "$type",
                "attributes",
                "categories",
                "config",
                "description",
                "friendlyName",
                "module",
                "name"
            ]
        },
        {
            "additionalItems": true,
            "additionalProperties": true,
            "properties": {
                "$type": {
                    "description": "moduleDefinition is deprecated, please select a different option",
                    "enum": [
                        "moduleDefinition"
                    ],
                    "type": "string"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                }
            },
            "required": [
                "$type",
                "description"
            ]
        },
        {
            "additionalItems": true,
            "additionalProperties": true,
            "properties": {
                "$type": {
                    "description": "Theme module description",
                    "enum": [
                        "themeModule"
                    ],
                    "type": "string"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "filterCriteria": {
                    "$ref": "#/definitions/filterCriteria"
                },
                "slots": {
                    "patternProperties": {
                        ".+": {
                            "$ref": "#/definitions/slot"
                        }
                    },
                    "propertyNames": {
                        "pattern": "^[a-z][A-Za-z0-9]*$"
                    },
                    "type": "object",
                    "uniqueItems": true
                }
            },
            "required": [
                "$type",
                "description"
            ]
        }
    ]
}