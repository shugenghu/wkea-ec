{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "JSON schema for page mock",
    "type": "object",
    "additionalProperties": true,
    "properties": {
        "pageRoot": {
            "type": "object",
            "properties": {
                "modules": {
                    "$ref": "#/definitions/rootModules"
                },
                "id": {
                    "type": "string"
                },
                "typeName": {
                    "type": "string"
                },
                "config": {
                    "$ref": "#/definitions/setting"
                }
            },
            "required": [
                "modules",
                "id",
                "typeName"
            ]
        },
        "renderingContext": {
            "type": "object",
            "properties": {
                "locale": {
                    "type": "string"
                },
                "requestUrl": {
                    "type": "string"
                },
                "clientContext": {
                    "$ref": "#/definitions/clientContext"
                },
                "staticContext": {
                    "$ref": "#/definitions/staticContext"
                },
                "userContext": {
                    "$ref": "#/definitions/userContext"
                }
            }
        },
        "statusCode": {
            "type": "number"
        }
    },
    "definitions": {
        "rootModules": {
            "type": "object",
            "properties": {
                "htmlHead": { 
                    "$ref": "#/definitions/moduleContent"
                },
                "bodyBegin": { 
                    "$ref": "#/definitions/moduleContent"
                },
                "bodyEnd": { 
                    "$ref": "#/definitions/moduleContent"
                },
                "body": {
                    "type": "array",
                    "items": [
                        {
                            "type": "object",
                            "properties": {
                                "typeName": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "string"
                                },
                                "friendlyName": {
                                    "type": "string"
                                },
                                "config": {
                                    "type": "object"
                                },
                                "modules": { 
                                    "$ref": "#/definitions/bodyModules"
                                }
                            }
                        }
                    ]
                }
            },
            "required": [
                "body"
            ]
        },
        "bodyModules": {
            "type": "object",
            "uniqueItems": true,
            "additionalProperties": true,
            "propertyNames": {
                "pattern": "^[a-z][_A-Za-z0-9]*$|ref$"
            },
            "properties": {
                "header": {
                    "$ref": "#/definitions/bodyModule"
                },
                "footer": {
                    "$ref": "#/definitions/bodyModule"
                },
                "primary": {
                    "$ref": "#/definitions/bodyModule"
                }
            }
        },
        "bodyModule": {
            "type": "array",
            "uniqueItems": true,
            "items": [
                {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "string"
                        },
                        "typeName": {
                            "type": "string"
                        },
                        "friendlyName": {
                            "type": "string"
                        },
                        "config": {
                            "$ref": "#/definitions/setting"
                        },
                        "modules": { 
                            "$ref": "#/definitions/moduleContents"
                        }
                    },
                    "required": [
                        "id",
                        "typeName"
                    ]
                }
            ]
        },
        "moduleContents": {
            "type": "object",
            "uniqueItems": true,
            "propertyNames": {
                "pattern": "^[a-z][_A-Za-z0-9]*$|ref$"
            },
            "patternProperties": {
                "content": {
                    "$ref": "#/definitions/moduleContent"
                }
            }
        },
        "moduleContent": {
            "type": "array",
            "uniqueItems": true,
            "items": [
                {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "string"
                        },
                        "typeName": {
                            "type": "string"
                        },
                        "friendlyName": {
                            "type": "string"
                        },
                        "config": {
                            "$ref": "#/definitions/setting"
                        }
                    },
                    "required": [
                        "id",
                        "typeName"
                    ]
                }
            ]
        },
        "setting": {
            "type": "object",
            "uniqueItems": true,
            "propertyNames": {
                "pattern": "^[$\\a-z][_A-Za-z0-9]*$"
            },
            "patternProperties": {
                ".+": {
                    "type": [
                        "object",
                        "string",
                        "boolean",
                        "array",
                        "null"
                    ]
                }
            }
        },
        "clientContext": {
            "type": "object",
            "properties": {
                "deviceType": {
                    "type": "string"
                }
            }
        },
        "staticContext": {
            "type": "object",
            "properties": {
                "staticCdnUrl": {
                    "type": "string"
                },
                "staticCdnUrlWithLocale": {
                    "type": "string"
                }
            },
            "required": [
                "staticCdnUrl"
            ]
        },
        "userContext": {
            "type": "object",
            "properties": {
                "isAuthenticated": {
                    "type": "boolean"
                },
                "signInUrl": {
                    "type": "string"
                }
            }
        }
    }
}