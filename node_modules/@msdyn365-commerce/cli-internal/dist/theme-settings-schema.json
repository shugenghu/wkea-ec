{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "JSON schema for app settings",
    "type": "object",
    "additionalItems": false,
    "additionalProperties": true,
    "properties": {
        "config": {
            "$ref": "./definition-schema.json#/definitions/config"
        },
        "modules": {
            "$ref": "#/definitions/modules"
        },
        "gridSettings": {
            "$ref": "#/definitions/gridSettings"
        }
    },
    "required": [
        "modules",
        "gridSettings"
    ],
    "definitions": {
        "gridSettings": {
            "type": "object",
            "title": "Defines the Width of various view ports for the bootstrap grid",
            "description": "Defines the Width of various view ports for the bootstrap grid",
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "xs": {
                    "type": "number",
                    "title": "Width for the Extra Small View port",
                    "minimum": 0
                },
                "sm": {
                    "type": "number",
                    "title": "Width for the Small View port",
                    "minimum": 0
                },
                "md": {
                    "type": "number",
                    "title": "Width for the Medium View port",
                    "minimum": 0
                },
                "lg": {
                    "type": "number",
                    "title": "Width for the Large View port",
                    "minimum": 0
                },
                "xl": {
                    "type": "number",
                    "title": "Width for the Extra Large View port",
                    "minimum": 0
                }
            },
            "required": [
                "xs",
                "sm",
                "md",
                "lg",
                "xl"
            ]
        },
        "modules": {
            "type": "object",
            "title": "Module specific theme settings",
            "description": "Helps define theme and image settings for modules",
            "additionalItems": false,
            "additionalProperties": false,
            "propertyNames": {
                "pattern": "^[a-z][A-Za-z0-9_-]*$"
            },
            "patternProperties": {
                ".+": {
                    "$ref": "#/definitions/module"
                }
            },
            "minProperties": 1
        },
        "module": {
            "type": "object",
            "uniqueItems": true,
            "additionalItems": false,
            "additionalProperties": false,
            "title": "Module settings",
            "properties": {
                "properties": {
                    "type": "object",
                    "additionalItems": false,
                    "additionalProperties": false,
                    "title": "Configuration options for the module",
                    "uniqueItems": true,
                    "propertyNames": {
                        "pattern": "^[a-z][A-Za-z0-9_-]*$"
                    },
                    "patternProperties": {
                        ".+": {
                            "$ref": "#/definitions/layout"
                        }
                    }
                }
            }
        },
        "layout": {
            "type": "object",
            "uniqueItems": true,
            "additionalItems": false,
            "additionalProperties": false,
            "title": "Module layout settings",
            "properties": {
                "friendlyName": {
                    "type": "string",
                    "description": "Friendly name of the layout for the authoring tool"
                },
                "description": {
                    "type": "string",
                    "description": "Description of the layout for the authoring tool"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "layout"
                    ]
                },
                "properties": {
                    "type": "object",
                    "additionalItems": false,
                    "additionalProperties": false,
                    "title": "Configuration options for the current layout",
                    "uniqueItems": true,
                    "propertyNames": {
                        "pattern": "^[a-z][A-Za-z0-9_-]*$"
                    },
                    "patternProperties": {
                        ".+": {
                            "$ref": "#/definitions/layoutConfigProperty"
                        }
                    }
                }
            },
            "required": [
                "friendlyName",
                "description",
                "type"
            ]
        },
        "imageSize": {
            "type": "object",
            "additionalItems": false,
            "additionalProperties": false,
            "properties": {
                "width": {
                    "type": "number",
                    "description": "Image Width for the given viewport",
                    "minimum": 0
                },
                "height": {
                    "type": "number",
                    "description": "Image height for the given viewport",
                    "minimum": 0
                }
            },
            "required": [
                "width",
                "height"
            ]
        },
        "layoutConfigProperty": {
            "type": "object",
            "uniqueItems": true,
            "additionalItems": false,
            "additionalProperties": false,
            "description": "Image/ImageSetting property for a given module",
            "properties": {
                "friendlyName": {
                    "type": "string",
                    "description": "Friendly name of the image property for the authoring tool"
                },
                "description": {
                    "type": "string",
                    "description": "Description of the image property for the authoring tool"
                },
                "type": {
                    "type": "string",
                    "description": "Layout configuration property type",
                    "enum": [
                        "imageSizes"
                    ]
                },
                "properties": {
                    "type": "object",
                    "additionalItems": false,
                    "additionalProperties": false,
                    "title": "Image Sizes for the current layout",
                    "properties": {
                        "xs": {
                            "$ref": "#/definitions/imageSize"
                        },
                        "sm": {
                            "$ref": "#/definitions/imageSize"
                        },
                        "md": {
                            "$ref": "#/definitions/imageSize"
                        },
                        "lg": {
                            "$ref": "#/definitions/imageSize"
                        },
                        "xl": {
                            "$ref": "#/definitions/imageSize"
                        }
                    },
                    "required": [
                        "lg"
                    ]
                }
            },
            "required": [
                "type"
            ]
        }
    }
}