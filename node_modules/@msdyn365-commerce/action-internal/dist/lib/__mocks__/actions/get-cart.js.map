{"version":3,"file":"get-cart.js","sourceRoot":"","sources":["../../../../src/__mocks__/actions/get-cart.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAGH,OAAO,EAAE,gBAAgB,EAAE,MAAM,0BAA0B,CAAC;AAE5D,aAAa;AACb,MAAM,OAAO,SAAS;IAAtB;QAKW,uBAAkB,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC;QAClC,gBAAW,GAAG,GAAG,EAAE,CAAC,WAAW,CAAC;QAChC,sBAAiB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC;IAC1C,CAAC;IAPU,SAAS;QACZ,uEAAuE;IAC3E,CAAC;CAKJ;AAcD,MAAM,CAAC,MAAM,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AAE5C,wCAAwC;AACxC,MAAM,QAAQ,GAAc,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;AAC1C,KAAK,UAAU,OAAO,CAAC,KAAgB,EAAE,GAAmB;IACxD,OAAO,QAAQ,CAAC;AACpB,CAAC;AAED,aAAa;AACb,YAAY;AACZ,eAAe,gBAAgB,CAAC,EAAE,MAAM,EAAE,WAAiC,EAAE,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,SAAS,EAAE,EAAE,CAAC,CAAC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { IAction, IActionContext, IActionInput } from '@msdyn365-commerce/core-internal';\nimport { createDataAction } from '../../create-data-action';\n\n/*@internal*/\nexport class CartInput implements IActionInput {\n    public CartInput() {\n        // ideally this class gets the context and reads the user id from there\n    }\n\n    public getCacheObjectType = () => 'CART';\n    public getCacheKey = () => 'USER_CART';\n    public shouldCacheOutput = () => true;\n}\n\n/*@internal*/\nexport interface ICartLine {\n    productId: string;\n    quantity: number;\n    userPrice: number;\n}\n\n/*@internal*/\nexport interface ICartInfo {\n    lines: ICartLine[];\n}\n\nexport const mockGetCart = jest.fn(getCart);\n\n// todo: this could be from zone.current\nconst cartInfo: ICartInfo = { lines: [] };\nasync function getCart(input: CartInput, ctx: IActionContext): Promise<ICartInfo> {\n    return cartInfo;\n}\n\n/*@internal*/\n//@ts-ignore\nexport default createDataAction({ action: mockGetCart as IAction<ICartInfo>, id: 'TestHook', input: () => new CartInput() });\n"]}