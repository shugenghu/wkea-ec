/*!
 * Copyright (c) Microsoft Corporation.
 * All rights reserved. See LICENSE in the project root for license information.
 */
import { AsyncResult } from '@msdyn365-commerce/retail-proxy';
import { wrapDataAction } from './wrap-data-action';
/**
 * Higher order function which exposes the current method as an action
 * @param action The action method
 * @param isBatched If the service call can handle batched requests efficiently
 * @param input Optional parameter of a single instance or an array of IActionInputs that will be passed to the action method.
 */
export const createObservableDataAction = (options) => {
    const wrappedAction = wrapDataAction(options, (arg1, arg2) => {
        return new AsyncResult((resolve, reject) => {
            arg2.chainAction(options.action, arg1)
                .then(result => {
                resolve(result);
            })
                .catch(error => {
                reject(error);
            });
        });
    });
    wrappedAction.prototype.setProperty('isObservable', true);
    return wrappedAction;
};
//# sourceMappingURL=create-data-action.vnext.js.map