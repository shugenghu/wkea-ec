{"version":3,"file":"module-registration-model.js","sourceRoot":"","sources":["../../../../src/module-registration/__mocks__/module-registration-model.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;AAEH,gBAAc;AACd,iDAA6B;AAkB7B,IAAM,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AAEtF,gBAAgB;AAChB,IAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,8BAA8B,CAAC,CAAC;AAErE,aAAa;AACb,KAAK,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;AAEhD,aAAa;AACb,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,CAAC;AAEhE,aAAa;AACb,KAAK,CAAC,yBAAyB,GAAG,UAAC,QAAgB,IAAK,OAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,EAAvD,CAAuD,CAAC;AAEnG,QAAA,MAAM,GAAG;IAClB,oBAAoB,EAAE,qBAAqB;IAC3C,SAAS,EAAE,CAAC,4BAA4B,EAAE,6BAA6B,CAAC;CAC3E,CAAC;AAEF,aAAa;AACb,KAAK,CAAC,MAAM,GAAG;IACX,mBAAmB,EAAE,cAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,SAAS,IAAI,OAAG,OAAO,CAAC,GAAG,EAAE,sBAAiB,SAAS,+BAA4B,EAAtE,CAAsE,CAAC;IAC9H,iBAAiB,EAAE,cAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,SAAS,IAAI,OAAG,mBAAmB,sBAAiB,SAAS,+BAA4B,EAA5E,CAA4E,CAAC;IAClI,eAAe,EAAK,OAAO,CAAC,GAAG,EAAE,wBAAqB;CACzD,CAAC;AAEF,aAAa;AACb,KAAK,CAAC,IAAI,GAAG;IACT,mBAAmB,EAAE,cAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,SAAS,IAAI,OAAG,OAAO,CAAC,GAAG,EAAE,sBAAiB,SAAS,6BAA0B,EAApE,CAAoE,CAAC;IAC5H,iBAAiB,EAAE,cAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,SAAS,IAAI,OAAG,mBAAmB,sBAAiB,SAAS,6BAA0B,EAA1E,CAA0E,CAAC;IAChI,eAAe,EAAK,OAAO,CAAC,GAAG,EAAE,uBAAoB;CACxD,CAAC;AAEF,aAAa;AACb,KAAK,CAAC,UAAU,GAAG;IACf,mBAAmB,EAAK,OAAO,CAAC,GAAG,EAAE,iDAA8C;IACnF,iBAAiB,EAAK,OAAO,CAAC,GAAG,EAAE,+CAA4C;IAC/E,eAAe,EAAK,OAAO,CAAC,GAAG,EAAE,6CAA0C;CAC9E,CAAC;AAEF,aAAa;AACb,KAAK,CAAC,cAAc,GAAG;IACnB,mBAAmB,EAAK,OAAO,CAAC,GAAG,EAAE,2CAAwC;IAC7E,iBAAiB,EAAK,OAAO,CAAC,GAAG,EAAE,yCAAsC;IACzE,eAAe,EAAK,OAAO,CAAC,GAAG,EAAE,uCAAoC;CACxE,CAAC;AAEF,aAAa;AACb,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport 'jest';\nimport * as path from 'path';\n\nexport interface IDictionary<T> {\n    [index: string]: T;\n    [index: number]: T;\n}\n\nexport interface IDataAction {\n    name: string;\n    path: string;\n    isNodeDataAction: boolean;\n}\n\nexport interface IIModule {\n    view: string;\n    dataActions: IDictionary<IDataAction>;\n}\n\nconst resolvedHoistedPath = path.resolve(process.cwd(), '../..').replace(/\\\\/gi, '/');\n\n/* @ts-ignore */\nconst model = jest.genMockFromModule('../module-registration-model');\n\n// @ts-ignore\nmodel.resolvedHoistedPath = resolvedHoistedPath;\n\n// @ts-ignore\nmodel.nodeModulePath = path.join(process.cwd(), 'node_modules');\n\n// @ts-ignore\nmodel.getRegistrationOutputPath = (fileName: string) => path.resolve(path.join(process.cwd(), 'lib', fileName));\n\nexport const MODULE = {\n    registrationFileName: 'module-registration',\n    namespace: ['@msdyn365-commerce-modules', '@msdyn365-commerce-partners']\n};\n\n// @ts-ignore\nmodel.ACTION = {\n    fromInstalledModule: MODULE.namespace.map(namespace => `${process.cwd()}/node_modules/${namespace}/*/dist/lib/**/*.action.js`),\n    fromHoistedModule: MODULE.namespace.map(namespace => `${resolvedHoistedPath}/node_modules/${namespace}/*/dist/lib/**/*.action.js`),\n    fromLocalModule: `${process.cwd()}/src/**/*.action.ts`\n};\n\n// @ts-ignore\nmodel.VIEW = {\n    fromInstalledModule: MODULE.namespace.map(namespace => `${process.cwd()}/node_modules/${namespace}/*/dist/lib/**/*.view.js`),\n    fromHoistedModule: MODULE.namespace.map(namespace => `${resolvedHoistedPath}/node_modules/${namespace}/*/dist/lib/**/*.view.js`),\n    fromLocalModule: `${process.cwd()}/src/**/*.view.tsx`\n};\n\n// @ts-ignore\nmodel.DEFINITION = {\n    fromInstalledModule: `${process.cwd()}/src/__mocks__/installed/*/*.definition.json`,\n    fromHoistedModule: `${process.cwd()}/src/__mocks__/hoisted/*/*.definition.json`,\n    fromLocalModule: `${process.cwd()}/src/__mocks__/local/*/*.definition.json`\n};\n\n// @ts-ignore\nmodel.DATADEFINITION = {\n    fromInstalledModule: `${process.cwd()}/src/__mocks__/installed/*/*.data.json`,\n    fromHoistedModule: `${process.cwd()}/src/__mocks__/hoisted/*/*.data.json`,\n    fromLocalModule: `${process.cwd()}/src/__mocks__/local/*/*.data.json`\n};\n\n// @ts-ignore\nmodule.exports = model;\n"]}