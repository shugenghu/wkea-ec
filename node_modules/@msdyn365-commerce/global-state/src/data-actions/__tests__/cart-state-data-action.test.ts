import 'jest';

import * as core from '@msdyn365-commerce/core';
import mockRequestContext from '../../__mocks__/request-context.json';

import createCartStateDataAction from '../cart-state-data-action';

describe('createGlobalStateDataAction', () => {
    // Setup mocks
    beforeAll(() => {
        core.initializeMockApp();
    });

    beforeEach(() => {
        jest.resetAllMocks();
    });

    it('creates createCartStateDataAction', async () => {
        const dataAction = createCartStateDataAction;
        const actionContext = core.buildMockActionContext({ requestContext: <core.IRequestContext>(<unknown>mockRequestContext) });

        const input = dataAction.prototype.inputFunc({requestContext: actionContext.requestContext});

        expect(input).toBeDefined();
        expect(input.key).toBe('CARTSTATE');
    });
});