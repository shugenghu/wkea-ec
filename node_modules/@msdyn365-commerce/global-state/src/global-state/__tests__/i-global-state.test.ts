import 'jest';

import * as core from '@msdyn365-commerce/core';
import { BaseCartState } from '../../cart-state/base-cart-state';
import { createGlobalState } from '../i-global-state';

import mockRequestContext from '../../__mocks__/request-context.json';

describe('global state tests', () => {
    // Setup mocks
    beforeAll(() => {
        core.initializeMockApp();
    });

    it('Test createGlobalState', async () => {
        const actionContext = core.buildMockActionContext({ requestContext: <core.IRequestContext>(<unknown>mockRequestContext) });

        const baseCartState = createGlobalState(BaseCartState, actionContext);

        expect(baseCartState).toBeDefined();
    });
});
