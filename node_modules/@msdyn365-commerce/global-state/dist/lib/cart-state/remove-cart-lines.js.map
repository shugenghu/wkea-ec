{"version":3,"file":"remove-cart-lines.js","sourceRoot":"./src/","sources":["cart-state/remove-cart-lines.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,oBAAoB,EAAE,MAAM,qEAAqE,CAAC;AAI3G,MAAM,CAAC,OAAO,CAAC,KAAK,UAAU,uBAAuB,CAAC,IAAgC,EAAE,WAAqB,EAAE,aAA6B;IACxI,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;KAChD;IAED,OAAO,oBAAoB,CAAC,EAAE,aAAa,EAAE,aAAa,EAAC,EAAE,IAAI,CAAC,EAAE,EAAE,WAAW,CAAC;SAC7E,IAAI,CAAC,OAAO,CAAC,EAAE;QACZ,4CAA4C;QAC5C,MAAM,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;QAEnE,OAAmC,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC;IACjF,CAAC,CAAC;SACD,KAAK,CAAC,KAAK,CAAC,EAAE;QACX,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACvC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAE5D,OAAmC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;IAC7E,CAAC,CAAC,CAAC;AACX,CAAC","sourcesContent":["import { IActionContext } from '@msdyn365-commerce/core';\nimport { removeCartLinesAsync } from '@msdyn365-commerce/retail-proxy/dist/DataActions/CartsDataActions.g';\nimport { Cart } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\nimport { ICartActionResultWithCart } from './cart-action-result';\n\nexport default async function removeCartLinesInternal(cart: Readonly<Cart | undefined>, cartLineIds: string[], actionContext: IActionContext): Promise<ICartActionResultWithCart> {\n    if (!cart) {\n        return { cart: undefined, status: 'FAILED' };\n    }\n\n    return removeCartLinesAsync({ callerContext: actionContext}, cart.Id, cartLineIds)\n        .then(newCart => {\n            // This is because of a TSProxy typing error\n            const returnedCart = Array.isArray(newCart) ? newCart[0] : newCart;\n\n            return <ICartActionResultWithCart> { cart: returnedCart, status: 'SUCCESS' };\n        })\n        .catch(error => {\n            actionContext.telemetry.warning(error);\n            actionContext.telemetry.debug('Unable to Remove Cart Line');\n\n            return <ICartActionResultWithCart> { cart: undefined, status: 'FAILED' };\n        });\n}"]}