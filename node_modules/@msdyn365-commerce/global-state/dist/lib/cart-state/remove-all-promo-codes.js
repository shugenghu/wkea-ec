import { removeDiscountCodesAsync } from '@msdyn365-commerce/retail-proxy/dist/DataActions/CartsDataActions.g';
export default async function removeAllPromoCodes(cart, actionContext) {
    if (!cart) {
        return { cart: undefined, status: 'FAILED' };
    }
    if (cart.Coupons && cart.Coupons.length > 0) {
        const promoCodes = cart.Coupons.map(coupon => { return coupon.Code || ''; });
        return removeDiscountCodesAsync({ callerContext: actionContext }, cart.Id, promoCodes)
            .then(newCart => {
            return { cart: newCart, status: 'SUCCESS' };
        }).catch(error => {
            actionContext.telemetry.warning(error);
            return { cart: undefined, status: 'FAILED' };
        });
    }
    return { cart: cart, status: 'SUCCESS' };
}
//# sourceMappingURL=remove-all-promo-codes.js.map