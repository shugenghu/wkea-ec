import 'jest';
import * as core from '@msdyn365-commerce/core';
import mockRequestContext from '../../__mocks__/request-context.json';
import { GlobalState } from '../global-state';
describe('initialize tests', () => {
    const actionContext = core.buildMockActionContext({ requestContext: mockRequestContext });
    // Setup mocks
    beforeAll(() => {
        core.initializeMockApp();
    });
    beforeEach(() => {
        jest.resetAllMocks();
    });
    it('sets state to ready', async () => {
        const state = new GlobalState(actionContext);
        expect(state.status).toEqual('UPDATING');
        await state.initialize();
        expect(state.status).toEqual('READY');
    });
});
//# sourceMappingURL=global-state.test.js.map