{"version":3,"file":"client-initialization.js","sourceRoot":"","sources":["../../../src/app-initialization/client-initialization.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAEH,OAAO,EAAU,YAAY,EAAE,MAAM,mCAAmC,CAAC;AACzE,OAAO,EAKH,gBAAgB,EAChB,gBAAgB,EACnB,MAAM,kCAAkC,CAAC;AAC1C,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AAEjD,OAAO,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAMrD,MAAM,YAAY,GAAW,IAAI,YAAY,EAAE,CAAC;AAEhD,iCAAiC;AACjC,MAAM,CAAC,MAAM,mBAAmB,GAAG,CAAC,QAAkB,EAAE,UAAuB,EAAE,EAAE;IAC/E,aAAa,CAAC,QAAQ,CAAC,CAAC;IAES,gBAAiB,CAAC,SAAS,CAAC,qBAAqB,GAAG;QACjF,aAAa;QACb,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;QACrE,aAAa;QACb,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QAEvC,aAAa;QACb,IAAI,CAAC,yBAAyB,GAAG,UAAU,EAAE,eAAe,CAAC;IACjE,CAAC,CAAC;IAEe,gBAAiB,CAAC,qBAAqB,EAAE,CAAC;IAE1B,gBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,CAAC,cAA+B,EAAE,EAAE,CAAC,YAAY,CAAC;AACjI,CAAC,CAAC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { ICache, RequestCache } from '@msdyn365-commerce/cache-internal';\nimport {\n    IAny,\n    IExperimentationConnector,\n    IGeneric,\n    IRequestContext,\n    MSDyn365Commerce,\n    msdyn365Commerce\n} from '@msdyn365-commerce/core-internal';\nimport { initializeApp } from './initialization';\nimport { IBinding, IMSDyn365CommerceWithPrototype } from './models';\nimport { createComponent } from './render-component';\n\ninterface IConnectors {\n    experimentation: IExperimentationConnector;\n}\n\nconst requestCache: ICache = new RequestCache();\n\n// tslint:disable:no-invalid-this\nexport const initializeClientApp = (bindings: IBinding, connectors: IConnectors) => {\n    initializeApp(bindings);\n\n    (<IMSDyn365CommerceWithPrototype>MSDyn365Commerce).prototype.updatePrivateVariable = function(): void {\n        // @ts-ignore\n        this._buildVersion = window.___appData___ && window.___appData___.bv;\n        // @ts-ignore\n        this.createComponent = createComponent;\n\n        // @ts-ignore\n        this._experimentationConnector = connectors?.experimentation;\n    };\n\n    (<IGeneric<IAny>>msdyn365Commerce).updatePrivateVariable();\n\n    (<IMSDyn365CommerceWithPrototype>MSDyn365Commerce).prototype.getAppCache = (requestContext: IRequestContext) => requestCache;\n};\n"]}