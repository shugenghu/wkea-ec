{"version":3,"file":"base-page-utils.js","sourceRoot":"","sources":["../../../src/utils/base-page-utils.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport {\n    IAny,\n    IDictionary,\n    IGeneric,\n    IRequestContext,\n    isNonceEnabled,\n    msdyn365Commerce,\n    sanitizeForXss\n} from '@msdyn365-commerce/core-internal';\nimport { PageLogger, RetainLogger } from '@msdyn365-commerce/telemetry-internal';\nimport fastJson from 'fast-json-stringify';\nimport { renderToString } from 'react-dom/server';\nimport { IBasePageProps } from '../components/IBasePageProps';\nimport { GLIMPSE_LOGGER_NAME, PAGE_LOGGER_NAME } from '../consts';\nimport { CommentTag } from './helpers';\n\nlet APPINSIGHTS_EXCLUDED_DOMAINS: string[] = [];\n\nexport const getExcludedDomains = (appContext: IGeneric<IAny>) => {\n    if (!APPINSIGHTS_EXCLUDED_DOMAINS.length) {\n        const excludedDomains: string[] = (appContext.platform && appContext.platform.correlationHeaderExcludedDomains) || [];\n        APPINSIGHTS_EXCLUDED_DOMAINS = excludedDomains;\n    }\n    return JSON.stringify(APPINSIGHTS_EXCLUDED_DOMAINS);\n};\n\nconst renderToStringWithNonceToken = (scriptTags: React.ReactElement[], nonceToken?: string) => {\n    let scriptTagStringsWithNonce = '';\n    for (const scriptTag of scriptTags) {\n        const scriptTagString: string = renderToString(scriptTag);\n        // if it is inline script, we add nonce token to it.\n        if (nonceToken && scriptTag.props && scriptTag.props.children && scriptTag.type === 'script' && !scriptTag.props.src) {\n            scriptTagStringsWithNonce = scriptTagStringsWithNonce.concat(\n                scriptTagString.replace(/<script/g, `<script nonce=${nonceToken}`)\n            );\n        } else {\n            scriptTagStringsWithNonce = scriptTagStringsWithNonce.concat(scriptTagString);\n        }\n    }\n    return scriptTagStringsWithNonce;\n};\n\nexport const renderTags = (tags: React.ReactElement[], nonceToken?: string) => {\n    // nonceToken will only be used when render <script> element. For this, we\n    // only check if it is inline script when nonceToken parameter is passed in.\n    if (!tags || tags.length === 0) {\n        return '';\n    }\n    return renderToStringWithNonceToken(tags, nonceToken);\n};\n\nexport const injectStylePresets = (url: string | undefined) => {\n    if (!url) {\n        return '';\n    }\n\n    return `<link rel=\"stylesheet\" href=\"${url}\" crossorigin=\"anonymous\" />`;\n};\n\n/**\n * Returns the following debug information in json format\n * to be included in the head tag as data-info attribute\n *      v: Version\n *      dg: DeviceGroup\n *      th: Theme\n *      lo: Locale\n *      m: Market\n *      la: Language\n *      ru: RequestUrl\n * @param props\n * @param isWindowDataInfo\n */\nexport const getDebugInfo = (props: IBasePageProps, isWindowDataInfo: boolean): string => {\n    const { context, requestUrl } = props;\n\n    const version = props.appData.bv ? props.appData.bv : 'Unable to get build version';\n\n    const baseDataInfo = {\n        lo: context.locale,\n        ru: requestUrl && requestUrl.href\n    };\n    const localeParts: string[] = context.locale.split('-');\n\n    // Grab the language and market from the locale\n    let market = context.locale;\n    let language = context.locale;\n    if (localeParts.length === 2) {\n        market = localeParts[1];\n        language = localeParts[0];\n    }\n\n    // tslint:disable-next-line: no-any\n    let debugValues: any = baseDataInfo;\n    if (isWindowDataInfo) {\n        debugValues = {\n            ...baseDataInfo,\n            v: version,\n            dg: context.device.Type,\n            m: market,\n            la: language,\n            ru: requestUrl && requestUrl.href,\n            fs: props.context.features\n        };\n    }\n\n    return JSON.stringify(debugValues);\n};\n\nexport const useToolGlimpse = (props: IBasePageProps): boolean | undefined => {\n    const params = props.context.query;\n    return params && params.usetool === 'glimpse';\n};\n\nexport const includePageLogs = (props: IBasePageProps): string => {\n    const logger = props.telemetry.getNamedLoggerInstance<PageLogger>(PAGE_LOGGER_NAME);\n    if (logger) {\n        return `${CommentTag('Start Server Logs')}<script type=\"text/javascript\">window.__pageLogs__ = ${JSON.stringify(\n            logger.logs\n        )};</script>${CommentTag('End Server Logs')}`;\n    }\n    return '';\n};\n\n// tslint:disable:max-line-length\nexport const includeGlimpseNodeTab = (props: IBasePageProps): string => {\n    const logger = props.telemetry.getNamedLoggerInstance<RetainLogger>(GLIMPSE_LOGGER_NAME);\n    if (logger) {\n        if (useToolGlimpse(props)) {\n            return `${CommentTag(\n                'START GLIMPSE JS'\n            )}<script type=\"text/javascript\">function glm(){if(window.glimpse){var e=window._glimpseData.data;delete e.glimpse_views,delete e.microsoft_onerenderframework_webproject_toolshelper_partnermodulestab,Object.assign(e,{Node:{name:\"Node\",data:${sanitizeForXss(\n                JSON.stringify(logger.getLogs())\n            )}}}),window.glimpse.data.update(window._glimpseData)}}\"loading\"===document.readyState?document.addEventListener(\"DOMContentLoaded\",glm):glm();\n                        </script>${CommentTag('END GLIMPSE JS')}`;\n        } else if (props.isDebug) {\n            // TODO: is there a better way to add this?\n            // @ts-ignore\n            return `${CommentTag('Start Server Logs')}<script type=\"text/javascript\">window.__server__ = ${JSON.stringify(\n                logger.getLogs()\n            )};</script>${CommentTag('End Server Logs')}`;\n        }\n    }\n    return '';\n};\n\n/**\n * Parses app-settings to return the content security policy\n * that should be applied to this site\n */\nexport const getContentSecurityPolicy = (ctx: IRequestContext): string => {\n    // If CSP is disabled return policy that allows everything\n    // Check if disableContentSecurityPolicy is set to true\n    if (!ctx || !ctx.app || !ctx.app.contentSecurityPolicy || ctx.app.contentSecurityPolicy.disableContentSecurityPolicy) {\n        return '';\n    }\n\n    const cspDirectives = ctx.app.contentSecurityPolicy;\n    let directives: string = '';\n    // If running in dev mode add the following to allowed list for connect and img src\n    if (process.env.NODE_ENV === 'development') {\n        cspDirectives['connect-src'] = (cspDirectives['connect-src'] || []).concat(['localhost:*', 'wss:']);\n\n        if (process.env.MSDyn365Commerce_BASEURL) {\n            cspDirectives['connect-src'].push(process.env.MSDyn365Commerce_BASEURL);\n        }\n\n        if (process.env.MSDyn365Commerce_BASEIMAGEURL) {\n            const baseImageUrl = new URL(process.env.MSDyn365Commerce_BASEIMAGEURL).origin;\n            cspDirectives['img-src'] = (cspDirectives['img-src'] || []).concat([baseImageUrl]);\n        }\n    }\n    const nonceToken = isNonceEnabled(ctx);\n    if (nonceToken) {\n        cspDirectives['script-src'] = (cspDirectives['script-src'] || []).concat([`'nonce-${nonceToken}'`]);\n    }\n\n    Object.keys(cspDirectives).forEach((directive: string) => {\n        const policies = cspDirectives[directive];\n        directives += Array.isArray(policies) ? `${directive} ${policies.join(' ')};` : '';\n    });\n\n    return directives;\n};\n\n/*\nFast JSON Stringify Constructors\n\nThe following are Fast JSON Stringify constructors for initialData properties.\nIf a property of _moduleList, requestContext, _themeModulesList or pageRoot is updated\nyou will need to update the JSON schema of the following constructors to reflect the change\n*/\nexport const moduleListFastJson = fastJson({\n    type: 'array',\n    items: {\n        type: 'object',\n        properties: {\n            id: {\n                type: 'string'\n            },\n            typeName: {\n                type: 'string'\n            },\n            dataActions: {\n                type: 'array',\n                nullable: true,\n                items: {\n                    type: 'object',\n                    nullable: true,\n                    additionalProperties: true,\n                    properties: {\n                        name: {\n                            nullable: true,\n                            type: 'string'\n                        },\n                        entity: {\n                            nullable: true,\n                            type: 'string'\n                        },\n                        inputs: {\n                            nullable: true,\n                            type: 'string'\n                        }\n                    }\n                }\n            }\n        }\n    }\n});\n\nexport const requestContextFastJson = fastJson({\n    type: 'object',\n    additionalProperties: true,\n    nullable: true,\n    properties: {\n        channel: {\n            type: 'object',\n            additionalProperties: true\n        },\n        url: {\n            type: 'object',\n            properties: {\n                requestUrl: {\n                    type: 'string'\n                },\n                staticCdnUrl: {\n                    type: 'string'\n                }\n            }\n        },\n        urlTokens: {\n            additionalProperties: true,\n            type: 'object',\n            properties: {\n                itemId: {\n                    type: 'string'\n                },\n                recordId: {\n                    type: 'string'\n                },\n                productName: {\n                    type: 'string'\n                },\n                locale: {\n                    type: 'string'\n                },\n                categories: {\n                    type: 'array',\n                    items: {\n                        type: 'string'\n                    }\n                },\n                pageType: {\n                    type: 'string'\n                }\n            }\n        },\n        locale: {\n            type: 'string'\n        },\n        telemetryPageName: {\n            type: 'string'\n        },\n        market: {\n            type: 'string'\n        },\n        textDirection: {\n            type: 'string'\n        },\n        sitePath: {\n            type: 'string'\n        },\n        device: {\n            type: 'object',\n            properties: {\n                Type: {\n                    type: 'string'\n                }\n            }\n        },\n        user: {\n            type: 'object',\n            additionalProperties: true,\n            properties: {\n                token: {\n                    nullable: true,\n                    type: 'string'\n                },\n                isAuthenticated: {\n                    type: 'boolean'\n                },\n                signInUrl: {\n                    type: 'string'\n                },\n                signOutUrl: {\n                    type: 'string'\n                },\n                signUpUrl: {\n                    type: 'string'\n                },\n                editProfileUrl: {\n                    type: 'string'\n                },\n                signInName: {\n                    nullable: true,\n                    type: 'string'\n                },\n                name: {\n                    nullable: true,\n                    type: 'string'\n                },\n                firstName: {\n                    nullable: true,\n                    type: 'string'\n                },\n                lastName: {\n                    nullable: true,\n                    type: 'string'\n                },\n                emailAddress: {\n                    nullable: true,\n                    type: 'string'\n                },\n                customerAccountNumer: {\n                    nullable: true,\n                    type: 'string'\n                },\n                tenantId: {\n                    nullable: true,\n                    type: 'string'\n                },\n                optOutWebActivityTracking: {\n                    nullable: true,\n                    type: 'boolean'\n                },\n                userClaims: {\n                    type: 'object',\n                    nullable: true,\n                    additionalProperties: true\n                }\n            }\n        },\n        app: {\n            type: 'object',\n            additionalProperties: true,\n            properties: {\n                config: {\n                    type: 'object',\n                    additionalProperties: true\n                },\n                routes: {\n                    type: 'object',\n                    additionalProperties: true,\n                    properties: {\n                        account: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        accountProfile: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        backToShopping: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        cart: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        checkout: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        home: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        loyalty: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        loyaltyJoin: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        orderConfirmation: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        orderDetails: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        search: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        wishlist: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        },\n                        loyaltyTerms: {\n                            type: 'object',\n                            properties: {\n                                destinationUrl: {\n                                    type: 'string'\n                                },\n                                type: {\n                                    type: 'string'\n                                }\n                            }\n                        }\n                    }\n                },\n                platform: {\n                    type: 'object',\n                    additionalProperties: true,\n                    properties: {\n                        disableCookieCompliance: {\n                            type: 'boolean'\n                        },\n                        imageQuality: {\n                            type: 'integer'\n                        },\n                        skipToMainText: {\n                            type: 'string'\n                        }\n                    }\n                },\n                contentSecurityPolicy: {\n                    type: 'object',\n                    properties: {\n                        enableNonce: {\n                            type: 'boolean'\n                        },\n                        disableContentSecurityPolicy: {\n                            type: 'boolean'\n                        },\n                        enableReportOnlyMode: {\n                            type: 'boolean'\n                        },\n                        'child-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'connect-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'img-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'script-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'style-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'default-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'base-uri': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'font-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'object-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        },\n                        'media-src': {\n                            type: 'array',\n                            items: {\n                                type: 'string'\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        query: {\n            type: 'object',\n            additionalProperties: true\n        },\n        previewContext: {\n            nullable: true,\n            type: 'string'\n        },\n        suggestedMarket: {\n            nullable: true,\n            type: 'string'\n        },\n        apiSettings: {\n            type: 'object',\n            properties: {\n                baseUrl: {\n                    type: 'string'\n                },\n                channelId: {\n                    type: 'integer'\n                },\n                catalogId: {\n                    type: 'integer'\n                },\n                oun: {\n                    type: 'string'\n                },\n                baseImageUrl: {\n                    type: 'string'\n                },\n                ratingsReviewsEndpoint: {\n                    type: 'string'\n                },\n                retailServerProxyVersion: {\n                    type: 'string'\n                },\n                rnr: {\n                    type: 'object',\n                    properties: {\n                        proxyUrl: {\n                            type: 'string'\n                        },\n                        url: {\n                            type: 'string'\n                        },\n                        id: {\n                            type: 'string'\n                        }\n                    }\n                },\n                ratingsReviewsProxyEndpoint: {\n                    type: 'string'\n                }\n            }\n        },\n        operationId: {\n            type: 'string'\n        },\n        connectors: {\n            type: 'object',\n            nullable: true,\n            properties: {\n                expConnector: {\n                    nullable: true,\n                    type: 'string'\n                }\n            }\n        },\n        params: {\n            type: 'object',\n            properties: {\n                mock: {\n                    type: 'string'\n                },\n                isDebug: {\n                    type: 'boolean'\n                },\n                isEditor: {\n                    type: 'boolean'\n                },\n                isPreview: {\n                    type: 'boolean'\n                },\n                concatJs: {\n                    type: 'object',\n                    properties: {\n                        hasValue: {\n                            type: 'boolean'\n                        },\n                        isTruthy: {\n                            type: 'boolean'\n                        },\n                        value: {\n                            type: 'boolean'\n                        }\n                    }\n                },\n                theme: {\n                    type: 'string'\n                }\n            }\n        },\n        features: {\n            type: 'object',\n            additionalProperties: true\n        },\n        pageData: {\n            type: 'object',\n            additionalProperties: true\n        },\n        _debug: {\n            type: 'object',\n            properties: {\n                commerceSDKVersion: {\n                    type: 'string'\n                },\n                commerceSSKVersion: {\n                    type: 'string'\n                },\n                retailProxyVersion: {\n                    type: 'string'\n                }\n            }\n        },\n        themeOverride: {\n            type: 'object',\n            properties: {\n                url: {\n                    type: 'string'\n                },\n                disableDefault: {\n                    type: 'boolean'\n                }\n            }\n        },\n        telemetrySettings: {\n            type: 'object',\n            additionalProperties: true,\n            properties: {\n                doNotCollectBiData: {\n                    type: 'boolean'\n                },\n                optOutWebActivityTracking: {\n                    type: 'boolean'\n                },\n                eventHubEndPoint: {\n                    type: 'string'\n                },\n                eventHubAuthToken: {\n                    type: 'string'\n                },\n                operationId: {\n                    type: 'string'\n                },\n                instrumentationKey: {\n                    type: 'string'\n                },\n                environmentId: {\n                    type: 'string'\n                },\n                url: {\n                    type: 'string'\n                },\n                clientAuth: {\n                    type: 'string'\n                },\n                commerceCoreEnvId: {\n                    type: 'string'\n                }\n            }\n        },\n        requestUrl: {\n            type: 'string'\n        },\n        clientContext: {\n            type: 'object',\n            properties: {\n                deviceType: {\n                    type: 'string'\n                }\n            }\n        },\n        requestFormData: {\n            nullable: true,\n            type: 'object',\n            additionalProperties: true\n        },\n        canonicalDomain: {\n            type: 'string'\n        },\n        canonicalUrl: {\n            nullable: true,\n            type: 'string'\n        },\n        staticContext: {\n            type: 'object',\n            properties: {\n                staticCdnUrl: {\n                    type: 'string'\n                },\n                staticCdnUrlWithLocale: {\n                    type: 'string'\n                }\n            }\n        },\n        gridSettings: {\n            type: 'object',\n            properties: {\n                xs: {\n                    type: 'object',\n                    properties: {\n                        w: {\n                            type: 'integer'\n                        },\n                        h: {\n                            type: 'integer'\n                        }\n                    }\n                },\n                sm: {\n                    type: 'object',\n                    properties: {\n                        w: {\n                            type: 'integer'\n                        },\n                        h: {\n                            type: 'integer'\n                        }\n                    }\n                },\n                md: {\n                    type: 'object',\n                    properties: {\n                        w: {\n                            type: 'integer'\n                        },\n                        h: {\n                            type: 'integer'\n                        }\n                    }\n                },\n                lg: {\n                    type: 'object',\n                    properties: {\n                        w: {\n                            type: 'integer'\n                        },\n                        h: {\n                            type: 'integer'\n                        }\n                    }\n                },\n                xl: {\n                    type: 'object',\n                    properties: {\n                        w: {\n                            type: 'integer'\n                        },\n                        h: {\n                            type: 'integer'\n                        }\n                    }\n                }\n            }\n        },\n        debugMode: {\n            type: 'integer'\n        },\n        redirectUrl: {\n            nullable: true,\n            type: 'string'\n        },\n        sameSiteRequired: {\n            type: 'boolean'\n        },\n        siteStylePreset: {\n            type: 'string'\n        },\n        pageStylePreset: {\n            type: 'string'\n        },\n        telemetryData: {\n            type: 'object',\n            additionalProperties: true\n        },\n        headers: {\n            type: 'object',\n            additionalProperties: true\n        },\n        experiments: {\n            type: 'object',\n            nullable: true,\n            properties: {\n                userId: {\n                    type: 'string',\n                    nullable: true\n                },\n                activeExperiments: {\n                    type: 'array',\n                    items: {\n                        type: 'object',\n                        nullable: true,\n                        properties: {\n                            experimentId: {\n                                type: 'string'\n                            },\n                            variantId: {\n                                type: 'string'\n                            },\n                            moduleId: {\n                                type: 'string'\n                            }\n                        }\n                    }\n                },\n                moduleIdToExperimentIdMap: {\n                    type: 'object',\n                    nullable: true,\n                    additionalProperties: true\n                }\n            }\n        }\n    }\n});\n\nexport const themeModulesFastJson = fastJson({\n    type: 'array',\n    items: {\n        type: 'string'\n    }\n});\n\nexport const pageRootFastJson = fastJson({\n    additionalProperties: true,\n    title: 'Page root fast json',\n    type: 'object',\n    properties: {\n        id: {\n            type: 'string'\n        },\n        typeName: {\n            type: 'string'\n        },\n        config: {\n            $ref: '#/definitions/setting'\n        },\n        modules: {\n            $ref: '#/definitions/rootModules'\n        }\n    },\n    definitions: {\n        rootModules: {\n            type: 'object',\n            additionalProperties: true,\n            properties: {\n                htmlHead: {\n                    $ref: '#/definitions/moduleContent'\n                },\n                bodyBegin: {\n                    $ref: '#/definitions/moduleContent'\n                },\n                bodyEnd: {\n                    $ref: '#/definitions/moduleContent'\n                },\n                body: {\n                    $ref: '#/definitions/moduleContent'\n                }\n            }\n        },\n        moduleContent: {\n            type: 'array',\n            items: {\n                type: 'object',\n                additionalProperties: true,\n                properties: {\n                    config: {\n                        $ref: '#/definitions/setting'\n                    },\n                    id: {\n                        type: 'string'\n                    },\n                    typeName: {\n                        type: 'string'\n                    },\n                    friendlyName: {\n                        type: 'string',\n                        nullable: true\n                    },\n                    modules: {\n                        type: 'object',\n                        additionalProperties: true,\n                        nullable: true\n                    }\n                }\n            }\n        },\n        setting: {\n            additionalProperties: true,\n            nullable: true,\n            type: 'object'\n        }\n    }\n});\n"]}