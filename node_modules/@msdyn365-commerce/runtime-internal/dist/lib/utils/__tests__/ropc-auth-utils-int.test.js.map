{"version":3,"file":"ropc-auth-utils-int.test.js","sourceRoot":"","sources":["../../../../src/utils/__tests__/ropc-auth-utils-int.test.ts"],"names":[],"mappings":"AAQA,OAAO,MAAM,CAAC;AACd,OAAO,EAAE,sBAAsB,EAAE,MAAM,oBAAoB,CAAC;AAE5D,QAAQ,CAAC,8BAA8B,EAAE,GAAG,EAAE;IAC1C,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,WAAW,GAAsB;YACnC,WAAW,EAAE,oBAAoB;YACjC,SAAS,EAAE,aAAa;YACxB,mBAAmB,EAAE,sCAAsC;YAC3D,gBAAgB,EAAE,sBAAsB;YACxC,yBAAyB,EAAE,sDAAsD;YACjF,WAAW,EAAE;gBACT,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,wBAAwB;gBAC/B,QAAQ,EAAE,UAAU;aACvB;YACD,eAAe,EAAE;gBACb;oBACI,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,wBAAwB;oBAC/B,QAAQ,EAAE,UAAU;iBACvB;aACJ;SACJ,CAAC;QACF,6GAA6G;QAC7G,kGAAkG;QAClG,MAAM,sBAAsB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,WAAW,EAAE,CAAC;QAC9C,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAClD,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,WAAW,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","sourcesContent":["/**\n * @jest-environment node\n */\n/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\nimport { ILocalCredentials } from '@msdyn365-commerce/core-internal';\nimport 'jest';\nimport { getUserInformationROPC } from '../ropc-auth-utils';\n\ndescribe('login scenario w/integration', () => {\n    it('login happy path w/integration', async () => {\n        const credentials: ILocalCredentials = {\n            loginDomain: 'login.fabrikam.com',\n            b2cTenant: 'rushmoreb2c',\n            nativeApplicationId: 'af2b5746-95d9-412f-a4e9-ef9b19f32edc',\n            ropcUserFlowName: 'B2C_1_ROPC_Sidd_Test',\n            userImpersonationScopeURL: 'https://login.fabrikam.com/B2CAPI/user_impersonation',\n            defaultUser: {\n                name: 'default',\n                email: 'xibiki4869@gomaild.com',\n                password: 'test123!'\n            },\n            additionalUsers: [\n                {\n                    name: 'test-user',\n                    email: 'xibiki4869@gomaild.com',\n                    password: 'test123!'\n                }\n            ]\n        };\n        // If this test fails but the tests in without integration pass it means the integration with Azure AD failed\n        // Check to see if the test credentials are valid and the rest of the configuration is still valid\n        await getUserInformationROPC(credentials, 'test-user');\n        expect(credentials.accessToken).toBeDefined();\n        expect(credentials.currentUser).toBe('test-user');\n        expect(credentials.expiryDate).toBeDefined();\n    });\n});\n"]}