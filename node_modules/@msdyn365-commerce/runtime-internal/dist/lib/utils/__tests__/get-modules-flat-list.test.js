/*!
 * Copyright (c) Microsoft Corporation.
 * All rights reserved. See LICENSE in the project root for license information.
 */
import * as fs from 'fs-extra';
import 'jest';
import * as path from 'path';
import { getFlattenedListOfModules } from '../get-modules-flat-list';
describe('get-page-slots-test', () => {
    it('verify-page-slots-from-tree', async () => {
        const file = path.join(path.resolve('.'), 'src/utils/__tests__', 'page-root-unflattened-tree.json');
        const pageResponse = JSON.parse(await fs.readFile(file, 'utf8'));
        validateSlotArray(pageResponse);
    });
    it('verify-page-slots-from-dictionary', async () => {
        const file = path.join(path.resolve('.'), 'src/utils/__tests__', 'page-root-flattened-modules.json');
        const pageResponse = JSON.parse(await fs.readFile(file, 'utf8'));
        validateSlotArray(pageResponse);
    });
    function validateSlotArray(pageResponse) {
        const slots = getFlattenedListOfModules(pageResponse);
        expect(slots.length).toBe(32);
        expect(slots[0].typeName).toBe('default-page');
        expect(slots[1].typeName).toBe('header');
        expect(slots[2].typeName).toBe('alert');
        expect(slots[31].typeName).toBe('footer-item');
    }
});
//# sourceMappingURL=get-modules-flat-list.test.js.map