{"version":3,"file":"consts.js","sourceRoot":"","sources":["../../src/consts.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;AAEH,8EAA8D;AAC9D,+CAAyB;AACzB,mDAA6B;AAE7B,MAAM,IAAI,GAAG,kBAAkB,CAAC;AAEnB,QAAA,sBAAsB,GAAG,GAAG,EAAE;IACvC,IAAI,mBAAmB,GAAG,EAAE,CAAC;IAC7B,IAAI;QACA,mBAAmB,GAAG,OAAO,CAAC,OAAO,CAAC,8CAA8C,CAAC,CAAC;QACtF;;WAEG;QACH,OAAO,mBAAmB,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,wBAAwB,EAAE,EAAE,CAAC,CAAC;KACzF;IAAC,OAAO,CAAC,EAAE;QACR,0BAAK,IAAI,0BAAK,CAAC,IAAI,CAAC,GAAG,IAAI,kEAAkE,CAAC,CAAC;QAC/F,mBAAmB;QACnB,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,cAAc,EAAE,4BAA4B,EAAE,mBAAmB,CAAC,CAAC;QACtH,IAAI,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;YAC9B,mBAAmB,GAAG,aAAa,CAAC;YACpC,0BAAK,IAAI,0BAAK,CAAC,IAAI,CAAC,GAAG,IAAI,+BAA+B,aAAa,GAAG,CAAC,CAAC;SAC/E;KACJ;IACD,OAAO,mBAAmB,CAAC;AAC/B,CAAC,CAAC;AAEW,QAAA,qBAAqB,GAAG,8BAAsB,EAAE,CAAC;AAC9D,MAAM,0BAA0B,GAAG,IAAI,CAAC,IAAI,CAAC,6BAAqB,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AAC7F,QAAA,4BAA4B,GAAG,EAAE,CAAC,UAAU,CAAC,0BAA0B,CAAC,IAAI,0BAA0B,CAAC;AAEvG,QAAA,iCAAiC,GAAG,CAAC,QAAgB,EAAE,EAAE,CAClE,IAAI,CAAC,OAAO,CAAC,6BAAqB,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { trace } from '@msdyn365-commerce/utilities-internal';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst SLUG = `[Theme Builder] `;\n\nexport const getSharedComponentsDir = () => {\n    let sharedComponentsDir = '';\n    try {\n        sharedComponentsDir = require.resolve('@msdyn365-commerce-modules/shared-components');\n        /* this resolve to {somePath}/@msdyn365-commerce-modules/shared-components/dist/lib/index.js from which we need\n         * {somePath}/@msdyn365-commerce-modules/shared-components/\n         */\n        return sharedComponentsDir.replace(/\\\\/gi, '/').replace(/dist\\/lib\\/index\\.js/gi, '');\n    } catch (e) {\n        trace && trace.info(`${SLUG}[deprecated] Couldn't not find shared-components in node_modules`);\n        // symlink scenario\n        const symlinkedPath = path.join(path.resolve('.'), 'node_modules', '@msdyn365-commerce-modules', 'shared-components');\n        if (fs.existsSync(symlinkedPath)) {\n            sharedComponentsDir = symlinkedPath;\n            trace && trace.info(`${SLUG}Found shared components at '${symlinkedPath}'`);\n        }\n    }\n    return sharedComponentsDir;\n};\n\nexport const SHARED_COMPONENTS_DIR = getSharedComponentsDir();\nconst _sharedComponentsSourceDir = path.join(SHARED_COMPONENTS_DIR, 'dist', 'lib').replace(/[\\\\/]/g, '/');\nexport const getSharedComponentsSourceDir = fs.existsSync(_sharedComponentsSourceDir) && _sharedComponentsSourceDir;\n\nexport const resolveSharedComponentSourceFiles = (fileName: string) =>\n    path.resolve(SHARED_COMPONENTS_DIR, 'dist', 'lib', 'src', 'scss', !path.extname(fileName) ? `${fileName}.scss` : fileName);\n"]}