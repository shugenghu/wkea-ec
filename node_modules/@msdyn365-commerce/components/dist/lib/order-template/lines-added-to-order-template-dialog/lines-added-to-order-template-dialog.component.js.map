{"version":3,"file":"lines-added-to-order-template-dialog.component.js","sourceRoot":"./src/","sources":["order-template/lines-added-to-order-template-dialog/lines-added-to-order-template-dialog.component.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, Modal, ModalBody, ModalFooter, ModalHeader } from '@msdyn365-commerce-modules/utilities';\nimport { FullProduct } from '@msdyn365-commerce/commerce-entities';\nimport { getUrlSync, IComponentProps, IImageSettings } from '@msdyn365-commerce/core';\nimport { ProductList } from '@msdyn365-commerce/retail-proxy';\nimport React from 'react';\nimport { OrderTemplateProductsPreviewComponent } from '../order-templates-list/order-template-products-preview';\n\nexport interface ILinesAddedToOrderTemplateDialogResources {\n    viewOrderTemplateButtonText: string;\n    continueShoppingButtonText: string;\n    linesAddedToOrderTemplateHeaderItemsOneText: string;\n    linesAddedToOrderTemplateHeaderItemsFormatText: string;\n    linesAddedToOrderTemplateHeaderLinesOneText: string;\n    linesAddedToOrderTemplateHeaderLinesFormatText: string;\n    linesAddedToOrderTemplateHeaderMessageText: string;\n}\n\nexport interface ILinesAddedToOrderTemplateDialogData {\n    itemsCount: number;\n    linesCount: number;\n    orderTemplate: ProductList;\n    products: FullProduct[];\n}\n\nexport interface ILinesAddedToOrderTemplateDialogProps extends IComponentProps<ILinesAddedToOrderTemplateDialogData> {\n    className: string;\n    imageSettings?: IImageSettings;\n\n    dialogStrings: ILinesAddedToOrderTemplateDialogResources;\n\n    modalOpen: boolean | undefined;\n}\n\nexport const LinesAddedToOrderTemplateDialog = (dialogProps: ILinesAddedToOrderTemplateDialogProps) => {\n    const {\n        dialogStrings,\n        className,\n        context,\n        modalOpen,\n        imageSettings,\n        data: {\n            orderTemplate,\n            products,\n            itemsCount,\n            linesCount\n        }\n    } = dialogProps;\n\n    const getOrderTemplatePageUrl = (): string => {\n        const url = getUrlSync('ordertemplate', context.actionContext) || '';\n        const separator = url.includes('?') ? '&' : '?';\n        return `${url}${separator}id=${orderTemplate.Id}`;\n    };\n\n    const close: () => void = () => {\n        window.location.reload(true);\n    };\n\n    const itemsString = itemsCount === 1 ? dialogStrings.linesAddedToOrderTemplateHeaderItemsOneText : dialogStrings.linesAddedToOrderTemplateHeaderItemsFormatText.replace('{0}', itemsCount.toString());\n    const lineItemsString = linesCount === 1 ? dialogStrings.linesAddedToOrderTemplateHeaderLinesOneText : dialogStrings.linesAddedToOrderTemplateHeaderLinesFormatText.replace('{0}', linesCount.toString());\n\n    return (\n        <Modal isOpen={modalOpen} className={`${className}`}>\n            <ModalHeader className={`${className}__dialog__header`} toggle={close}>\n                <b>{lineItemsString}</b><span>{dialogStrings.linesAddedToOrderTemplateHeaderMessageText}</span>\n            </ModalHeader>\n            <ModalBody className={`${className}__dialog__body`}>\n                <div className={`${className}__dialog__content`}>\n                    <OrderTemplateProductsPreviewComponent\n                        context={context}\n                        className={`${className}__dialog`}\n                        products={products}\n                        imageSettings={imageSettings}\n                    />\n                    <div className={`${className}__dialog__description`}>\n                        <div className={`${className}__dialog__order-template-name`}>\n                            {orderTemplate.Name}\n                        </div>\n                        <div className={`${className}__dialog__order-template-items`}>\n                            {itemsString}\n                        </div>\n                    </div>\n                </div>\n            </ModalBody>\n            <ModalFooter\n                className={`${className}__dialog__footer`}\n            >\n                <Button\n                    className={`${className}__dialog__view-order-template-button`}\n                    title={dialogStrings.viewOrderTemplateButtonText}\n                    href={getOrderTemplatePageUrl()}\n                >\n                    {dialogStrings.viewOrderTemplateButtonText}\n                </Button>\n                <Button\n                    className={`${className}__dialog__continue-shopping`}\n                    title={dialogStrings.continueShoppingButtonText}\n                    onClick={close}\n                >\n                    {dialogStrings.continueShoppingButtonText}\n                </Button>\n            </ModalFooter>\n        </Modal>\n    );\n};"]}