import { Button, Modal, ModalBody, ModalFooter, ModalHeader } from '@msdyn365-commerce-modules/utilities';
import { getUrlSync } from '@msdyn365-commerce/core';
import React from 'react';
import { OrderTemplateProductsPreviewComponent } from '../order-templates-list/order-template-products-preview';
export const LinesAddedToOrderTemplateDialog = (dialogProps) => {
    const { dialogStrings, className, context, modalOpen, imageSettings, data: { orderTemplate, products, itemsCount, linesCount } } = dialogProps;
    const getOrderTemplatePageUrl = () => {
        const url = getUrlSync('ordertemplate', context.actionContext) || '';
        const separator = url.includes('?') ? '&' : '?';
        return `${url}${separator}id=${orderTemplate.Id}`;
    };
    const close = () => {
        window.location.reload(true);
    };
    const itemsString = itemsCount === 1 ? dialogStrings.linesAddedToOrderTemplateHeaderItemsOneText : dialogStrings.linesAddedToOrderTemplateHeaderItemsFormatText.replace('{0}', itemsCount.toString());
    const lineItemsString = linesCount === 1 ? dialogStrings.linesAddedToOrderTemplateHeaderLinesOneText : dialogStrings.linesAddedToOrderTemplateHeaderLinesFormatText.replace('{0}', linesCount.toString());
    return (React.createElement(Modal, { isOpen: modalOpen, className: `${className}` },
        React.createElement(ModalHeader, { className: `${className}__dialog__header`, toggle: close },
            React.createElement("b", null, lineItemsString),
            React.createElement("span", null, dialogStrings.linesAddedToOrderTemplateHeaderMessageText)),
        React.createElement(ModalBody, { className: `${className}__dialog__body` },
            React.createElement("div", { className: `${className}__dialog__content` },
                React.createElement(OrderTemplateProductsPreviewComponent, { context: context, className: `${className}__dialog`, products: products, imageSettings: imageSettings }),
                React.createElement("div", { className: `${className}__dialog__description` },
                    React.createElement("div", { className: `${className}__dialog__order-template-name` }, orderTemplate.Name),
                    React.createElement("div", { className: `${className}__dialog__order-template-items` }, itemsString)))),
        React.createElement(ModalFooter, { className: `${className}__dialog__footer` },
            React.createElement(Button, { className: `${className}__dialog__view-order-template-button`, title: dialogStrings.viewOrderTemplateButtonText, href: getOrderTemplatePageUrl() }, dialogStrings.viewOrderTemplateButtonText),
            React.createElement(Button, { className: `${className}__dialog__continue-shopping`, title: dialogStrings.continueShoppingButtonText, onClick: close }, dialogStrings.continueShoppingButtonText))));
};
//# sourceMappingURL=lines-added-to-order-template-dialog.component.js.map