{"version":3,"file":"order-template-products-preview.js","sourceRoot":"./src/","sources":["order-template/order-templates-list/order-template-products-preview.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getFallbackImageUrl } from '@msdyn365-commerce-modules/retail-actions';\nimport { FullProduct } from '@msdyn365-commerce/commerce-entities';\nimport { ICoreContext, IImageSettings, Image } from '@msdyn365-commerce/core';\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface IOrderTemplateProductsPreviewComponentProps {\n    className: string;\n    products: FullProduct[];\n    context: ICoreContext;\n    imageSettings?: IImageSettings;\n}\n\nexport const OrderTemplateProductsPreviewComponent = (props: IOrderTemplateProductsPreviewComponentProps) => {\n    const { products, className, imageSettings } = props;\n\n    return (\n        <div className={`${className}__products`}>\n            {renderOrderTemplateImages(props.context, `${className}__products`, products, imageSettings)}\n        </div>\n    );\n};\n\nconst renderOrderTemplateImage = (\n    context: ICoreContext, className: string, product: FullProduct, imageSettings?: IImageSettings) => {\n    const defaultImageSettings: IImageSettings = {\n        viewports: {\n            xs: { q: `w=140&h=140&m=6`, w: 0, h: 0 },\n            lg: { q: `w=140&h=140&m=6`, w: 0, h: 0 },\n            xl: { q: `w=140&h=140&m=6`, w: 0, h: 0 }\n        },\n        lazyload: true\n    };\n    return (\n        <div className={`${className}__image-props`}>\n            <Image\n                src={product.ProductDetails.PrimaryImageUrl || ''}\n                fallBackSrc = {\n                    getFallbackImageUrl(product.ProductDetails.ItemId, context.actionContext.requestContext.apiSettings) || ''\n                }\n                gridSettings={context.request.gridSettings!}\n                imageSettings={imageSettings || defaultImageSettings}\n                loadFailureBehavior='empty'\n            />\n        </div>\n    );\n};\n\nconst renderOrderTemplateImages = (\n    context: ICoreContext, className: string, products: FullProduct[], imageSettings?: IImageSettings): JSX.Element | null => {\n    return (\n        <div className={`${className}__image-container`}>\n            <div className='row'>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 0 && renderOrderTemplateImage(context, className, products[0], imageSettings)\n                        }\n                    </div>\n                </div>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 1 && renderOrderTemplateImage(context, className, products[1], imageSettings)\n                        }\n                    </div>\n                </div>\n            </div>\n            <div className='row'>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 2 && renderOrderTemplateImage(context, className, products[2], imageSettings)\n                        }\n                    </div>\n                </div>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 3 && renderOrderTemplateImage(context, className, products[3], imageSettings)\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};"]}