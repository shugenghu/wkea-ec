import { format, getPayloadObject, getTelemetryAttributes, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';
import { getUrlSync, msdyn365Commerce } from '@msdyn365-commerce/core';
import { observer } from 'mobx-react';
import * as React from 'react';
const CartIconComponentActions = {};
const CartIcon = observer((props) => {
    const { cartLabel, data: { cart } } = props;
    const cartLink = getUrlSync('cart', props.context.actionContext);
    const cartItem = `(${cart.totalItemsInCart})`;
    const label = format(cartLabel, cartItem) || `Shopping bag, ${cartItem} items`;
    const payLoad = getPayloadObject('click', props.telemetryContent, 'cart-icon', '');
    const attributes = getTelemetryAttributes(props.telemetryContent, payLoad);
    return (React.createElement("a", Object.assign({ title: label, className: 'msc-cart-icon msc-btn', href: cartLink, "aria-label": label }, attributes, { onClick: onTelemetryClick(props.telemetryContent, payLoad, 'cart-icon') }),
        React.createElement("div", { className: 'msc-cart-icon__count', "aria-hidden": true }, cartItem)));
});
export const CartIconComponent = msdyn365Commerce.createComponent('CartIcon', { component: CartIcon, ...CartIconComponentActions });
//# sourceMappingURL=cart-icon.component.js.map