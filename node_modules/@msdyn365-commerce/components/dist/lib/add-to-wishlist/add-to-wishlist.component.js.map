{"version":3,"file":"add-to-wishlist.component.js","sourceRoot":"./src/","sources":["add-to-wishlist/add-to-wishlist.component.tsx"],"names":[],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport * as Popper from 'popper.js';\nimport React, { useState } from 'react';\n\nimport { buildWishlistLine, getCustomer, GetCustomerInput } from '@msdyn365-commerce-modules/retail-actions';\nimport { Alert, UncontrolledTooltip } from '@msdyn365-commerce-modules/utilities';\nimport { IComponent, IComponentProps, msdyn365Commerce } from '@msdyn365-commerce/core';\nimport { AsyncResult, CartLine, CommerceList, Customer, ProductDimension, SimpleProduct } from '@msdyn365-commerce/retail-proxy';\nimport {\n    addLinesAsync, createCommerceListAsync, createGetByCustomerInput, removeLinesAsync\n} from '@msdyn365-commerce/retail-proxy/dist/DataActions/CommerceListsDataActions.g';\n\nexport interface IAddToWishlistComponentProps extends IComponentProps<IAddtoWishlistData> {\n    className?: string;\n    addToWishlistButtonText: string;\n    removeFromWishlistButtonText: string;\n    nameOfWishlist: string;\n\n    addToWishlistMessage?: string;\n    removedFromWishlistMessage?: string;\n    addItemToWishlistError?: string;\n    removeItemFromWishlistError?: string;\n\n    showButtonText?: boolean;\n    showButtonTooltip?: boolean;\n    tooltipPosition?: Popper.Placement;\n    showStatusMessage?: boolean;\n    showRemoveButton?: boolean;\n    disabled?: boolean;\n    cartline?: CartLine;\n    canAddMasterProduct?: boolean;\n\n    getSelectedProduct?: Promise<SimpleProduct | null>;\n\n    onSuccess?(result: IWishlistActionSuccessResult, cartline?: CartLine): void;\n    onError?(result: IWishlistActionErrorResult): void;\n}\n\nexport interface IWishlistActionSuccessResult {\n    status: 'ADDED' | 'REMOVED';\n}\n\nexport interface IWishlistActionErrorResult {\n    status: 'FAILED' | 'MISSINGDIMENSION';\n\n    missingDimensions?: ProductDimension[];\n}\n\ninterface IAddToWishlistStateManager {\n    waiting: boolean;\n    canRemove: boolean;\n    content: IAddtoWishlistContentState;\n\n    setWaiting(newWaiting: boolean): void;\n    setContent(newContent: IAddtoWishlistContentState): void;\n    setCanRemove(newCanRemove: boolean): void;\n}\n\ninterface IAddtoWishlistContentState {\n    showAlert?: boolean;\n    wishlistTextMessage?: string;\n    color?: string;\n}\n\ninterface IAddtoWishlistData {\n    wishlists?: CommerceList[];\n    product: SimpleProduct;\n}\n\nexport interface IAddtoWishlistComponent extends IComponent<IAddToWishlistComponentProps> {\n    onClick(): (event: React.MouseEvent<HTMLElement>, props: IAddToWishlistComponentProps, state: IAddToWishlistStateManager) => void;\n}\n\nconst onClick = async (_event: React.MouseEvent<HTMLElement>, props: IAddToWishlistComponentProps, state: IAddToWishlistStateManager): Promise<void> => {\n    const { user } = props.context.request;\n    let { product } = props.data;\n\n    if (state.waiting) {\n        return;\n    }\n\n    if (!user.isAuthenticated && user.signInUrl && window) {\n        window.location.assign(user.signInUrl);\n\n        return;\n    }\n\n    state.setWaiting(true);\n    if(!(props.getSelectedProduct === undefined)) {\n        product = (await props.getSelectedProduct) || props.data.product;\n    }\n\n    await (doesProductExistInWishlist(product, props) ? removeFromWishlist(product, props, state) : addToWishlist(product, props, state));\n    state.setWaiting(false);\n};\n\nconst onDismiss = (state: IAddToWishlistStateManager): void => {\n    state.setContent({ color:'success', showAlert: false });\n};\n\nconst AddToWishlistComponentActions = {\n    onClick: onClick,\n    onDismiss: onDismiss\n};\n\nconst AddToWishlist: React.FC<IAddToWishlistComponentProps> = (props: IAddToWishlistComponentProps) => {\n    const [waiting, setWaiting] = useState(false);\n    const [canRemove, setCanRemove] = useState(doesProductExistInWishlist(props.data.product, props));\n    const [content, setContent] = useState({});\n    const state: IAddToWishlistStateManager = {\n        waiting,\n        canRemove,\n        content,\n\n        setWaiting,\n        setCanRemove,\n        setContent\n    };\n\n    React.useEffect(\n        () => {\n            setCanRemove(doesProductExistInWishlist(props.data.product, props));\n        },\n        [props]\n    );\n\n    const { removeFromWishlistButtonText, addToWishlistButtonText, showStatusMessage, showRemoveButton, showButtonText, className, disabled, showButtonTooltip, tooltipPosition } = props;\n\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => { return AddToWishlistComponentActions.onClick(event, props, state); };\n    const onDismissHandler = () => { return AddToWishlistComponentActions.onDismiss(state); };\n    const ariaLabel = state.canRemove ? removeFromWishlistButtonText : addToWishlistButtonText;\n    const addToWishlistRef: React.RefObject<HTMLButtonElement> = React.createRef();\n    const removeFromWishlistRef: React.RefObject<HTMLButtonElement> = React.createRef();\n    const showMessage = showStatusMessage !== undefined ? showStatusMessage: true;\n    const showButton = showRemoveButton !== undefined ? showRemoveButton: true;\n    const showTooltip = showButtonTooltip !== undefined ? showButtonTooltip: true;\n    const tooltipPos = showButtonTooltip !== undefined ? tooltipPosition: 'right';\n\n    if (state.canRemove && !showButton) {\n        return null;\n    }\n\n    return (\n        <React.Fragment>\n            {\n                showButtonText ? (\n                    <>\n                        <button\n                            className={classnames('msc-add-to-wishlist', className, state.waiting ? 'msc-add-to-wishlist__waiting' : '', state.canRemove ? 'msc-add-to-wishlist__removing' : '')}\n                            aria-label={ariaLabel}\n                            onClick={onClickHandler}\n                            disabled={disabled}\n                            ref={addToWishlistRef}\n                        >\n                            {ariaLabel}\n                        </button>\n                        {\n                            showTooltip && <UncontrolledTooltip placement={tooltipPos} trigger={'hover focus'} target={addToWishlistRef}>{ariaLabel}</UncontrolledTooltip>\n                        }\n                    </>\n                ):(\n                    <>\n                        <button\n                            className={classnames('msc-add-to-wishlist', className, state.waiting ? 'msc-add-to-wishlist__waiting' : '', state.canRemove ? 'msc-add-to-wishlist__removing' : '')}\n                            aria-label={ariaLabel}\n                            onClick={onClickHandler}\n                            disabled={disabled}\n                            ref={removeFromWishlistRef}\n                        />\n                        {\n                            showTooltip && <UncontrolledTooltip placement={tooltipPos} trigger={'hover focus'} target={addToWishlistRef}>{ariaLabel}</UncontrolledTooltip>\n                        }\n                    </>\n                )\n            }\n            {\n                state.content.showAlert && showMessage ?\n                <div className='ms-wishlist-items__product-status'>\n                    <Alert color={ state.content.color } isOpen={ state.content.showAlert } toggle={ onDismissHandler }>\n                        { state.content.wishlistTextMessage }\n                    </Alert>\n                </div> :\n                ''\n            }\n        </React.Fragment>\n    );\n};\n\nconst doesProductExistInWishlist = (product: SimpleProduct, props: IAddToWishlistComponentProps): boolean => {\n    const { wishlists } = props.data;\n\n    if (!wishlists || !wishlists[0]) {\n        return false;\n    }\n\n    const { CommerceListLines } = wishlists[0];\n\n    if (!CommerceListLines || CommerceListLines.length === 0) {\n        return false;\n    }\n\n    for (const wishlistItem of CommerceListLines) {\n        if (wishlistItem.ProductId === product.RecordId) {\n            return true;\n        }\n    }\n\n    return false;\n};\n\nconst propogateSuccess = (props: IAddToWishlistComponentProps, result: IWishlistActionSuccessResult): void => {\n    const { onSuccess, cartline } = props;\n\n    if (onSuccess) {\n        cartline ? onSuccess(result, props.cartline) : onSuccess(result);\n    }\n};\n\nconst propogateError = (props: IAddToWishlistComponentProps, result: IWishlistActionErrorResult): void => {\n    const { onError } = props;\n\n    if (onError) {\n        onError(result);\n    }\n};\n\nconst addToWishlist = async (product: SimpleProduct, props: IAddToWishlistComponentProps, state: IAddToWishlistStateManager): Promise<void> => {\n    const { canAddMasterProduct, context } = props;\n\n    if (product.Dimensions && !canAddMasterProduct) {\n        const missingDimensions = product.Dimensions.filter(dimension => !(dimension.DimensionValue && dimension.DimensionValue.Value));\n\n        if (missingDimensions.length > 0) {\n            // At least one dimension with no value exists on the product, won't be able to add to cart\n            propogateError(props, { status: 'MISSINGDIMENSION', missingDimensions: missingDimensions });\n\n            return AsyncResult.resolve();\n        }\n    }\n\n    if(context.request.user.isAuthenticated) {\n        if (!props.data.wishlists || props.data.wishlists.length === 0) {\n            const wishlistName = props.nameOfWishlist;\n            const customer = await getCustomerAccount(props);\n            if (customer && customer.AccountNumber) {\n            const listData: CommerceList = {\n                CustomerId: customer.AccountNumber,\n                Name: wishlistName,\n                // This is the type value specifically for a wishlist\n                CommerceListTypeValue: 1,\n                Id: 0\n            };\n\n            try {\n                const commerceList = await createCommerceListAsync({ callerContext: context.actionContext }, listData);\n                return callAddWishlistLine(props, state, commerceList.Id, product.RecordId);\n            } catch (error) {\n                if (context.telemetry) {\n                    context.telemetry.warning(error);\n                    context.telemetry.debug('Unable to create a wishlist');\n                }\n                propogateError(props, { status: 'FAILED' });\n            }\n        } else {\n            context.telemetry.debug('Customer account number missing');\n        }\n        } else {\n            return callAddWishlistLine(props, state, props.data.wishlists[0].Id, product.RecordId);\n        }\n    }\n\n    return AsyncResult.resolve();\n};\n\nconst callAddWishlistLine = async (props: IAddToWishlistComponentProps, state: IAddToWishlistStateManager, wishlistId: number, productId: number): Promise<void> => {\n    const { context } = props;\n\n    try {\n        const customer = await getCustomerAccount(props);\n        if (customer && customer.AccountNumber) {\n        const createdCommerceList = await addLinesAsync({ callerContext: context.actionContext }, wishlistId, [buildWishlistLine(productId, customer.AccountNumber, wishlistId)]);\n        context.actionContext.update(createGetByCustomerInput({}, null), [createdCommerceList]);\n        if (context.telemetry) {\n            context.telemetry.debug(`Added item to the wishlist ${createdCommerceList}`);\n        }\n        state.setCanRemove(true);\n        state.setContent({\n            color: 'success',\n            showAlert: true, wishlistTextMessage: props.addToWishlistMessage ? props.addToWishlistMessage : 'Added to your wishlist'\n        });\n        propogateSuccess(props, { status: 'ADDED' });\n        } else {\n            context.telemetry.debug(`Customer Account number missing`);\n        }\n    } catch (error) {\n        if (context.telemetry) {\n            context.telemetry.warning(error);\n            context.telemetry.debug(`Unable to add item to wishlist ${error}`);\n        }\n\n        state.setContent({\n            color: 'danger',\n            showAlert: true, wishlistTextMessage: props.addItemToWishlistError\n        });\n        propogateError(props, { status: 'FAILED' });\n    }\n};\n\nconst removeFromWishlist = async (product: SimpleProduct, props: IAddToWishlistComponentProps, state: IAddToWishlistStateManager): Promise<void> => {\n    const { context, data, removedFromWishlistMessage, removeItemFromWishlistError } = props;\n    const { wishlists } = data;\n    const { actionContext, telemetry } = context;\n    // TODO Please fix customeraccount number null once Bug https://msdyneng.visualstudio.com/FinOps/_workitems/edit/481375 gets fixed.\n    if(context.request.user.isAuthenticated) {\n        if (wishlists && wishlists[0]) {\n            const wishlistLine = wishlists[0].CommerceListLines!.find(line => line.ProductId === product.RecordId);\n\n            if (wishlistLine) {\n                try {\n                    const customer = await getCustomerAccount(props);\n                    const commerceList = await removeLinesAsync({ callerContext: actionContext }, wishlists[0].Id, [wishlistLine]);\n                    if (customer) {\n                        context.actionContext.update(createGetByCustomerInput({}, null), [commerceList]);\n                    } else {\n                        telemetry.debug('Customer Account Number missing');\n                    }\n\n                    if (telemetry) {\n                        telemetry.debug(`[WishlistButton] ${product.RecordId} removed from Wishlist ${commerceList.Id}`);\n                    }\n                    state.setCanRemove(false);\n                    state.setContent({\n                        color: 'success',\n                        showAlert: true, wishlistTextMessage: removedFromWishlistMessage ? removedFromWishlistMessage : `Removed item from the wishlist`\n                    });\n                    propogateSuccess(props, { status: 'REMOVED' });\n                } catch (error) {\n                    if (telemetry) {\n                        telemetry.warning(error);\n                        telemetry.debug('[WishlistButton] Error removing item from the wishlist');\n                    }\n\n                    state.setContent({\n                        color: 'danger',\n                        wishlistTextMessage: removeItemFromWishlistError\n                    });\n                    propogateError(props, { status: 'FAILED' });\n                }\n            }\n        } else {\n            if (telemetry) {\n                telemetry.debug('[WishlistButton] Can\\'t remove from wishlist since no wishlist exisits OR there is no product data');\n            }\n        }\n}\n\n    return AsyncResult.resolve();\n};\n\nconst getCustomerAccount = (props: IAddToWishlistComponentProps):AsyncResult<Customer> => {\n    const { context } = props;\n    const customerInput = new GetCustomerInput(context.actionContext.requestContext.apiSettings);\n    return getCustomer(customerInput, context.actionContext);\n};\n\n// @ts-ignore\nexport const AddToWishlistComponent: React.FunctionComponent<IAddToWishlistComponentProps> = msdyn365Commerce.createComponent<IAddtoWishlistComponent>(\n    'AddToWishlist',\n    { component: AddToWishlist, ...AddToWishlistComponentActions }\n);"]}