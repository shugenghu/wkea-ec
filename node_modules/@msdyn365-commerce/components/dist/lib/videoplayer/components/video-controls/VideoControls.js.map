{"version":3,"file":"VideoControls.js","sourceRoot":"./src/","sources":["videoplayer/components/video-controls/VideoControls.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getPayloadObject, getTelemetryAttributes, IPayLoad, ISliderProps, Slider, UncontrolledTooltip } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\nimport ActionToggle from '../action-toggle/ActionToggle';\nimport { IPlayerMenu, MenuCategories, VideoPlayerNames } from '../data/player-constants';\nimport { LocalizationConstants } from '../helper/localization-helper';\nimport Menu from '../menu/menu';\nimport { KeyCodes } from '../utilities/KeyCodes';\nimport { IVideoControlsProps } from './VideoControls.props';\n\nexport interface IVideoControlState {\n    showVolumeSlider: boolean;\n    volumeSliderLeftPosition: number;\n    volumeSliderTopPosition: number;\n    showMenu: boolean;\n    menuLeftPosition: number;\n    currentMenu?: IPlayerMenu;\n    toolTipClass: string;\n}\n\nexport interface IOffsetPosition {\n    offsetLeft: number;\n    offsetTop: number;\n}\nexport const ButtonMenuTypes = {\n    ClosedCaption: 'close-caption',\n    Options: 'options'\n};\n\nconst volumeSliderDivOffset: number = 162;\n\n/**\n *\n * VideoControls React component for video player\n *\n */\nexport default class VideoControls extends React.PureComponent<IVideoControlsProps, IVideoControlState> {\n    public static defaultProps: Partial<IVideoControlsProps> = {\n        resources: {\n            playAriaLabel: LocalizationConstants.playAriaLabel,\n            pauseAriaLabel: LocalizationConstants.pauseAriaLabel,\n            closeAriaLabel: LocalizationConstants.closeAriaLabel,\n            muteAriaLabel: LocalizationConstants.muteAriaLabel,\n            unMuteAriaLabel: LocalizationConstants.unMuteAriaLabel,\n            fullScreenAriaLabel: LocalizationConstants.fullScreenAriaLabel,\n            exitFullScreenAriaLabel: LocalizationConstants.exitFullScreenAriaLabel,\n            pausedAriaLabel: LocalizationConstants.pausedAriaLabel,\n            playingAriaLabel: LocalizationConstants.playingAriaLabel,\n            seekBarLabel: LocalizationConstants.seekBarLabel,\n            videoTimeDurationLabel: LocalizationConstants.videoTimeDurationLabel,\n            closedCaptionLabel: LocalizationConstants.closedCaptionLabel\n        },\n        viewportMin: 200\n    };\n\n    private static videoControlsClassName: string = `${VideoPlayerNames.videoplayerContainer}__controls`;\n    private static volumeAutoHideTimeout: number = 2000;\n    private selectedMenuItems: number[] = [];\n    private volumeAutoHideTimer: number;\n    private focusedMenuItemIndex: number;\n    private currentMenu: string;\n    private volumeButtonDiv: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n    private playButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private pauseButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private closedCaptionRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private optionButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private fullscreenButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private exitFullScreenButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private videoControlDiv: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n    private closedCaptionButtonDiv: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n    private optionButtonDiv: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n    private menuRef: React.RefObject<Menu> = React.createRef<Menu>();\n    private muteButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private unMuteButtonRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n    private payLoad: IPayLoad;\n\n    constructor(props: IVideoControlsProps) {\n        super(props);\n        this.volumeAutoHideTimer = 0;\n        this.focusedMenuItemIndex = 0;\n        this.currentMenu = '';\n        this._hideVolumeControl = this._hideVolumeControl.bind(this);\n        this._onMenuItemClick = this._onMenuItemClick.bind(this);\n        this._reevaluateWidth = this._reevaluateWidth.bind(this);\n        this._onClosedCaptionClick = this._onClosedCaptionClick.bind(this);\n        this._onDocumentClick = this._onDocumentClick.bind(this);\n        this._onOptionsButtonClick = this._onOptionsButtonClick.bind(this);\n        this._onMenuBlur = this._onMenuBlur.bind(this);\n        this._onMenuFocus = this._onMenuFocus.bind(this);\n        this._onMouseOver = this._onMouseOver.bind(this);\n        this._onMouseOut = this._onMouseOut.bind(this);\n        this._onMenuKeyDown = this._onMenuKeyDown.bind(this);\n        this._onMenuKeyUp = this._onMenuKeyUp.bind(this);\n        this.state = {\n            showVolumeSlider: false,\n            volumeSliderLeftPosition: 0,\n            volumeSliderTopPosition: -160,\n            showMenu: false,\n            menuLeftPosition: 0,\n            currentMenu: this.props.closedCaptionMenu,\n            toolTipClass: ''\n        };\n\n        // Construct telemetry attribute to render\n        this.payLoad = getPayloadObject('click', this.props.telemetryContent!, '');\n    }\n\n    public componentDidUpdate(prevProps: IVideoControlsProps): void {\n        if (!this.props.isControlPanelVisible) {\n            this.setState({\n                showMenu: false\n            });\n        }\n       // Updating the selected menu as setstate in player takes time to update\n        if (this.props.currentClosedCaptionLanguage !== prevProps.currentClosedCaptionLanguage\n            || this.props.currentClosedCaptionsSetting !== prevProps.currentClosedCaptionsSetting\n            || this. props.currentAudioTrack !== prevProps.currentAudioTrack) {\n            this._updateSelectedMenu();\n        }\n    }\n\n    // tslint:disable-next-line: max-func-body-length\n    public render(): JSX.Element {\n        const { className, ...props } = this.props;\n\n        const currentTime = this._toElapsedTimeString(props.playPosition.currentTime);\n        const endTime = this._toElapsedTimeString(props.playPosition.endTime);\n\n        const volumeDivStyle = {\n            top: this.state.volumeSliderTopPosition,\n            left: this.state.volumeSliderLeftPosition\n        };\n\n        const menuDivStyle = {\n            left: this.state.menuLeftPosition\n        };\n\n        this.payLoad.contentAction.etext = this.props.playing ? LocalizationConstants.pauseAriaLabel : LocalizationConstants.playAriaLabel;\n        const attribute = getTelemetryAttributes(this.props.telemetryContent!, this.payLoad);\n        return (\n            <div\n                className={className}\n                ref={this.videoControlDiv}\n                role='none'\n                onKeyDown={this.props.handleControlsKeyDownHandler}\n                onBlur={this.props.onBlur}\n                onFocus={this.props.onFocus}\n            >\n                <div className={`${VideoControls.videoControlsClassName}__wrapper`}>\n                    <div className={`${VideoControls.videoControlsClassName}__playpausebtn__container`}>\n                        <ActionToggle className={`${VideoControls.videoControlsClassName}__playpausebtn__wrapper`} onChange={this.props.onPlayClick} toggled={this.props.playing}>\n                            <button\n                                ref={this.playButtonRef}\n                                aria-label={this.props.resources.playAriaLabel}\n                                className={`${VideoControls.videoControlsClassName}__playbtn`}\n                                {...attribute}\n                            />\n                            <button\n                                ref={this.pauseButtonRef}\n                                aria-label={this.props.resources.pauseAriaLabel}\n                                className={`${VideoControls.videoControlsClassName}__pausebtn`}\n                                {...attribute}\n                            />\n                        </ActionToggle>\n                        <UncontrolledTooltip className={this.state.toolTipClass} trigger={'hover focus'} target={this.playButtonRef}> {this.props.resources.playAriaLabel}</UncontrolledTooltip>\n                        <UncontrolledTooltip trigger={'hover focus'} target={this.pauseButtonRef}> {this.props.resources.pauseAriaLabel}</UncontrolledTooltip>\n                    </div>\n                    <div className={`${VideoControls.videoControlsClassName}__time`}>\n                        <div className={`${VideoControls.videoControlsClassName}__time__screenreader`} aria-hidden={this.props.isMobileDevice} aria-live='polite'>{`${this.props.resources.videoTimeDurationLabel} ${currentTime} / ${endTime}`}</div>\n                        <div className={`${VideoControls.videoControlsClassName}__time__text`} aria-hidden='true'>{currentTime} /{` `}{endTime}</div>\n                    </div>\n                    <div className={`${VideoControls.videoControlsClassName}__slider__container`}>\n                        {this._renderVideoSlider()}\n                    </div>\n                    {(this.props.closedCaptionMenu) &&\n                        this._renderClosedCaptionButton()\n                    }\n                    {(this.props.optionMenu) &&\n                        this._renderOptionButton()\n                    }\n                    {(this.state.showMenu) &&\n                        (<Menu\n                            ref={this.menuRef}\n                            className={`${VideoControls.videoControlsClassName}__menu`}\n                            playerMenu={this.state.currentMenu!}\n                            style={menuDivStyle}\n                            onDocumentClick={this._onDocumentClick}\n                            onMenuItemClick={this._onMenuItemClick}\n                            onFocus={this._onMenuFocus}\n                            onBlur={this._onMenuBlur}\n                            onMouseOver={this._onMouseOver}\n                            onMouseOut={this._onMouseOut}\n                            onKeyDown={this._onMenuKeyDown}\n                            onKeyUp={this._onMenuKeyUp}\n                        />)\n                    }\n                    {(!this.props.isMobileDevice) && <div className={`${VideoControls.videoControlsClassName}__muteunmutebtn__container`} ref={this.volumeButtonDiv}>\n                        {this._renderVolumeButton()}\n                    </div>}\n                    {(!this.props.isMobileDevice) && <div\n                        className={`${VideoControls.videoControlsClassName}__volumeslider__container ${this.state.showVolumeSlider ? 'show' : 'hide' }`}\n                        onFocus={this.showVolumeControl()}\n                        onBlur={this._hideVolumeControl}\n                        onMouseOver={this.showVolumeControl()}\n                        onMouseOut={this._hideVolumeControl}\n                        style={volumeDivStyle}\n                        role='presentation'\n                    >\n                        {this._renderVolumeSlider()}\n                    </div>}\n                    {this._renderFullScreenButton()}\n                </div>\n            </div>\n        );\n    }\n\n    public showVolumeControl = (autohide?: boolean) => () => {\n        const offsetPosition = this._getOffsetPosition(this.volumeButtonDiv);\n        window && window.clearTimeout(this.volumeAutoHideTimer);\n\n        this.setState({\n            showVolumeSlider: true,\n            volumeSliderLeftPosition: offsetPosition.offsetLeft,\n            volumeSliderTopPosition: offsetPosition.offsetTop - volumeSliderDivOffset + 1\n        });\n        if (autohide && document.activeElement!.parentElement !== this.volumeButtonDiv.current!.firstChild) {\n            this.volumeAutoHideTimer = window && window.setTimeout(() => {\n                this._hideVolumeControl();\n            },                                                     VideoControls.volumeAutoHideTimeout);\n        }\n    };\n\n    public setFocusOnPlay(): void {\n        this.playButtonRef.current!.focus();\n    }\n\n    public setFocusOnMenuButton(): void {\n        // Don't set focus if control panel is not visible\n        if (this.props.isControlPanelVisible) {\n            if(this.currentMenu === ButtonMenuTypes.ClosedCaption) {\n                this.closedCaptionRef.current!.focus();\n            } else {\n                this.optionButtonRef.current!.focus();\n            }\n        }\n    }\n\n    public componentDidMount(): void {\n        window && window.addEventListener('resize', this._reevaluateWidth);\n        this._reevaluateWidth();\n        if(this._isIPhone()) {\n          const fullscreen = document.getElementsByClassName(`${VideoControls.videoControlsClassName}__fullscreenbtn__container`);\n          fullscreen[0].setAttribute('hidden','true');\n        }\n    }\n\n    public componentWillUnmount(): void {\n        window && window.removeEventListener('resize', this._reevaluateWidth);\n    }\n\n    private _reevaluateWidth(): void {\n        const rowDiv = this.videoControlDiv.current!.children[0];\n        let controlBarButtonsWidth = 0;\n        // Not able to use for-of loop as it causes another ts-lint issue because rowDiv.children is a HTMLCollection object and HTMLCollection\n        // is not an array type and string type. So I am surpressing the ts-lint error here rather than other error\n        // tslint:disable-next-line: prefer-for-of\n        for (let i = 0; i < rowDiv.children.length; i++) {\n            if (rowDiv.children[i].children[0] !== undefined && rowDiv.children[i].children[0].className.includes('action-toggle')) {\n                controlBarButtonsWidth += rowDiv.children[i].clientWidth;\n            }\n        }\n\n        const sliderWidth = controlBarButtonsWidth + 100;\n        rowDiv.children[2].setAttribute('style', `${'width: calc(100% - '}${sliderWidth}${'px)'}`);\n        if (this.state.showVolumeSlider) {\n            this._hideVolumeControl();\n        }\n        if(!this.props.isMobileDevice) {\n            const offsetPosition = this._getOffsetPosition(this.volumeButtonDiv);\n            this.setState({\n                volumeSliderLeftPosition: offsetPosition.offsetLeft,\n                volumeSliderTopPosition: offsetPosition.offsetTop - volumeSliderDivOffset\n            });\n        }\n        if (this.state.showMenu) {\n            this.setState({\n                showMenu: false\n            });\n        }\n\n        const videoControlWidth = this.videoControlDiv.current!.clientWidth;\n        const viewportMax = window && window.innerWidth;\n        this._applyTooltipClassOnWidthChange(videoControlWidth, viewportMax);\n    }\n\n    private _onDocumentClick = (e: Event): void => {\n        const target = e.target as HTMLElement;\n        if (!(((this.currentMenu === ButtonMenuTypes.ClosedCaption) && (target === this.closedCaptionButtonDiv.current!.firstChild || target.parentElement === this.closedCaptionButtonDiv.current!.firstChild)) ||\n        ((this.currentMenu === ButtonMenuTypes.Options) && (target === this.optionButtonDiv.current!.firstChild || target.parentElement === this.optionButtonDiv.current!.firstChild)))\n            ) {\n            this.setState({\n                showMenu: !this.state.showMenu\n            });\n        }\n    }\n\n    private _onMenuFocus(e: Event): void {\n        const button: HTMLButtonElement = e.target as HTMLButtonElement;\n        const hasEvents = button.getAttribute('data-has-events');\n        if (hasEvents) {\n            this.props.onMenuItemFocus({\n                category: button.parentElement!.parentElement!.parentElement!.getAttribute('data-category')!,\n                id: button.parentElement!.id,\n                data: button.getAttribute('data-info')!\n            });\n        }\n    }\n\n    private _onMenuBlur(e: Event): void {\n        const button: HTMLButtonElement = e.target as HTMLButtonElement;\n        const hasEvents = button.getAttribute('data-has-events');\n        if (hasEvents) {\n            this.props.onMenuItemBlur();\n        }\n    }\n\n    private _onMouseOver(e: Event): void {\n        const button: HTMLButtonElement = e.target as HTMLButtonElement;\n        const hasEvents = button.getAttribute('data-has-events');\n        if (hasEvents) {\n            this.props.onMenuItemFocus({\n                category: button.parentElement!.parentElement!.parentElement!.getAttribute('data-category')!,\n                id: button.parentElement!.id,\n                data: button.getAttribute('data-info')!\n            });\n        }\n    }\n\n    private _onMouseOut(e: Event): void {\n        const button: HTMLButtonElement = e.target as HTMLButtonElement;\n        const hasEvents = button.getAttribute('data-has-events');\n        if (hasEvents) {\n            this.props.onMenuItemBlur();\n        }\n    }\n\n    private _onMenuKeyDown(e: Event): void {\n        this._onMenuKeyPressed(e as unknown as KeyboardEvent);\n    }\n\n    private _onMenuKeyUp(event: Event): void {\n        const e = event as unknown as KeyboardEvent;\n        const key = e.keyCode;\n\n        if (key === KeyCodes.Space) {\n            event.preventDefault();\n        }\n    }\n\n    /**\n     * @name - onMenuKeyPressed\n     * @description - Event handler for menu's keyboard events\n     * @private\n     * @param {KeyboardEvent} event - The dialog that is allowed to remain open.\n     * @returns {void}\n     */\n    // tslint:disable-next-line: max-func-body-length cyclomatic-complexity\n    private _onMenuKeyPressed(event: KeyboardEvent): void {\n        const key = event.keyCode;\n        const target = event.target as HTMLElement;\n        const currentMenuItem = this.state.currentMenu!;\n        this._resetFocusForCurrentMenu(currentMenuItem);\n\n        // tslint:disable-next-line: switch-default\n        switch (key) {\n            case KeyCodes.ArrowLeft:\n            case KeyCodes.ArrowRight:\n                event.stopPropagation();\n                event.preventDefault();\n                if (key === KeyCodes.ArrowRight && target.getAttribute('data-has-children') === 'true') {\n                    this._onMenuItemClick(event);\n                }\n                if (key === KeyCodes.ArrowLeft && target.getAttribute('data-isbackbutton') === 'true') {\n                    this._onMenuItemClick(event);\n                }\n                break;\n\n            case KeyCodes.Enter:\n            case KeyCodes.Space:\n                event.preventDefault();\n                this._onMenuItemClick(event);\n                break;\n\n            case KeyCodes.ArrowUp:\n            case KeyCodes.ArrowDown:\n                event.stopPropagation();\n                event.preventDefault();\n\n                if (key === KeyCodes.ArrowUp) {\n                    this.focusedMenuItemIndex -= 1;\n                    if (this.focusedMenuItemIndex < 0) {\n                        this.focusedMenuItemIndex = currentMenuItem.items.length - 1;\n                    }\n                } else {\n                    this.focusedMenuItemIndex = ((this.focusedMenuItemIndex + 1) % currentMenuItem.items.length);\n                }\n\n                currentMenuItem.items[this.focusedMenuItemIndex].hasFocus = true;\n                this.setState({\n                    currentMenu: currentMenuItem\n                },            () => { if(this.menuRef.current) {this.menuRef.current.forceUpdate();} });\n                break;\n\n            case KeyCodes.PageUp:\n            case KeyCodes.Home:\n                event.stopPropagation();\n                event.preventDefault();\n                this.focusedMenuItemIndex = 0;\n                currentMenuItem.items[this.focusedMenuItemIndex].hasFocus = true;\n                this.setState({\n                    currentMenu: currentMenuItem\n                },            () => { if(this.menuRef.current) {this.menuRef.current.forceUpdate();} });\n                break;\n\n            case KeyCodes.End:\n            case KeyCodes.PageDown:\n                event.stopPropagation();\n                event.preventDefault();\n                this.focusedMenuItemIndex = currentMenuItem.items.length - 1;\n                currentMenuItem.items[this.focusedMenuItemIndex].hasFocus = true;\n                this.setState({\n                    currentMenu: currentMenuItem\n                },            () => { if(this.menuRef.current) {this.menuRef.current.forceUpdate();} });\n                break;\n\n            case KeyCodes.Escape:\n                this.setFocusOnMenuButton();\n                this.setState({\n                    showMenu: false\n                });\n                break;\n            case KeyCodes.Tab:\n                if (((this.focusedMenuItemIndex < currentMenuItem.items.length - 1 || this.focusedMenuItemIndex === currentMenuItem.items.length - 1 && event.shiftKey) && this.focusedMenuItemIndex >= 0) && !(\n                    this.focusedMenuItemIndex === 0 && event.shiftKey)) {\n                    this.focusedMenuItemIndex += event.shiftKey ? -1 : 1;\n\n                    currentMenuItem.items[this.focusedMenuItemIndex].hasFocus = true;\n                    this.setState({\n                        currentMenu: currentMenuItem\n                    });\n                } else {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({\n                        showMenu: false\n                    });\n                    if(event.shiftKey) {\n                        this.setFocusOnMenuButton();\n                    } else {\n                        if(this.currentMenu === ButtonMenuTypes.ClosedCaption && this.optionButtonRef.current) {\n                            this.optionButtonRef.current.focus();\n                        } else {\n                            this.props.isMuted ? this.unMuteButtonRef.current!.focus() : this.muteButtonRef.current!.focus();\n                        }\n                    }\n                }\n        }\n    }\n\n    private _onMenuItemClick(e: KeyboardEvent): void {\n        const button: HTMLButtonElement = e.currentTarget as HTMLButtonElement;\n        if (button.getAttribute('data-has-children')! === 'true') {\n            const index: number = Number(button.getAttribute('data-itemindex')!);\n            this.selectedMenuItems.push(index);\n            const currentMenuItem = this._getSelectedMenuFromList();\n            this.focusedMenuItemIndex = 0;\n            currentMenuItem.items[this.focusedMenuItemIndex].hasFocus = true;\n            this.setState({\n                currentMenu: currentMenuItem\n            });\n        } else if (button.getAttribute('data-isbackbutton')! === 'true') {\n            this.focusedMenuItemIndex = this.selectedMenuItems.pop()!;\n            const currentMenuItem = this._getSelectedMenuFromList();\n            currentMenuItem.items[this.focusedMenuItemIndex].hasFocus = true;\n            this.setState({\n                currentMenu: currentMenuItem\n            });\n        } else {\n            const currentMenuItem = this._getSelectedMenuFromList();\n            this._resetFocusForCurrentMenu(currentMenuItem);\n            const index: number = Number(button.getAttribute('data-itemindex')!);\n            this.focusedMenuItemIndex = index;\n            const data = this.currentMenu === ButtonMenuTypes.ClosedCaption ? button.getAttribute('data-info') :\n            JSON.stringify({url: button.getAttribute('data-info')!, lang: button.getAttribute('lang')! });\n            this.props.onMenuItemClick({\n                category: button.parentElement!.parentElement!.parentElement!.getAttribute('data-category')!,\n                id: button.parentElement!.id,\n                data: data!\n            });\n        }\n        this._updateSelectedMenu();\n    }\n\n    private _resetFocusForCurrentMenu(currentMenu: IPlayerMenu): void {\n        currentMenu.items.forEach(item => item.hasFocus = false);\n    }\n\n    private _getSelectedMenuFromList(): IPlayerMenu {\n        let menuItem = this.currentMenu === ButtonMenuTypes.ClosedCaption ? this.props.closedCaptionMenu! : this.props.optionMenu!;\n        // tslint:disable-next-line: prefer-for-of\n        for (let i = 0; i < this.selectedMenuItems.length; i++) {\n            menuItem = menuItem.items[this.selectedMenuItems[i]].subMenu!;\n        }\n        return menuItem;\n    }\n\n    private _updateSelectedMenu(): void {\n        const currentMenuItem = this._getSelectedMenuFromList();\n        if(currentMenuItem) {\n\n            // tslint:disable-next-line: switch-default\n            switch (currentMenuItem.category) {\n                case MenuCategories.ClosedCaption:\n                    currentMenuItem.items.forEach((item) => {\n                        if (item.data && item.data === this.props.currentClosedCaptionLanguage) {\n                            item.selected = true;\n                        } else {\n                            item.selected = false;\n                        }\n                    });\n                    break;\n                case MenuCategories.ClosedCaptionSettings:\n                    currentMenuItem.items.forEach((item) => {\n                        // tslint:disable-next-line: forin no-for-in\n                        for (const setting in this.props.currentClosedCaptionsSetting) {\n                            const data = `${setting}:${this.props.currentClosedCaptionsSetting[setting]}`;\n                            if (item.data && item.data === data) {\n                                item.selected = true;\n                                break;\n                            } else {\n                                item.selected = false;\n                            }\n                        }\n                    });\n                    break;\n                case MenuCategories.AudioTracks:\n                    currentMenuItem.items.forEach((item) => {\n                        if (item.language && item.language === this.props.currentAudioTrack) {\n                            item.selected = true;\n                        } else {\n                            item.selected = false;\n                        }\n                    });\n            }\n\n            this.setState({\n                currentMenu: currentMenuItem\n            },            () => { if(this.menuRef.current) {this.menuRef.current.forceUpdate();} });\n        }\n    }\n\n    private _renderClosedCaptionButton = (): JSX.Element => {\n        return (\n            <div className={`${VideoControls.videoControlsClassName}__closedcaption__container`} ref={this.closedCaptionButtonDiv}>\n                <button\n                    ref={this.closedCaptionRef}\n                    aria-label={this.props.resources.closedCaptionLabel}\n                    className={`${VideoControls.videoControlsClassName}__closedcaptionbtn`}\n                    onClick={this._onClosedCaptionClick}\n                />\n                <UncontrolledTooltip trigger={'hover focus'} target={this.closedCaptionRef}>{this.props.resources.closedCaptionLabel}</UncontrolledTooltip>\n            </div>\n        );\n    }\n\n    private _renderOptionButton = (): JSX.Element => {\n        return (\n            <div className={`${VideoControls.videoControlsClassName}__moreoptions__container`} ref={this.optionButtonDiv}>\n                <button\n                    ref={this.optionButtonRef}\n                    aria-label={this.props.resources.optionButtonLabel}\n                    className={`${VideoControls.videoControlsClassName}__moreoptionsbtn`}\n                    onClick={this._onOptionsButtonClick}\n                />\n                <UncontrolledTooltip trigger={'hover focus'} target={this.optionButtonRef}>{this.props.resources.optionButtonLabel}</UncontrolledTooltip>\n            </div>\n        );\n    }\n\n    private _renderFullScreenButton = (): JSX.Element => {\n        this.payLoad.contentAction.etext = this.props.isInFullScreen ? LocalizationConstants.exitFullScreenAriaLabel : LocalizationConstants.fullScreenAriaLabel;\n        const attribute = getTelemetryAttributes(this.props.telemetryContent!, this.payLoad);\n        return (\n            <div className={`${VideoControls.videoControlsClassName}__fullscreenbtn__container`}>\n            <ActionToggle\n                onChange={this.props.toggleFullScreen}\n                toggled={this.props.isInFullScreen}\n                className={`${VideoControls.videoControlsClassName}__fullscreenbtn__wrapper`}\n            >\n                <button\n                    ref={this.fullscreenButtonRef}\n                    aria-label={this.props.resources.fullScreenAriaLabel}\n                    className={`${VideoControls.videoControlsClassName}__fullscreenbtn`}\n                    {...attribute}\n                />\n                <button\n                    ref={this.exitFullScreenButtonRef}\n                    aria-label={this.props.resources.exitFullScreenAriaLabel}\n                    className={`${VideoControls.videoControlsClassName}__exitfullscreenbtn`}\n                    {...attribute}\n                />\n            </ActionToggle>\n            <UncontrolledTooltip className={`${VideoControls.videoControlsClassName}__fullscreenbtn__tooltip`} trigger={'hover focus'} target={this.fullscreenButtonRef}> {this.props.resources.fullScreenAriaLabel}</UncontrolledTooltip>\n            <UncontrolledTooltip trigger={'hover focus'} target={this.exitFullScreenButtonRef}> {this.props.resources.exitFullScreenAriaLabel}</UncontrolledTooltip>\n        </div>\n        );\n    }\n\n    private _renderVolumeButton = (): JSX.Element => {\n        this.payLoad.contentAction.etext = this.props.isMuted ? LocalizationConstants.unMuteAriaLabel : LocalizationConstants.muteAriaLabel;\n        const attribute = getTelemetryAttributes(this.props.telemetryContent!, this.payLoad);\n        const volumeButtonProps = {\n            className: `${VideoControls.videoControlsClassName}__muteunmutebtn__wrapper`,\n            onChange: this.props.onMuteClick,\n            toggled: this.props.isMuted,\n            onFocus: this.showVolumeControl(),\n            onBlur: this._hideVolumeControl,\n            onMouseOver: this.showVolumeControl(),\n            onMouseOut: this._hideVolumeControl,\n        };\n\n        return (\n            <ActionToggle {...volumeButtonProps}>\n                <button\n                    aria-label={this.props.resources.muteAriaLabel}\n                    ref={this.muteButtonRef}\n                    className={`${VideoControls.videoControlsClassName}__mutebtn`}\n                    {...attribute}\n                />\n                <button\n                    aria-label={this.props.resources.unMuteAriaLabel}\n                    ref={this.unMuteButtonRef}\n                    className={`${VideoControls.videoControlsClassName}__unmutebtn`}\n                    {...attribute}\n                />\n            </ActionToggle>\n        );\n    }\n\n    private _renderVideoSlider = (): JSX.Element => {\n        const videoProps: ISliderProps = {\n            id: 'VideoSlider',\n            inForm: false,\n            className: `${VideoControls.videoControlsClassName}__slidercontainer`,\n            min: this.props.playPosition.startTime,\n            max: this.props.playPosition.endTime,\n            ariaLabel: this.props.resources.seekBarLabel,\n            fillTrackValue: this.props.playPosition.bufferedDuration,\n            step: this.props.videoSeekSteps || 1,\n            orientation: 'horizontal',\n            showProgressBar: true,\n            onChange: this.props.onProgressChange,\n            showLabels: false,\n            showTooltip: true,\n            handleTooltipText: this._handleProgressToolTipText(this.props.playPosition.currentTime),\n            sliderThumbs: [\n                {\n                    id: 'VideoSliderThumb',\n                    value: this.props.playPosition.currentTime,\n                    ariaValueText: this.props.playPosition.currentTime.toString()\n                }\n            ]\n        };\n\n        return (\n            <Slider {...videoProps} />\n        );\n    }\n\n    private _renderVolumeSlider = (): JSX.Element => {\n        const volumeSliderProps: ISliderProps = {\n            id: 'VolumeSlider',\n            inForm: false,\n            className: `${VideoControls.videoControlsClassName}__volumeslider`,\n            min: 0,\n            max: 100,\n            step: this.props.volumeSeekSteps || 5,\n            orientation: 'vertical',\n            showProgressBar: false,\n            onChange: this.props.onVolumeChange,\n            onFocus: this.showVolumeControl(),\n            onBlur: this._hideVolumeControl,\n            showLabels: false,\n            showTooltip: true,\n            sliderThumbs: [\n                {\n                    id: 'VolumeSliderThumb',\n                    value: Math.round(this.props.currentVolume),\n                    ariaValueText: Math.round(this.props.currentVolume).toString(),\n                }\n            ]\n        };\n        return (\n            <Slider {...volumeSliderProps} />\n        );\n    }\n\n    private _getOffsetPosition(refDiv: React.RefObject<HTMLDivElement>): IOffsetPosition {\n        const buttonWidth = refDiv.current!.children[0].clientWidth;\n        const elementwidth = refDiv.current!.offsetWidth;\n        const offsetLeft = refDiv.current!.offsetLeft + (elementwidth - buttonWidth) / 2;\n        const offsetTop = refDiv.current!.offsetTop;\n        return {\n            offsetLeft,\n            offsetTop\n        };\n    }\n\n    private _onClosedCaptionClick(): void {\n        this.currentMenu = ButtonMenuTypes.ClosedCaption;\n        const offsetLeft = this._getOffsetPosition(this.closedCaptionButtonDiv).offsetLeft;\n        this.focusedMenuItemIndex = 0;\n        this.selectedMenuItems = [];\n        const closedCaptionMenu = this.props.closedCaptionMenu!;\n        this._resetFocusForCurrentMenu(closedCaptionMenu);\n        closedCaptionMenu.items[this.focusedMenuItemIndex].hasFocus = true;\n        this.setState({\n            showMenu: (this.currentMenu === ButtonMenuTypes.ClosedCaption && !this.state.showMenu),\n            menuLeftPosition: offsetLeft - 120,\n            currentMenu: closedCaptionMenu,\n        });\n        this._updateSelectedMenu();\n    }\n\n    private _onOptionsButtonClick(): void {\n        this.currentMenu = ButtonMenuTypes.Options;\n        const offsetLeft = this._getOffsetPosition(this.optionButtonDiv).offsetLeft;\n        this.focusedMenuItemIndex = 0;\n        this.selectedMenuItems = [];\n        const optionMenu = this.props.optionMenu!;\n        this._resetFocusForCurrentMenu(optionMenu);\n        optionMenu.items[this.focusedMenuItemIndex].hasFocus = true;\n        this.setState({\n            showMenu: (this.currentMenu === ButtonMenuTypes.Options && !this.state.showMenu),\n            menuLeftPosition: offsetLeft - 120,\n            currentMenu: optionMenu,\n        });\n        this._updateSelectedMenu();\n    }\n\n    private _hideVolumeControl(): void {\n        window && window.clearTimeout(this.volumeAutoHideTimer);\n        this.setState({\n            showVolumeSlider: false\n        });\n    }\n\n    private _handleProgressToolTipText = (tooltip: number) => () => {\n        return this._toElapsedTimeString(tooltip);\n    };\n\n    private _toElapsedTimeString(seconds: number): string {\n        const negative = seconds < 0;\n        if (negative) {\n            seconds *= -1;\n        }\n\n        const hours = Math.floor(seconds / 3600);\n        const remainder = seconds % 3600;\n        const minutes = Math.floor(remainder / 60);\n\n        let elapsedTime = '';\n        elapsedTime = hours > 0 ? `${hours}:` : '';\n\n        seconds = Math.floor(remainder % 60);\n        elapsedTime += `${(minutes < 10 ? '0' : '') + minutes.toString()}`;\n        elapsedTime += `:${seconds === 0 ? '00' : (seconds < 10 ? '0' : '') + seconds.toString()}`;\n\n        return negative ? `-${elapsedTime}` : elapsedTime;\n    }\n\n    private _applyTooltipClassOnWidthChange(videoControlWidth: number, viewportMax: number): void {\n        if(videoControlWidth) {\n            this.setState({\n                toolTipClass: (videoControlWidth > this.props.viewportMin! && videoControlWidth < viewportMax) ? `${VideoControls.videoControlsClassName}__playpausebtn__tooltip` : ''\n            });\n        }\n    }\n\n    private _isIPhone(): boolean {\n        const useragent = window && window.navigator.userAgent;\n        return !!useragent.match(/iPhone/i);\n    }\n}\n"]}