{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import{Module,Node}from'@msdyn365-commerce-modules/utilities';import*as React from'react';const ReviewsListview=props=>{const{averageRating,filterByDropdown,moduleProps,noReviewsMessage,noReviewsWithFilterMessage,pageControls,refineReviewsProps,reportReviewModal,reviewsListProps,reviewCards,reviewCount,reviewModal,sortByDropdown,state,userReview}=props;if(!userReview&&reviewCards.length===0&&!state.isFilterApplied){return/*#__PURE__*/React.createElement(Module,Object.assign({},moduleProps),noReviewsMessage);}return/*#__PURE__*/React.createElement(Module,Object.assign({},moduleProps),averageRating,reviewCount,/*#__PURE__*/React.createElement(Node,Object.assign({},refineReviewsProps),sortByDropdown,filterByDropdown),/*#__PURE__*/React.createElement(Node,Object.assign({},reviewsListProps),userReview&&buildReviewCard(userReview),reviewCards.map(review=>{return buildReviewCard(review);})),reviewCards.length===0&&state.isFilterApplied&&noReviewsWithFilterMessage,pageControls,createReviewModal(reviewModal,moduleProps),createReportModal(reportReviewModal,state));};const buildReviewCard=props=>{return/*#__PURE__*/React.createElement(Node,Object.assign({},props.cardProps),/*#__PURE__*/React.createElement(Node,Object.assign({},props.headerProps),props.rating,props.name,props.date),/*#__PURE__*/React.createElement(Node,Object.assign({},props.cardBodyProps),/*#__PURE__*/React.createElement(Node,Object.assign({},props.reviewProps),props.reviewTitle,props.reviewText),/*#__PURE__*/React.createElement(Node,Object.assign({},props.responseProps),props.responseName,props.responseDate,props.responseText),/*#__PURE__*/React.createElement(Node,Object.assign({},props.controlsProps),props.ratingHelpfulLabel,props.like,props.dislike,props.edit,props.report)));};const createReviewModal=(props,moduleProps)=>{return/*#__PURE__*/React.createElement(Module,Object.assign({},props.modal,moduleProps),props.modalHeader,/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalBody),/*#__PURE__*/React.createElement(Node,Object.assign({},props.form),/*#__PURE__*/React.createElement(Node,Object.assign({},props.inputRow),props.rating,props.ratingLabel),/*#__PURE__*/React.createElement(Node,Object.assign({},props.inputRow),props.titleLabel,props.titleInput),/*#__PURE__*/React.createElement(Node,Object.assign({},props.inputRow),props.textLabel,props.textInput),props.privacyPolicyUrl,props.error)),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalFooter),props.submitButton,props.cancelButton));};const createReportModal=(props,state)=>{return/*#__PURE__*/React.createElement(Node,Object.assign({},props.modal),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalHeader),state.reported?props.headerSubmitted:props.header),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalBody),state.reported?props.reportSubmittedMessage:[props.reportMessage,props.radioButtons,props.error]),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalFooter),state.reported?props.succesfulButton:[props.submitButton,props.cancelButton]));};export default ReviewsListview;","map":{"version":3,"sources":["modules/fabrikam/views/reviews-list.view.tsx"],"names":[],"mappings":"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","sourcesContent":["import {  IReviewModalViewProps } from '@msdyn365-commerce-modules/ratings-reviews';\nimport { IReportReviewModalViewProps, IReviewCardViewProps, IReviewsListState, IReviewsListViewProps } from '@msdyn365-commerce-modules/ratings-reviews/src/modules/reviews-list';\nimport {  IModuleProps, Module, Node } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\n\nconst ReviewsListview: React.FC<IReviewsListViewProps> = props => {\n    const {\n        averageRating,\n        filterByDropdown,\n        moduleProps,\n        noReviewsMessage,\n        noReviewsWithFilterMessage,\n        pageControls,\n        refineReviewsProps,\n        reportReviewModal,\n        reviewsListProps,\n        reviewCards,\n        reviewCount,\n        reviewModal,\n        sortByDropdown,\n        state,\n        userReview\n    } = props;\n\n    if (!userReview && reviewCards.length === 0 && !state.isFilterApplied) {\n        return  <Module {...moduleProps}>{noReviewsMessage}</Module>;\n    }\n\n    return (\n        <Module {...moduleProps}>\n            {averageRating}\n            {reviewCount}\n            <Node {...refineReviewsProps} >\n                {sortByDropdown}\n                {filterByDropdown}\n            </Node>\n            <Node {...reviewsListProps}>\n                {userReview && buildReviewCard(userReview)}\n                {reviewCards.map(review => {\n                    return buildReviewCard(review);\n                })}\n            </Node>\n            { reviewCards.length === 0 && state.isFilterApplied && noReviewsWithFilterMessage}\n            {pageControls}\n            {createReviewModal(reviewModal, moduleProps)}\n            {createReportModal(reportReviewModal, state)}\n        </Module>\n    );\n};\n\nconst buildReviewCard = (props: IReviewCardViewProps) => {\n    return (\n        <Node {...props.cardProps}>\n            <Node {...props.headerProps}>\n                {props.rating}\n                {props.name}\n                {props.date}\n            </Node>\n            <Node {...props.cardBodyProps}>\n                <Node {...props.reviewProps}>\n                    {props.reviewTitle}\n                    {props.reviewText}\n                </Node>\n                <Node {...props.responseProps}>\n                    {props.responseName}\n                    {props.responseDate}\n                    {props.responseText}\n                </Node>\n                <Node {...props.controlsProps}>\n                    {props.ratingHelpfulLabel}\n                    {props.like}\n                    {props.dislike}\n                    {props.edit}\n                    {props.report}\n                </Node>\n            </Node>\n        </Node>\n    );\n};\n\nconst createReviewModal = (props: IReviewModalViewProps, moduleProps: IModuleProps): JSX.Element => {\n    return (\n        <Module {...props.modal} {...moduleProps}>\n            {props.modalHeader}\n            <Node {...props.modalBody}>\n                <Node {...props.form}>\n                    <Node {...props.inputRow}>\n                        {props.rating}\n                        {props.ratingLabel}\n                    </Node>\n                    <Node {...props.inputRow}>\n                        {props.titleLabel}\n                        {props.titleInput}\n                    </Node>\n                    <Node {...props.inputRow}>\n                        {props.textLabel}\n                        {props.textInput}\n                    </Node>\n                    {props.privacyPolicyUrl}\n                    {props.error}\n                </Node>\n            </Node>\n            <Node {...props.modalFooter}>\n                {props.submitButton}\n                {props.cancelButton}\n            </Node>\n        </Module>\n    );\n};\n\nconst createReportModal = (props: IReportReviewModalViewProps, state: IReviewsListState): JSX.Element => {\n    return (\n        <Node {...props.modal}>\n            <Node {...props.modalHeader}>\n                {state.reported ? props.headerSubmitted : props.header}\n            </Node>\n            <Node {...props.modalBody}>\n                {state.reported ? props.reportSubmittedMessage : [props.reportMessage, props.radioButtons, props.error]}\n            </Node>\n            <Node {...props.modalFooter}>\n                {state.reported ? props.succesfulButton : [props.submitButton, props.cancelButton]}\n            </Node>\n        </Node>\n    );\n};\n\nexport default ReviewsListview;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}