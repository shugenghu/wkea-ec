{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';import MenuItem from'../menu-item/menu-item';var Menu=/*#__PURE__*/function(_React$Component){_inherits(Menu,_React$Component);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.target=/*#__PURE__*/React.createRef();_this.handleDocumentClick=_this.handleDocumentClick.bind(_assertThisInitialized(_this));_this._onKeyDown=_this._onKeyDown.bind(_assertThisInitialized(_this));_this._onKeyUp=_this._onKeyUp.bind(_assertThisInitialized(_this));return _this;}_createClass(Menu,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;['click','touchstart'].forEach(function(event){window&&window.addEventListener(event,_this2.handleDocumentClick,true);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this3=this;['click','touchstart'].forEach(function(event){window&&window.removeEventListener(event,_this3.handleDocumentClick,true);});}},{key:\"getMenuWidth\",value:function getMenuWidth(){return this.target.current.offsetWidth;}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps){var shouldRender=false;if(nextProps.playerMenu!==this.props.playerMenu){shouldRender=true;}return shouldRender;}},{key:\"render\",value:function render(){var _this4=this;var _this$props=this.props,className=_this$props.className,style=_this$props.style;var menuItems=this.props.playerMenu.items;var count=menuItems.length;return/*#__PURE__*/React.createElement(\"div\",{className:className,style:style,ref:this.target,\"data-category\":this.props.playerMenu.category},/*#__PURE__*/React.createElement(\"ul\",{role:'menu',className:\"\".concat(className,\"__list\"),onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp},menuItems.map(function(menuItem,index){return/*#__PURE__*/React.createElement(MenuItem,Object.assign({id:menuItem.id,key:index,label:menuItem.label,className:\"\".concat(className,\"__menuitem\"),language:menuItem.language,data:menuItem.data,isBackButton:menuItem.isBackButton,image:menuItem.image,imageAlt:menuItem.imageAlt,itemCount:count,itemIndex:index,glyph:menuItem.glyph,selected:menuItem.selected,selectable:menuItem.selectable,persistOnClick:menuItem.persistOnClick},menuItem.id.includes('cc-preset')?{}:{ariaLabel:menuItem.ariaLabel},{subMenu:menuItem.subMenu,hasMouseHoverEvents:menuItem.hasMouseHoverEvents,hasChildren:menuItem.subMenu!==undefined&&menuItem.subMenu.items&&menuItem.subMenu.items.length>0?true:false,onClick:_this4.props.onMenuItemClick,onFocus:_this4.props.onFocus,onBlur:_this4.props.onBlur,onKeyDown:_this4.props.onKeyDown,onKeyUp:_this4.props.onKeyUp,onMouseOver:_this4.props.onMouseOver,onMouseOut:_this4.props.onMouseOut,hasFocus:menuItem.hasFocus}));})));}},{key:\"handleDocumentClick\",value:function handleDocumentClick(e){var target=e.target;if(this.target!==undefined&&!(this.target.current!==null&&(e.target===this.target.current||this.target.current.contains(target)))){this.props.onDocumentClick(e);}}},{key:\"_onKeyDown\",value:function _onKeyDown(event){this.props.onKeyDown(event);}},{key:\"_onKeyUp\",value:function _onKeyUp(event){this.props.onKeyUp(event);}}]);return Menu;}(React.Component);export{Menu as default};","map":{"version":3,"sources":["videoplayer/components/menu/menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport MenuItem from '../menu-item/menu-item';\nimport { IMenuItemProps } from '../menu-item/menu-itemProps';\nimport { IMenuProps } from './menuProps';\n\n/**\n *\n * Menu React component for video player\n *\n */\nexport default class Menu extends React.Component<IMenuProps> {\n    private target: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n\n    constructor(props: IMenuProps) {\n        super(props);\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n    }\n\n    public componentDidMount(): void {\n        ['click', 'touchstart'].forEach((event: string) => {\n           window && window.addEventListener(event, this.handleDocumentClick, true);\n        });\n    }\n\n    public componentWillUnmount(): void {\n        ['click', 'touchstart'].forEach((event: string) => {\n           window && window.removeEventListener(event, this.handleDocumentClick, true);\n        });\n    }\n\n    public getMenuWidth(): number {\n        return this.target.current!.offsetWidth;\n    }\n\n    public shouldComponentUpdate(nextProps: IMenuProps): boolean {\n        let shouldRender = false;\n        if(nextProps.playerMenu !== this.props.playerMenu) {\n            shouldRender = true;\n        }\n        return shouldRender;\n    }\n\n    public render(): JSX.Element {\n        const {className, style } = this.props;\n        const menuItems: IMenuItemProps[] = this.props.playerMenu.items;\n        const count: number = menuItems.length;\n        return (\n            <div className={className} style={style} ref={this.target} data-category={this.props.playerMenu.category}>\n                <ul role='menu' className={`${className}__list`} onKeyDown={this._onKeyDown} onKeyUp={this._onKeyUp} >\n                    {menuItems.map (\n                        (menuItem: IMenuItemProps, index: number) => {\n                            return (\n                                <MenuItem\n                                    id={menuItem.id}\n                                    key={index}\n                                    label={menuItem.label}\n                                    className={`${className}__menuitem`}\n                                    language={menuItem.language}\n                                    data={menuItem.data}\n                                    isBackButton={menuItem.isBackButton}\n                                    image={menuItem.image}\n                                    imageAlt={menuItem.imageAlt}\n                                    itemCount={count}\n                                    itemIndex={index}\n                                    glyph={menuItem.glyph}\n                                    selected={menuItem.selected}\n                                    selectable={menuItem.selectable}\n                                    persistOnClick={menuItem.persistOnClick}\n                                    {...(menuItem.id.includes('cc-preset')) ? {}:{ariaLabel:menuItem.ariaLabel}}\n                                    subMenu={menuItem.subMenu}\n                                    hasMouseHoverEvents={menuItem.hasMouseHoverEvents}\n                                    hasChildren={menuItem.subMenu !== undefined && menuItem.subMenu.items && menuItem.subMenu.items.length > 0 ? true : false}\n                                    onClick={this.props.onMenuItemClick}\n                                    onFocus={this.props.onFocus}\n                                    onBlur={this.props.onBlur}\n                                    onKeyDown={this.props.onKeyDown}\n                                    onKeyUp={this.props.onKeyUp}\n                                    onMouseOver={this.props.onMouseOver}\n                                    onMouseOut={this.props.onMouseOut}\n                                    hasFocus={menuItem.hasFocus}\n                                />\n                            );}\n                        )\n                    }\n                </ul>\n            </div>\n        );\n    }\n\n    public handleDocumentClick(e: Event): void {\n        const target = e.target as HTMLElement;\n        if (this.target !== undefined && !(this.target.current !== null && (e.target === this.target.current || this.target.current.contains(target)))) {\n            this.props.onDocumentClick(e);\n        }\n    }\n\n    private _onKeyDown(event: React.KeyboardEvent<HTMLUListElement>): void {\n        this.props.onKeyDown!(event as unknown as Event);\n    }\n\n    private _onKeyUp(event: React.KeyboardEvent<HTMLUListElement>): void {\n        this.props.onKeyUp!(event as unknown as Event);\n    }\n\n}\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}