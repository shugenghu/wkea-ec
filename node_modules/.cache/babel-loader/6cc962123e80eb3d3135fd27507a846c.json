{"ast":null,"code":"import\"core-js/modules/es.symbol.description.js\";import\"core-js/modules/es.promise.js\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{buildCacheKeyWithUrlTokens}from'@msdyn365-commerce-modules/retail-actions';import{createObservableDataAction}from'@msdyn365-commerce/core';export class PageSummaryInput{constructor(config,requestContext){this.getCacheObjectType=()=>'PageSummary';this.getCacheKey=()=>\"\".concat(buildCacheKeyWithUrlTokens('PageSummary',this.requestContext),\"-\").concat(this.config.title);this.dataCacheType=()=>'request';this.config=config||{};this.requestContext=requestContext;}}const action=async(input,context)=>{const{config}=input;return{title:config&&config.title,description:config&&config.description,keywords:config&&config.keywords,sharingImageUrl:config&&config.sharingImage&&config.sharingImage.src,canonicalUrl:context.requestContext&&context.requestContext.canonicalUrl,faviconUrl:config&&config.faviconUrl};};export default createObservableDataAction({id:'@msdyn365-commerce-modules/page-summary/default-page-summary',action:action,input:args=>{return new PageSummaryInput(args.config,args.requestContext);}});","map":{"version":3,"sources":["modules/default-page-summary/default-page-summary.action.ts"],"names":[],"mappings":"uFAAA;;;AAGG,GAEH,OAAS,0BAAT,KAA2C,2CAA3C,CACA,OAEI,0BAFJ,KAQO,yBARP,CAqBA,MAAM,MAAO,CAAA,gBAAgB,CAIzB,WAAA,CAAY,MAAZ,CAA+C,cAA/C,CAA8E,CAKvE,KAAA,kBAAA,CAAqB,IAAc,aAAnC,CACA,KAAA,WAAA,CAAc,cAAiB,0BAA0B,CAAC,aAAD,CAAgB,KAAK,cAArB,CAA3C,aAAmF,KAAK,MAAL,CAAY,KAA/F,CAAd,CACA,KAAA,aAAA,CAAgB,IAAiB,SAAjC,CANH,KAAK,MAAL,CAAc,MAAM,EAAI,EAAxB,CACA,KAAK,cAAL,CAAsB,cAAtB,CACH,CAPwB,CAc7B,KAAM,CAAA,MAAM,CAAG,MAAO,KAAP,CAAgC,OAAhC,GAAsF,CACjG,KAAM,CAAE,MAAF,EAAa,KAAnB,CACA,MAAO,CACH,KAAK,CAAE,MAAM,EAAI,MAAM,CAAC,KADrB,CAEH,WAAW,CAAE,MAAM,EAAI,MAAM,CAAC,WAF3B,CAGH,QAAQ,CAAE,MAAM,EAAI,MAAM,CAAC,QAHxB,CAIH,eAAe,CAAE,MAAM,EAAI,MAAM,CAAC,YAAjB,EAAiC,MAAM,CAAC,YAAP,CAAoB,GAJnE,CAKH,YAAY,CAAE,OAAO,CAAC,cAAR,EAA0B,OAAO,CAAC,cAAR,CAAuB,YAL5D,CAMH,UAAU,CAAE,MAAM,EAAI,MAAM,CAAC,UAN1B,CAAP,CAQH,CAVD,CAYA,cAAe,CAAA,0BAA0B,CAAC,CACtC,EAAE,CAAE,8DADkC,CAEtC,MAAM,CAA6B,MAFG,CAGtC,KAAK,CAAG,IAAD,EAA+B,CAClC,MAAO,IAAI,CAAA,gBAAJ,CAAgD,IAAI,CAAC,MAArD,CAA6D,IAAI,CAAC,cAAlE,CAAP,CACH,CALqC,CAAD,CAAzC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { buildCacheKeyWithUrlTokens } from '@msdyn365-commerce-modules/retail-actions';\nimport {\n    CacheType,\n    createObservableDataAction,\n    IAction,\n    IActionContext,\n    IActionInput,\n    ICreateActionContext,\n    IRequestContext\n} from '@msdyn365-commerce/core';\nimport { IDefaultPageSummaryConfig } from './default-page-summary.props.autogenerated';\n\nexport interface IPageSummaryData {\n    title?: string;\n    description?: string;\n    keywords?: string;\n    sharingImageUrl?: string;\n    canonicalUrl?: string;\n    faviconUrl?: string;\n}\n\n/** Page Summary Input */\nexport class PageSummaryInput implements IActionInput {\n    public requestContext: IRequestContext;\n    public config: IDefaultPageSummaryConfig;\n\n    constructor(config: IDefaultPageSummaryConfig, requestContext: IRequestContext) {\n        this.config = config || {};\n        this.requestContext = requestContext;\n    }\n\n    public getCacheObjectType = (): string => 'PageSummary';\n    public getCacheKey = (): string => `${buildCacheKeyWithUrlTokens('PageSummary', this.requestContext)}-${this.config.title}`;\n    public dataCacheType = (): CacheType => 'request';\n}\n\nconst action = async (input: PageSummaryInput, context: IActionContext): Promise<IPageSummaryData> => {\n    const { config } = input;\n    return {\n        title: config && config.title,\n        description: config && config.description,\n        keywords: config && config.keywords,\n        sharingImageUrl: config && config.sharingImage && config.sharingImage.src,\n        canonicalUrl: context.requestContext && context.requestContext.canonicalUrl,\n        faviconUrl: config && config.faviconUrl\n    };\n};\n\nexport default createObservableDataAction({\n    id: '@msdyn365-commerce-modules/page-summary/default-page-summary',\n    action: <IAction<IPageSummaryData>>action,\n    input: (args: ICreateActionContext) => {\n        return new PageSummaryInput(<IDefaultPageSummaryConfig>args.config, args.requestContext);\n    }\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}