{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import{removeCartLinesAsync}from'@msdyn365-commerce/retail-proxy/dist/DataActions/CartsDataActions.g';export default function removeCartLinesInternal(_x,_x2,_x3){return _removeCartLinesInternal.apply(this,arguments);}function _removeCartLinesInternal(){_removeCartLinesInternal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(cart,cartLineIds,actionContext){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(cart){_context.next=2;break;}return _context.abrupt(\"return\",{cart:undefined,status:'FAILED'});case 2:return _context.abrupt(\"return\",removeCartLinesAsync({callerContext:actionContext},cart.Id,cartLineIds).then(function(newCart){// This is because of a TSProxy typing error\nvar returnedCart=Array.isArray(newCart)?newCart[0]:newCart;return{cart:returnedCart,status:'SUCCESS'};})[\"catch\"](function(error){actionContext.telemetry.warning(error);actionContext.telemetry.debug('Unable to Remove Cart Line');return{cart:undefined,status:'FAILED'};}));case 3:case\"end\":return _context.stop();}}},_callee);}));return _removeCartLinesInternal.apply(this,arguments);}","map":{"version":3,"sources":["cart-state/remove-cart-lines.ts"],"names":[],"mappings":"uIACA,OAAS,oBAAT,KAAqC,qEAArC,CAIA,uBAA8B,CAAA,uBAA9B,oE,qHAAe,iBAAuC,IAAvC,CAAyE,WAAzE,CAAgG,aAAhG,qHACN,IADM,yDAEA,CAAE,IAAI,CAAE,SAAR,CAAmB,MAAM,CAAE,QAA3B,CAFA,yCAKJ,oBAAoB,CAAC,CAAE,aAAa,CAAE,aAAjB,CAAD,CAAkC,IAAI,CAAC,EAAvC,CAA2C,WAA3C,CAApB,CACF,IADE,CACG,SAAA,OAAO,CAAG,CACZ;AACA,GAAM,CAAA,YAAY,CAAG,KAAK,CAAC,OAAN,CAAc,OAAd,EAAyB,OAAO,CAAC,CAAD,CAAhC,CAAsC,OAA3D,CAEA,MAAmC,CAAE,IAAI,CAAE,YAAR,CAAsB,MAAM,CAAE,SAA9B,CAAnC,CACH,CANE,WAOI,SAAA,KAAK,CAAG,CACX,aAAa,CAAC,SAAd,CAAwB,OAAxB,CAAgC,KAAhC,EACA,aAAa,CAAC,SAAd,CAAwB,KAAxB,CAA8B,4BAA9B,EAEA,MAAmC,CAAE,IAAI,CAAE,SAAR,CAAmB,MAAM,CAAE,QAA3B,CAAnC,CACH,CAZE,CALI,wD","sourcesContent":["import { IActionContext } from '@msdyn365-commerce/core';\nimport { removeCartLinesAsync } from '@msdyn365-commerce/retail-proxy/dist/DataActions/CartsDataActions.g';\nimport { Cart } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\nimport { ICartActionResultWithCart } from './cart-action-result';\n\nexport default async function removeCartLinesInternal(cart: Readonly<Cart | undefined>, cartLineIds: string[], actionContext: IActionContext): Promise<ICartActionResultWithCart> {\n    if (!cart) {\n        return { cart: undefined, status: 'FAILED' };\n    }\n\n    return removeCartLinesAsync({ callerContext: actionContext}, cart.Id, cartLineIds)\n        .then(newCart => {\n            // This is because of a TSProxy typing error\n            const returnedCart = Array.isArray(newCart) ? newCart[0] : newCart;\n\n            return <ICartActionResultWithCart> { cart: returnedCart, status: 'SUCCESS' };\n        })\n        .catch(error => {\n            actionContext.telemetry.warning(error);\n            actionContext.telemetry.debug('Unable to Remove Cart Line');\n\n            return <ICartActionResultWithCart> { cart: undefined, status: 'FAILED' };\n        });\n}"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}