{"ast":null,"code":"import{OrderSummary}from'@msdyn365-commerce-modules/order-summary-utilities';import*as Msdyn365 from'@msdyn365-commerce/core';import get from'lodash/get';import*as React from'react';export var getOrderSummary=function getOrderSummary(input){var orderSummaryHeading=input.config.orderSummaryHeading,checkout=input.data.checkout,_input$resources=input.resources,subTotalLabel=_input$resources.subTotalLabel,shippingLabel=_input$resources.shippingLabel,taxLabel=_input$resources.taxLabel,orderTotalLabel=_input$resources.orderTotalLabel,loyaltyLabel=_input$resources.loyaltyLabel,giftcardLabel=_input$resources.giftcardLabel,totalDiscountsLabel=_input$resources.totalDiscountsLabel,freeText=_input$resources.freeText,toBeCalculatedText=_input$resources.toBeCalculatedText,otherCharges=_input$resources.otherCharges,context=input.context,typeName=input.typeName,id=input.id,telemetry=input.telemetry;var checkoutState=get(checkout,'result');var cart=get(checkout,'result.checkoutCart.cart');var showLineItems=cart.CartLines&&cart.CartLines.length>0;var channelConfiguration=context.request.channel;var handleOrderSummaryHeadingChange=function handleOrderSummaryHeadingChange(event){var orderSummaryHeading=input.config.orderSummaryHeading;orderSummaryHeading.text=event.target.value;};return{orderSummaryProps:{className:'ms-checkout-guest-profile__selected-item'},heading:orderSummaryHeading&&orderSummaryHeading.text&&/*#__PURE__*/React.createElement(Msdyn365.Text,Object.assign({className:'msc-order-summary__heading'},orderSummaryHeading,{tag:orderSummaryHeading.tag||'h2',text:orderSummaryHeading.text,editProps:{onEdit:handleOrderSummaryHeadingChange,requestContext:context.request}})),lines:showLineItems?OrderSummary({checkoutState:checkoutState,cart:cart,subTotalLabel:subTotalLabel,shippingLabel:shippingLabel,taxLabel:taxLabel,orderTotalLabel:orderTotalLabel,loyaltyLabel:loyaltyLabel,giftcardLabel:giftcardLabel,totalDiscountsLabel:totalDiscountsLabel,freeText:freeText,toBeCalculatedText:toBeCalculatedText,context:context,typeName:typeName,id:id,channelConfiguration:channelConfiguration,telemetry:telemetry,otherChargeLabel:otherCharges}):undefined};};","map":{"version":3,"sources":["modules/checkout/components/get-order-summary.tsx"],"names":[],"mappings":"AAIA,OAA6B,YAA7B,KAAiD,oDAAjD,CAEA,MAAO,GAAK,CAAA,QAAZ,KAA0B,yBAA1B,CACA,MAAO,CAAA,GAAP,KAAgB,YAAhB,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CASA,MAAO,IAAM,CAAA,eAAe,CAAG,QAAlB,CAAA,eAAkB,CAAC,KAAD,CAAwD,IAErE,CAAA,mBAFqE,CAoB/E,KApB+E,CAE/E,MAF+E,CAErE,mBAFqE,CAGvE,QAHuE,CAoB/E,KApB+E,CAG/E,IAH+E,CAGvE,QAHuE,kBAoB/E,KApB+E,CAI/E,SAJ+E,CAK3E,aAL2E,kBAK3E,aAL2E,CAM3E,aAN2E,kBAM3E,aAN2E,CAO3E,QAP2E,kBAO3E,QAP2E,CAQ3E,eAR2E,kBAQ3E,eAR2E,CAS3E,YAT2E,kBAS3E,YAT2E,CAU3E,aAV2E,kBAU3E,aAV2E,CAW3E,mBAX2E,kBAW3E,mBAX2E,CAY3E,QAZ2E,kBAY3E,QAZ2E,CAa3E,kBAb2E,kBAa3E,kBAb2E,CAc3E,YAd2E,kBAc3E,YAd2E,CAgB/E,OAhB+E,CAoB/E,KApB+E,CAgB/E,OAhB+E,CAiB/E,QAjB+E,CAoB/E,KApB+E,CAiB/E,QAjB+E,CAkB/E,EAlB+E,CAoB/E,KApB+E,CAkB/E,EAlB+E,CAmB/E,SAnB+E,CAoB/E,KApB+E,CAmB/E,SAnB+E,CAsBnF,GAAM,CAAA,aAAa,CAAG,GAAG,CAAC,QAAD,CAAW,QAAX,CAAzB,CACA,GAAM,CAAA,IAAI,CAAG,GAAG,CAAC,QAAD,CAAW,0BAAX,CAAhB,CACA,GAAM,CAAA,aAAa,CAAG,IAAI,CAAC,SAAL,EAAkB,IAAI,CAAC,SAAL,CAAe,MAAf,CAAwB,CAAhE,CACA,GAAM,CAAA,oBAAoB,CAAG,OAAO,CAAC,OAAR,CAAgB,OAA7C,CAEA,GAAM,CAAA,+BAA+B,CAAG,QAAlC,CAAA,+BAAkC,CAAC,KAAD,CAAyC,IAG/D,CAAA,mBAH+D,CAIzE,KAJyE,CAGzE,MAHyE,CAG/D,mBAH+D,CAK7E,mBAAoB,CAAC,IAArB,CAA4B,KAAK,CAAC,MAAN,CAAa,KAAzC,CACH,CAND,CAQA,MAAO,CACH,iBAAiB,CAAE,CAAE,SAAS,CAAE,0CAAb,CADhB,CAEH,OAAO,CAAE,mBAAmB,EAAI,mBAAmB,CAAC,IAA3C,eACT,KAAA,CAAA,aAAA,CAAC,QAAQ,CAAC,IAAV,CAAc,MAAA,CAAA,MAAA,CAAA,CACV,SAAS,CAAC,4BADA,CAAA,CAEN,mBAFM,CAEa,CACvB,GAAG,CAAE,mBAAmB,CAAC,GAApB,EAA2B,IADT,CAEvB,IAAI,CAAE,mBAAmB,CAAC,IAFH,CAGvB,SAAS,CAAE,CAAE,MAAM,CAAE,+BAAV,CAA2C,cAAc,CAAE,OAAO,CAAC,OAAnE,CAHY,CAFb,CAAd,CAHG,CAWH,KAAK,CAAE,aAAa,CACd,YAAY,CAAC,CACT,aAAa,CAAb,aADS,CAET,IAAI,CAAJ,IAFS,CAGT,aAAa,CAAb,aAHS,CAIT,aAAa,CAAb,aAJS,CAKT,QAAQ,CAAR,QALS,CAMT,eAAe,CAAf,eANS,CAOT,YAAY,CAAZ,YAPS,CAQT,aAAa,CAAb,aARS,CAST,mBAAmB,CAAnB,mBATS,CAUT,QAAQ,CAAR,QAVS,CAWT,kBAAkB,CAAlB,kBAXS,CAYT,OAAO,CAAP,OAZS,CAaT,QAAQ,CAAR,QAbS,CAcT,EAAE,CAAF,EAdS,CAeT,oBAAoB,CAApB,oBAfS,CAgBT,SAAS,CAAT,SAhBS,CAiBT,gBAAgB,CAAE,YAjBT,CAAD,CADE,CAoBd,SA/BH,CAAP,CAkCH,CArEM","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IOrderSummaryLines, OrderSummary } from '@msdyn365-commerce-modules/order-summary-utilities';\nimport { INodeProps } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport get from 'lodash/get';\nimport * as React from 'react';\nimport { ICheckoutData } from '../checkout.data';\nimport { ICheckoutProps } from '../checkout.props.autogenerated';\n\nexport interface IOrderSummary {\n    orderSummaryProps: INodeProps;\n    heading?: React.ReactNode;\n    lines?: IOrderSummaryLines;\n}\nexport const getOrderSummary = (input: ICheckoutProps<ICheckoutData>): IOrderSummary => {\n    const {\n        config: { orderSummaryHeading },\n        data: { checkout },\n        resources: {\n            subTotalLabel,\n            shippingLabel,\n            taxLabel,\n            orderTotalLabel,\n            loyaltyLabel,\n            giftcardLabel,\n            totalDiscountsLabel,\n            freeText,\n            toBeCalculatedText,\n            otherCharges\n        },\n        context,\n        typeName,\n        id,\n        telemetry\n    } = input;\n\n    const checkoutState = get(checkout, 'result');\n    const cart = get(checkout, 'result.checkoutCart.cart');\n    const showLineItems = cart.CartLines && cart.CartLines.length > 0;\n    const channelConfiguration = context.request.channel!;\n\n    const handleOrderSummaryHeadingChange = (event: Msdyn365.ContentEditableEvent) => {\n        const {\n            // tslint:disable-next-line: no-shadowed-variable\n            config: { orderSummaryHeading }\n        } = input;\n        orderSummaryHeading!.text = event.target.value;\n    };\n\n    return {\n        orderSummaryProps: { className: 'ms-checkout-guest-profile__selected-item' },\n        heading: orderSummaryHeading && orderSummaryHeading.text && (\n        <Msdyn365.Text\n            className='msc-order-summary__heading'\n            {...orderSummaryHeading}\n            tag={orderSummaryHeading.tag || 'h2'}\n            text={orderSummaryHeading.text}\n            editProps={{ onEdit: handleOrderSummaryHeadingChange, requestContext: context.request }}\n        />\n        ),\n        lines: showLineItems\n            ? OrderSummary({\n                  checkoutState,\n                  cart,\n                  subTotalLabel,\n                  shippingLabel,\n                  taxLabel,\n                  orderTotalLabel,\n                  loyaltyLabel,\n                  giftcardLabel,\n                  totalDiscountsLabel,\n                  freeText,\n                  toBeCalculatedText,\n                  context,\n                  typeName,\n                  id,\n                  channelConfiguration,\n                  telemetry,\n                  otherChargeLabel: otherCharges\n              })\n            : undefined\n    };\n\n};\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}