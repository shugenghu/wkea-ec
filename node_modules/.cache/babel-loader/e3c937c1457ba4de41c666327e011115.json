{"ast":null,"code":"import{Button,Modal,ModalBody,ModalFooter,ModalHeader}from'@msdyn365-commerce-modules/utilities';import{getUrlSync}from'@msdyn365-commerce/core';import React from'react';import{OrderTemplateProductsPreviewComponent}from'../order-templates-list/order-template-products-preview';export var LinesAddedToOrderTemplateDialog=function LinesAddedToOrderTemplateDialog(dialogProps){var dialogStrings=dialogProps.dialogStrings,className=dialogProps.className,context=dialogProps.context,modalOpen=dialogProps.modalOpen,imageSettings=dialogProps.imageSettings,_dialogProps$data=dialogProps.data,orderTemplate=_dialogProps$data.orderTemplate,products=_dialogProps$data.products,itemsCount=_dialogProps$data.itemsCount,linesCount=_dialogProps$data.linesCount;var getOrderTemplatePageUrl=function getOrderTemplatePageUrl(){var url=getUrlSync('ordertemplate',context.actionContext)||'';var separator=url.includes('?')?'&':'?';return\"\".concat(url).concat(separator,\"id=\").concat(orderTemplate.Id);};var close=function close(){window.location.reload(true);};var itemsString=itemsCount===1?dialogStrings.linesAddedToOrderTemplateHeaderItemsOneText:dialogStrings.linesAddedToOrderTemplateHeaderItemsFormatText.replace('{0}',itemsCount.toString());var lineItemsString=linesCount===1?dialogStrings.linesAddedToOrderTemplateHeaderLinesOneText:dialogStrings.linesAddedToOrderTemplateHeaderLinesFormatText.replace('{0}',linesCount.toString());return/*#__PURE__*/React.createElement(Modal,{isOpen:modalOpen,className:\"\".concat(className)},/*#__PURE__*/React.createElement(ModalHeader,{className:\"\".concat(className,\"__dialog__header\"),toggle:close},/*#__PURE__*/React.createElement(\"b\",null,lineItemsString),/*#__PURE__*/React.createElement(\"span\",null,dialogStrings.linesAddedToOrderTemplateHeaderMessageText)),/*#__PURE__*/React.createElement(ModalBody,{className:\"\".concat(className,\"__dialog__body\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__dialog__content\")},/*#__PURE__*/React.createElement(OrderTemplateProductsPreviewComponent,{context:context,className:\"\".concat(className,\"__dialog\"),products:products,imageSettings:imageSettings}),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__dialog__description\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__dialog__order-template-name\")},orderTemplate.Name),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__dialog__order-template-items\")},itemsString)))),/*#__PURE__*/React.createElement(ModalFooter,{className:\"\".concat(className,\"__dialog__footer\")},/*#__PURE__*/React.createElement(Button,{className:\"\".concat(className,\"__dialog__view-order-template-button\"),title:dialogStrings.viewOrderTemplateButtonText,href:getOrderTemplatePageUrl()},dialogStrings.viewOrderTemplateButtonText),/*#__PURE__*/React.createElement(Button,{className:\"\".concat(className,\"__dialog__continue-shopping\"),title:dialogStrings.continueShoppingButtonText,onClick:close},dialogStrings.continueShoppingButtonText)));};","map":{"version":3,"sources":["order-template/lines-added-to-order-template-dialog/lines-added-to-order-template-dialog.component.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Button, Modal, ModalBody, ModalFooter, ModalHeader } from '@msdyn365-commerce-modules/utilities';\nimport { FullProduct } from '@msdyn365-commerce/commerce-entities';\nimport { getUrlSync, IComponentProps, IImageSettings } from '@msdyn365-commerce/core';\nimport { ProductList } from '@msdyn365-commerce/retail-proxy';\nimport React from 'react';\nimport { OrderTemplateProductsPreviewComponent } from '../order-templates-list/order-template-products-preview';\n\nexport interface ILinesAddedToOrderTemplateDialogResources {\n    viewOrderTemplateButtonText: string;\n    continueShoppingButtonText: string;\n    linesAddedToOrderTemplateHeaderItemsOneText: string;\n    linesAddedToOrderTemplateHeaderItemsFormatText: string;\n    linesAddedToOrderTemplateHeaderLinesOneText: string;\n    linesAddedToOrderTemplateHeaderLinesFormatText: string;\n    linesAddedToOrderTemplateHeaderMessageText: string;\n}\n\nexport interface ILinesAddedToOrderTemplateDialogData {\n    itemsCount: number;\n    linesCount: number;\n    orderTemplate: ProductList;\n    products: FullProduct[];\n}\n\nexport interface ILinesAddedToOrderTemplateDialogProps extends IComponentProps<ILinesAddedToOrderTemplateDialogData> {\n    className: string;\n    imageSettings?: IImageSettings;\n\n    dialogStrings: ILinesAddedToOrderTemplateDialogResources;\n\n    modalOpen: boolean | undefined;\n}\n\nexport const LinesAddedToOrderTemplateDialog = (dialogProps: ILinesAddedToOrderTemplateDialogProps) => {\n    const {\n        dialogStrings,\n        className,\n        context,\n        modalOpen,\n        imageSettings,\n        data: {\n            orderTemplate,\n            products,\n            itemsCount,\n            linesCount\n        }\n    } = dialogProps;\n\n    const getOrderTemplatePageUrl = (): string => {\n        const url = getUrlSync('ordertemplate', context.actionContext) || '';\n        const separator = url.includes('?') ? '&' : '?';\n        return `${url}${separator}id=${orderTemplate.Id}`;\n    };\n\n    const close: () => void = () => {\n        window.location.reload(true);\n    };\n\n    const itemsString = itemsCount === 1 ? dialogStrings.linesAddedToOrderTemplateHeaderItemsOneText : dialogStrings.linesAddedToOrderTemplateHeaderItemsFormatText.replace('{0}', itemsCount.toString());\n    const lineItemsString = linesCount === 1 ? dialogStrings.linesAddedToOrderTemplateHeaderLinesOneText : dialogStrings.linesAddedToOrderTemplateHeaderLinesFormatText.replace('{0}', linesCount.toString());\n\n    return (\n        <Modal isOpen={modalOpen} className={`${className}`}>\n            <ModalHeader className={`${className}__dialog__header`} toggle={close}>\n                <b>{lineItemsString}</b><span>{dialogStrings.linesAddedToOrderTemplateHeaderMessageText}</span>\n            </ModalHeader>\n            <ModalBody className={`${className}__dialog__body`}>\n                <div className={`${className}__dialog__content`}>\n                    <OrderTemplateProductsPreviewComponent\n                        context={context}\n                        className={`${className}__dialog`}\n                        products={products}\n                        imageSettings={imageSettings}\n                    />\n                    <div className={`${className}__dialog__description`}>\n                        <div className={`${className}__dialog__order-template-name`}>\n                            {orderTemplate.Name}\n                        </div>\n                        <div className={`${className}__dialog__order-template-items`}>\n                            {itemsString}\n                        </div>\n                    </div>\n                </div>\n            </ModalBody>\n            <ModalFooter\n                className={`${className}__dialog__footer`}\n            >\n                <Button\n                    className={`${className}__dialog__view-order-template-button`}\n                    title={dialogStrings.viewOrderTemplateButtonText}\n                    href={getOrderTemplatePageUrl()}\n                >\n                    {dialogStrings.viewOrderTemplateButtonText}\n                </Button>\n                <Button\n                    className={`${className}__dialog__continue-shopping`}\n                    title={dialogStrings.continueShoppingButtonText}\n                    onClick={close}\n                >\n                    {dialogStrings.continueShoppingButtonText}\n                </Button>\n            </ModalFooter>\n        </Modal>\n    );\n};"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}