{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import{mapToCssModules,TransitionTimeouts}from'@msdyn365-commerce-modules/utilities';import classNames from'classnames';import*as React from'react';import Transition from'react-transition-group/Transition';import CarouselContext from'./CarouselContext';var CarouselItem=/*#__PURE__*/function(_React$Component){_inherits(CarouselItem,_React$Component);var _super=_createSuper(CarouselItem);function CarouselItem(props){var _this;_classCallCheck(this,CarouselItem);_this=_super.call(this,props);_this.onEnter=function(node,isAppearing){_this.setState({startAnimation:false});if(_this.props.onEnter){_this.props.onEnter(node,isAppearing);}};_this.onEntering=function(node,isAppearing){var offsetHeight=node.offsetHeight;_this.setState({startAnimation:true});if(_this.props.onEntering){_this.props.onEntering(node,isAppearing);}return offsetHeight;};_this.onExit=function(node){_this.setState({startAnimation:false});if(_this.props.onExit){_this.props.onExit(node);}};_this.onExiting=function(node){_this.setState({startAnimation:true});node.dispatchEvent(new CustomEvent('slide.bs.carousel'));if(_this.props.onExiting){_this.props.onExiting(node);}};_this.onExited=function(node){node.dispatchEvent(new CustomEvent('slid.bs.carousel'));if(_this.props.onExited){_this.props.onExited(node);}};_this.props=props;_this.state={startAnimation:false};_this.onEnter=_this.onEnter.bind(_assertThisInitialized(_this));_this.onEntering=_this.onEntering.bind(_assertThisInitialized(_this));_this.onExit=_this.onExit.bind(_assertThisInitialized(_this));_this.onExiting=_this.onExiting.bind(_assertThisInitialized(_this));_this.onExited=_this.onExited.bind(_assertThisInitialized(_this));return _this;}_createClass(CarouselItem,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,children=_this$props.children,cssModule=_this$props.cssModule,slide=_this$props.slide,tag=_this$props.tag,className=_this$props.className,collapseIn=_this$props[\"in\"],mountOnEnter=_this$props.mountOnEnter,unmountOnExit=_this$props.unmountOnExit,appear=_this$props.appear,enter=_this$props.enter,exit=_this$props.exit,timeout=_this$props.timeout,onEnter=_this$props.onEnter,onEntering=_this$props.onEntering,onEntered=_this$props.onEntered,onExit=_this$props.onExit,onExiting=_this$props.onExiting,onExited=_this$props.onExited,otherProps=_objectWithoutProperties(_this$props,[\"children\",\"cssModule\",\"slide\",\"tag\",\"className\",\"in\",\"mountOnEnter\",\"unmountOnExit\",\"appear\",\"enter\",\"exit\",\"timeout\",\"onEnter\",\"onEntering\",\"onEntered\",\"onExit\",\"onExiting\",\"onExited\"]);var timeoutOrDefault=timeout||TransitionTimeouts.Carousel;var Tag=tag||'div';var transitionProps={\"in\":collapseIn,mountOnEnter:mountOnEnter,unmountOnExit:unmountOnExit,appear:appear,enter:enter,exit:exit,timeout:timeoutOrDefault};return/*#__PURE__*/React.createElement(CarouselContext.Consumer,null,function(_ref){var direction=_ref.direction;return/*#__PURE__*/React.createElement(Transition,Object.assign({},transitionProps,{enter:slide,exit:slide,\"in\":collapseIn,onEnter:_this2.onEnter,onEntering:_this2.onEntering,onExit:_this2.onExit,onExiting:_this2.onExiting,onExited:_this2.onExited}),function(status){var isActive=status==='entered'||status==='exiting';var directionClassName=(status==='entering'||status==='exiting')&&_this2.state.startAnimation&&(direction==='right'?'msc-carousel__item__left':'msc-carousel__item__right');var orderClassName=status==='entering'&&(direction==='right'?'msc-carousel__item__next':'msc-carousel__item__prev');var itemClasses=mapToCssModules(classNames(className,'msc-carousel__item',isActive&&'active',directionClassName,orderClassName),cssModule);return/*#__PURE__*/React.createElement(Tag,Object.assign({className:itemClasses},otherProps),children);});});}}]);return CarouselItem;}(React.Component);export{CarouselItem as default};CarouselItem.defaultProps={tag:'div',timeout:TransitionTimeouts.Carousel,slide:true};","map":{"version":3,"sources":["carousel/CarouselItem.tsx"],"names":[],"mappings":"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","sourcesContent":["import { mapToCssModules, TransitionStatuses, TransitionTimeouts } from '@msdyn365-commerce-modules/utilities';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Transition from 'react-transition-group/Transition';\nimport CarouselContext from './CarouselContext';\nimport { ICarouselItemProps } from './CarouselItem.props';\n\nexport interface ICarouselItemState {\n    startAnimation: boolean;\n}\n\n/**\n * CarouselItem component\n */\nexport default class CarouselItem extends React.Component<ICarouselItemProps, ICarouselItemState> {\n\n    public static defaultProps: Partial<ICarouselItemProps> = {\n        tag: 'div',\n        timeout: TransitionTimeouts.Carousel,\n        slide: true,\n    };\n    public props: ICarouselItemProps;\n    public state: ICarouselItemState;\n\n    constructor(props: ICarouselItemProps) {\n        super(props);\n        this.props = props;\n\n        this.state = {\n            startAnimation: false,\n        };\n\n        this.onEnter = this.onEnter.bind(this);\n        this.onEntering = this.onEntering.bind(this);\n        this.onExit = this.onExit.bind(this);\n        this.onExiting = this.onExiting.bind(this);\n        this.onExited = this.onExited.bind(this);\n    }\n\n    public onEnter = (node: HTMLElement, isAppearing: boolean) =>  {\n        this.setState({ startAnimation: false });\n        if (this.props.onEnter) {\n            this.props.onEnter(node, isAppearing);\n        }\n    }\n\n    public onEntering = (node: HTMLElement, isAppearing: boolean) => {\n\n        // getting this variable triggers a reflow\n        const offsetHeight = node.offsetHeight;\n        this.setState({ startAnimation: true });\n        if (this.props.onEntering) {\n            this.props.onEntering(node, isAppearing);\n        }\n\n        return offsetHeight;\n    }\n\n    public onExit = (node: HTMLElement) => {\n        this.setState({ startAnimation: false });\n        if (this.props.onExit) {\n            this.props.onExit(node);\n        }\n    }\n\n    public onExiting =  (node: HTMLElement) => {\n        this.setState({ startAnimation: true });\n        node.dispatchEvent(new CustomEvent('slide.bs.carousel'));\n        if (this.props.onExiting) {\n            this.props.onExiting(node);\n        }\n    }\n\n    public onExited = (node: HTMLElement) => {\n        node.dispatchEvent(new CustomEvent('slid.bs.carousel'));\n        if (this.props.onExited) {\n            this.props.onExited(node);\n        }\n    }\n\n    public render(): JSX.Element | null {\n\n        const {\n            children,\n            cssModule, slide,\n            tag,\n            className,\n\n            in : collapseIn,\n            mountOnEnter, unmountOnExit,\n            appear, enter, exit, timeout,\n            onEnter, onEntering, onEntered, onExit, onExiting, onExited,\n\n            ...otherProps\n        } = this.props;\n\n        const timeoutOrDefault = timeout || TransitionTimeouts.Carousel;\n        const Tag = tag || 'div';\n        const transitionProps = {\n            in : collapseIn,\n            mountOnEnter, unmountOnExit,\n            appear, enter, exit,\n            timeout: timeoutOrDefault\n        };\n\n        return(\n            <CarouselContext.Consumer >\n                {(\n                    // tslint:disable-next-line:typedef\n                    { direction}\n                ) => (\n                    <Transition\n                        {...transitionProps}\n                        enter={slide}\n                        exit={slide}\n                        in={collapseIn}\n                        onEnter={this.onEnter}\n                        onEntering={this.onEntering}\n                        onExit={this.onExit}\n                        onExiting={this.onExiting}\n                        onExited={this.onExited}\n                    >\n                        {(status: TransitionStatuses) => {\n                            const isActive = (status === 'entered') || (status === 'exiting');\n                            const directionClassName = (status === 'entering' || status === 'exiting') &&\n                                this.state.startAnimation &&\n                                (direction === 'right' ? ('msc-carousel__item__left') : ('msc-carousel__item__right'));\n                            const orderClassName = (status === 'entering') &&\n                                (direction === 'right' ? ('msc-carousel__item__next') : ('msc-carousel__item__prev'));\n                            const itemClasses = mapToCssModules(\n                                classNames(\n                                    className,\n                                    'msc-carousel__item',\n                                    isActive && 'active',\n                                    directionClassName,\n                                    orderClassName,\n                                ),\n                                cssModule\n                            );\n\n                            return (\n                                <Tag className={itemClasses} {...otherProps}>\n                                    {children}\n                                </Tag>\n                            );\n                        }}\n                    </Transition>\n                )}\n            </CarouselContext.Consumer>\n        );\n    }\n\n}\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}