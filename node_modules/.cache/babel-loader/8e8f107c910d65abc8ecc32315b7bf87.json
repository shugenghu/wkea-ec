{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var tslib_1=require(\"tslib\");var classnames_1=tslib_1.__importDefault(require(\"classnames\"));var React=tslib_1.__importStar(require(\"react\"));var utilities_1=require(\"../common/utilities\");var Fade_1=tslib_1.__importDefault(require(\"../fade/Fade\"));var UncontrolledTooltip_1=tslib_1.__importDefault(require(\"../tooltip/UncontrolledTooltip\"));var Alert=function(_super){tslib_1.__extends(Alert,_super);function Alert(){return _super!==null&&_super.apply(this,arguments)||this;}Alert.prototype.render=function(){var _a=this.props,id=_a.id,className=_a.className,closeClassName=_a.closeClassName,cssModule=_a.cssModule,tag=_a.tag,toggle=_a.toggle,color=_a.color,isOpen=_a.isOpen,children=_a.children,transition=_a.transition,fade=_a.fade,assertive=_a.assertive,includeAlertClass=_a.includeAlertClass,ariaLabel=_a[\"aria-label\"];var classes=includeAlertClass?utilities_1.mapToCssModules(classnames_1[\"default\"](className,'msc-alert',\"msc-alert-\"+color),cssModule):className;var closeClasses=utilities_1.mapToCssModules(classnames_1[\"default\"]('close',closeClassName),cssModule);var alertTransition=tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},Fade_1[\"default\"].defaultProps),transition),{baseClass:fade?'fade':'',timeout:fade?transition?transition.timeout:0:0,appear:!!fade,enter:!!fade,exit:!!fade});var Tag=tag||'div';var buttonId=fade?'buttonDismiss':'buttonFadeless';var innerContent=React.createElement(React.Fragment,null,toggle?React.createElement(\"div\",null,React.createElement(\"button\",{type:'button',id:buttonId,className:closeClasses,\"aria-label\":this.props.closeAriaLabel,onClick:toggle}),React.createElement(UncontrolledTooltip_1[\"default\"],{id:'closeTooltip',target:\"#\"+buttonId,placement:'top'},\"close\")):null,children);var style=isOpen?undefined:{display:'none'};if(fade&&assertive){return React.createElement(Tag,{style:style,id:id,className:classes,role:'alert',\"aria-live\":'assertive',\"aria-label\":ariaLabel},React.createElement(Fade_1[\"default\"],tslib_1.__assign({},alertTransition,{tag:Tag,\"in\":isOpen}),innerContent));}else if(fade){return React.createElement(Fade_1[\"default\"],tslib_1.__assign({id:id},alertTransition,{tag:Tag,className:classes,role:'alert',\"in\":isOpen}),innerContent);}else{return React.createElement(Tag,{style:style,id:id,className:classes,role:'alert',\"aria-live\":assertive?'assertive':undefined,\"aria-label\":ariaLabel},innerContent);}};Alert.defaultProps={color:'success',isOpen:true,tag:'div',closeAriaLabel:'Close',fade:true,assertive:false,includeAlertClass:true,transition:tslib_1.__assign(tslib_1.__assign({},Fade_1[\"default\"].defaultProps),{unmountOnExit:true})};return Alert;}(React.Component);exports[\"default\"]=Alert;","map":{"version":3,"sources":["/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/node_modules/@msdyn365-commerce-modules/utilities/src/alert/Alert.tsx"],"names":[],"mappings":"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","sourcesContent":["import classNames from 'classnames';\nimport * as React from 'react';\nimport { mapToCssModules } from '../common/utilities';\nimport Fade from '../fade/Fade';\nimport UncontrolledTooltip from '../tooltip/UncontrolledTooltip';\nimport { IAlertProps } from './Alert.props';\n\n/**\n * Alert component\n */\nexport default class Alert extends React.Component<IAlertProps> {\n\n    public static defaultProps: Partial<IAlertProps> = {\n        color: 'success',\n        isOpen: true,\n        tag: 'div',\n        closeAriaLabel: 'Close',\n        fade: true,\n        assertive: false,\n        includeAlertClass: true,\n        transition: {\n            ...Fade.defaultProps,\n            unmountOnExit: true,\n        }\n    };\n    public render(): JSX.Element {\n        const {\n            id,\n            className,\n            closeClassName,\n            cssModule,\n            tag,\n            toggle,\n            color,\n            isOpen,\n            children,\n            transition,\n            fade,\n            assertive,\n            includeAlertClass,\n            'aria-label': ariaLabel\n        } = this.props;\n\n        const classes = includeAlertClass ? mapToCssModules(\n            classNames(\n                className,\n                'msc-alert',\n                `msc-alert-${color}`,\n            ),\n            cssModule\n        ) : className;\n\n        const closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n\n        const alertTransition = {\n            ...Fade.defaultProps,\n            ...transition,\n            baseClass: fade ? 'fade' : '',\n            timeout: fade ? (transition ? transition.timeout : 0) : 0,\n            appear: !!fade,\n            enter: !!fade,\n            exit: !!fade,\n        };\n\n        const Tag = tag || 'div';\n        const buttonId = fade ? 'buttonDismiss' : 'buttonFadeless';\n\n        const innerContent = (\n            <>\n                {toggle ?\n                    <div>\n                        <button\n                            type='button'\n                            id={buttonId}\n                            className={closeClasses}\n                            aria-label={this.props.closeAriaLabel}\n                            onClick={toggle}\n                        />\n                        <UncontrolledTooltip id='closeTooltip' target={`#${buttonId}`} placement='top'>\n                            close\n                        </UncontrolledTooltip>\n                    </div>\n                    : null}\n                {children}\n            </>\n        );\n\n        const style = isOpen ? undefined : { display: 'none' };\n\n        // When using assertive alerts, you need to have the assertive region rendered on the page from\n        // the start. When using fade, the entire fade region doesn't render. So you gotta first wrap the\n        // fade region in a tag, keep that tag hidden if the alert is closed.\n        //\n        // Note that this current approach will have some issues if tag is something like li. But that is a bridge\n        // that can be crossed when/if we need to cross it this works for divs/spans so it should be good enough for now\n        if (fade && assertive) {\n            return (\n                <Tag style={style} id={id} className={classes} role='alert' aria-live={'assertive'} aria-label={ariaLabel}>\n                    <Fade {...alertTransition} tag={Tag} in={isOpen}>\n                        {innerContent}\n                    </Fade>\n                </Tag>\n            );\n        } else if (fade) {\n            return (\n                <Fade id={id} {...alertTransition} tag={Tag} className={classes} role='alert' in={isOpen}>\n                    {innerContent}\n                </Fade>\n            );\n        } else {\n            return (\n                <Tag style={style} id={id} className={classes} role='alert' aria-live={assertive ? 'assertive' : undefined} aria-label={ariaLabel}>\n                    {innerContent}\n                </Tag>\n            );\n        }\n\n    }\n}\n"]},"metadata":{},"sourceType":"script"}