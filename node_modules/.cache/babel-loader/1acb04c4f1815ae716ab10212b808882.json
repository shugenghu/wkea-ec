{"ast":null,"code":"import\"core-js/modules/es.promise.js\";import{buildCacheKey}from'@msdyn365-commerce-modules/retail-actions';import{createObservableDataAction}from'@msdyn365-commerce/core';import{getCountryRegionsByLanguageIdAsync}from'@msdyn365-commerce/retail-proxy/dist/DataActions/StoreOperationsDataActions.g';export class GetCountryRegionsInput{constructor(locale,apiSettings){this.getCacheKey=()=>buildCacheKey(\"CountryRegionInfo-\".concat(this.locale),this.apiSettings);this.getCacheObjectType=()=>'CountryRegionInfo';this.dataCacheType=()=>'request';this.locale=locale;this.apiSettings=apiSettings;}}const createInput=inputData=>{if(!(inputData.requestContext&&inputData.requestContext.locale)){throw new Error('Unable to create country regions input.  Locale is not provided.');}return new GetCountryRegionsInput(inputData.requestContext.locale,inputData.requestContext.apiSettings);};export async function getCountryRegionsAction(input,ctx){return getCountryRegionsByLanguageIdAsync({callerContext:ctx,queryResultSettings:{}},input.locale);}export default createObservableDataAction({action:getCountryRegionsAction,input:createInput});","map":{"version":3,"sources":["actions/get-country-regions.ts"],"names":[],"mappings":"sCAAA,OAAS,aAAT,KAA8B,2CAA9B,CACA,OACe,0BADf,KAGO,yBAHP,CAIA,OACI,kCADJ,KAEO,+EAFP,CAQA,MAAM,MAAO,CAAA,sBAAsB,CAI/B,WAAA,CAAY,MAAZ,CAA4B,WAA5B,CAA6D,CAKtD,KAAA,WAAA,CAAc,IAAM,aAAa,6BAAsB,KAAK,MAA3B,EAAqC,KAAK,WAA1C,CAAjC,CACA,KAAA,kBAAA,CAAqB,IAAM,mBAA3B,CACA,KAAA,aAAA,CAAgB,IAAiB,SAAjC,CANH,KAAK,MAAL,CAAc,MAAd,CACA,KAAK,WAAL,CAAmB,WAAnB,CACH,CAP8B,CAiBnC,KAAM,CAAA,WAAW,CAAI,SAAD,EAA4E,CAC5F,GAAI,EAAE,SAAS,CAAC,cAAV,EAA4B,SAAS,CAAC,cAAV,CAAyB,MAAvD,CAAJ,CAAoE,CAChE,KAAM,IAAI,CAAA,KAAJ,CAAU,kEAAV,CAAN,CACH,CAED,MAAO,IAAI,CAAA,sBAAJ,CAA2B,SAAS,CAAC,cAAV,CAAyB,MAApD,CAA4D,SAAS,CAAC,cAAV,CAAyB,WAArF,CAAP,CACH,CAND,CAQA,MAAO,eAAe,CAAA,uBAAf,CAAuC,KAAvC,CAAsE,GAAtE,CAAyF,CAC5F,MAAO,CAAA,kCAAkC,CAAC,CAAE,aAAa,CAAE,GAAjB,CAAsB,mBAAmB,CAAE,EAA3C,CAAD,CAAkD,KAAK,CAAC,MAAxD,CAAzC,CACH,CAED,cAAe,CAAA,0BAA0B,CAAC,CACtC,MAAM,CAAgC,uBADA,CAEtC,KAAK,CAAE,WAF+B,CAAD,CAAzC","sourcesContent":["import { buildCacheKey } from '@msdyn365-commerce-modules/retail-actions';\nimport {\n    CacheType, createObservableDataAction, IAction, IActionContext, IActionInput, IAny,\n    ICommerceApiSettings, ICreateActionContext, IGeneric\n} from '@msdyn365-commerce/core';\nimport {\n    getCountryRegionsByLanguageIdAsync\n} from '@msdyn365-commerce/retail-proxy/dist/DataActions/StoreOperationsDataActions.g';\nimport { CountryRegionInfo } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\n\n/**\n * Input class for get country regions data action\n */\nexport class GetCountryRegionsInput implements IActionInput {\n    public locale: string;\n    private apiSettings: ICommerceApiSettings;\n\n    constructor(locale: string, apiSettings: ICommerceApiSettings) {\n        this.locale = locale;\n        this.apiSettings = apiSettings;\n    }\n\n    public getCacheKey = () => buildCacheKey(`CountryRegionInfo-${this.locale}`, this.apiSettings);\n    public getCacheObjectType = () => 'CountryRegionInfo';\n    public dataCacheType = (): CacheType => 'request';\n}\n\n/**\n * Creates the input required to make the retail api call\n */\nconst createInput = (inputData: ICreateActionContext<IGeneric<IAny>>): GetCountryRegionsInput => {\n    if (!(inputData.requestContext && inputData.requestContext.locale)) {\n        throw new Error('Unable to create country regions input.  Locale is not provided.');\n    }\n\n    return new GetCountryRegionsInput(inputData.requestContext.locale, inputData.requestContext.apiSettings);\n};\n\nexport async function getCountryRegionsAction(input: GetCountryRegionsInput, ctx: IActionContext): Promise<CountryRegionInfo[]> {\n    return getCountryRegionsByLanguageIdAsync({ callerContext: ctx, queryResultSettings: {} }, input.locale);\n}\n\nexport default createObservableDataAction({\n    action: <IAction<CountryRegionInfo[]>>getCountryRegionsAction,\n    input: createInput\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}