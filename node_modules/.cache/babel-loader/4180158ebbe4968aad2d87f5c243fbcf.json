{"ast":null,"code":"import{Node}from'@msdyn365-commerce-modules/utilities';import*as React from'react';var _renderCartlines=function _renderCartlines(cartLines,cartEmptyText,CartlinesWrapper,storeSelector,backToShoppingButton,waitingComponent,cartLoadingStatus,cartDataResult){if(cartLoadingStatus){return/*#__PURE__*/React.createElement(React.Fragment,null,cartLoadingStatus);}if(cartLines){return cartLines.map(function(cartLine,index){return/*#__PURE__*/React.createElement(\"div\",{className:'msc-cart-lines-item',key:index},cartLine.cartline,storeSelector&&cartLine.pickUpInStore?/*#__PURE__*/React.createElement(Node,Object.assign({},cartLine.pickUpInStore.ContainerProps),cartLine.pickUpInStore.defaultComponent):null,cartLine.addToOrderTemplate?/*#__PURE__*/React.createElement(\"div\",{className:'msc-cart-line__extra-actions'},cartLine.remove,cartLine.addToWishlist,cartLine.addToOrderTemplate):/*#__PURE__*/React.createElement(React.Fragment,null,cartLine.remove,cartLine.addToWishlist));});}else{return cartDataResult?/*#__PURE__*/React.createElement(\"div\",{className:'msc-cart__empty-cart'},/*#__PURE__*/React.createElement(\"p\",{className:'msc-cart-line'},cartEmptyText),backToShoppingButton):/*#__PURE__*/React.createElement(React.Fragment,null,waitingComponent);}};var _renderErrorBlock=function _renderErrorBlock(errorData){if(!errorData||errorData.errors.length===0){return null;}return/*#__PURE__*/React.createElement(Node,Object.assign({},errorData.Wrapper),errorData.header,errorData.errors);};var _renderOrderSummarylines=function _renderOrderSummarylines(orderSummaryLines,OrderSummaryItems,props){if(!orderSummaryLines){props.context.telemetry.error('OrderSummary content is empty, module wont render');return null;}return/*#__PURE__*/React.createElement(Node,Object.assign({},OrderSummaryItems),props.promoCode,orderSummaryLines.subtotal,orderSummaryLines.shipping,orderSummaryLines.otherCharge,orderSummaryLines.tax,orderSummaryLines.totalDiscounts?orderSummaryLines.totalDiscounts:null,orderSummaryLines.orderTotal);};var CartView=function CartView(props){return/*#__PURE__*/React.createElement(\"div\",Object.assign({className:props.className,id:props.id},props.renderModuleAttributes(props)),props.title,/*#__PURE__*/React.createElement(Node,Object.assign({},props.CartlinesWrapper),_renderCartlines(props.cartlines,props.resources.emptyCartText,props.CartlinesWrapper,props.storeSelector,props.backToShoppingButton,props.waitingComponent,props.cartLoadingStatus,props.cartDataResult)),props.orderSummaryHeading&&/*#__PURE__*/React.createElement(Node,Object.assign({},props.OrderSummaryWrapper),props.orderSummaryHeading,_renderOrderSummarylines(props.orderSummaryLineitems,props.OrderSummaryItems,props),_renderErrorBlock(props.OrderSummaryErrors),props.checkoutAsSignInUserButton,props.checkoutAsGuestButton,props.backToShoppingButton,props.createTemplateFromCartButton),props.storeSelector);};export default CartView;","map":{"version":3,"sources":["modules/cart/cart.view.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IOrderSummaryLines } from '@msdyn365-commerce-modules/order-summary-utilities';\nimport { INodeProps, Node } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\nimport { ICartViewProps, IOrderSummaryErrors } from './cart';\nimport { ICartlinesViewProps } from './components/cart-line-items';\n\nconst _renderCartlines = (cartLines: ICartlinesViewProps[] | undefined, cartEmptyText: string, CartlinesWrapper: INodeProps, storeSelector: React.ReactNode | undefined,\n                          backToShoppingButton: React.ReactNode, waitingComponent: React.ReactNode, cartLoadingStatus: string, cartDataResult: boolean): JSX.Element[] | JSX.Element => {\n\n    if (cartLoadingStatus) {\n        return <>{cartLoadingStatus}</>;\n    }\n    if (cartLines) {\n        return cartLines.map((cartLine, index) => {\n            return (\n                <div className='msc-cart-lines-item' key={index}>\n                    {cartLine.cartline}\n                    {\n                        storeSelector && cartLine.pickUpInStore ?\n                            <Node {...cartLine.pickUpInStore.ContainerProps}>\n                                {cartLine.pickUpInStore.defaultComponent}\n                            </Node> :\n                            null\n                    }\n                    {\n                        cartLine.addToOrderTemplate ? (\n                            <div className='msc-cart-line__extra-actions'>\n                            {cartLine.remove}\n                            {cartLine.addToWishlist}\n                            {cartLine.addToOrderTemplate}\n                            </div>\n                        ) : (\n                            <>\n                                {cartLine.remove}\n                                {cartLine.addToWishlist}\n                            </>\n                        )\n                    }\n                </div>\n            );\n        });\n    } else {\n        return (cartDataResult ?\n            (\n                <div className='msc-cart__empty-cart'>\n                    <p className='msc-cart-line'>{cartEmptyText}</p>\n                    {backToShoppingButton}\n                </div>\n            ) : <>{waitingComponent}</>\n        );\n    }\n};\n\nconst _renderErrorBlock = (errorData: IOrderSummaryErrors | undefined): JSX.Element | null => {\n    if (!errorData || errorData.errors.length === 0) {\n        return null;\n    }\n    return (\n        <Node {...errorData.Wrapper}>\n            {errorData.header}\n            {errorData.errors}\n        </Node>\n    );\n};\n\nconst _renderOrderSummarylines = (orderSummaryLines: IOrderSummaryLines | undefined, OrderSummaryItems: INodeProps, props: ICartViewProps): JSX.Element | null => {\n    if (!orderSummaryLines) {\n        props.context.telemetry.error('OrderSummary content is empty, module wont render');\n        return null;\n    }\n    return (\n        <Node {...OrderSummaryItems}>\n            {props.promoCode}\n            {orderSummaryLines.subtotal}\n            {orderSummaryLines.shipping}\n            {orderSummaryLines.otherCharge}\n            {orderSummaryLines.tax}\n            {orderSummaryLines.totalDiscounts ? orderSummaryLines.totalDiscounts : null}\n            {orderSummaryLines.orderTotal}\n        </Node>\n    );\n};\n\nconst CartView: React.FC<ICartViewProps> = (props: ICartViewProps) => (\n    <div className={props.className} id={props.id} {...props.renderModuleAttributes(props)}>\n        {props.title}\n        <Node {...props.CartlinesWrapper}>\n            {_renderCartlines(props.cartlines, props.resources.emptyCartText, props.CartlinesWrapper, props.storeSelector, props.backToShoppingButton, props.waitingComponent, props.cartLoadingStatus, props.cartDataResult)}\n        </Node>\n        {props.orderSummaryHeading &&\n            < Node {...props.OrderSummaryWrapper}>\n                {props.orderSummaryHeading}\n                {_renderOrderSummarylines(props.orderSummaryLineitems, props.OrderSummaryItems, props)}\n                {_renderErrorBlock(props.OrderSummaryErrors)}\n                {props.checkoutAsSignInUserButton}\n                {props.checkoutAsGuestButton}\n                {props.backToShoppingButton}\n                {props.createTemplateFromCartButton}\n            </Node>\n        }\n        {props.storeSelector}\n    </div>\n);\n\nexport default CartView;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}