{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";import*as React from'react';export default class ActionToggle extends React.PureComponent{constructor(props){super(props);this.ref=/*#__PURE__*/React.createRef();this.focusElement=null;this._onClick=this._onClick.bind(this);}getSnapshotBeforeUpdate(){this.focusElement=null;if(this.ref.current&&this.ref.current.contains(document.activeElement)){this.focusElement=document.activeElement;}return null;}componentDidUpdate(){if(this.ref.current&&this.focusElement){const focusTarget=this.ref.current.children[!!this.props.toggled?1:0];if(focusTarget!==document.activeElement){focusTarget.focus();}}}render(){const _this$props=this.props,{className,children,toggled,onChange}=_this$props,props=_objectWithoutProperties(_this$props,[\"className\",\"children\",\"toggled\",\"onChange\"]);const classes=\"action-toggle\".concat(className?' ':'').concat(className||'');return React.Children.count(children)!==2?null:/*#__PURE__*/React.createElement(\"div\",Object.assign({className:classes},props,{ref:this.ref}),React.Children.map(children,(child,index)=>{const hidden=!index&&!!this.props.toggled||!!index&&!this.props.toggled;return/*#__PURE__*/React.cloneElement(child,{'aria-hidden':hidden,onClick:this._onClick});}));}_onClick(e){e.stopPropagation();if(this.props.onChange){this.props.onChange({id:this.props.id,actionToggle:this,toggled:!!this.props.toggled,event:e});}}}","map":{"version":3,"sources":["videoplayer/components/action-toggle/ActionToggle.tsx"],"names":[],"mappings":"qIAAA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAQA,cAAc,MAAO,CAAA,YAAP,QAA4B,CAAA,KAAK,CAAC,aAAiC,CAI7E,WAAA,CAAY,KAAZ,CAA+C,CAC3C,MAAM,KAAN,EAJI,KAAA,GAAA,cAAuC,KAAK,CAAC,SAAN,EAAvC,CACA,KAAA,YAAA,CAAmC,IAAnC,CAIJ,KAAK,QAAL,CAAgB,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAhB,CACH,CAEM,uBAAuB,EAAA,CAC1B,KAAK,YAAL,CAAoB,IAApB,CACA,GAAI,KAAK,GAAL,CAAS,OAAT,EAAoB,KAAK,GAAL,CAAS,OAAT,CAAiB,QAAjB,CAA0B,QAAQ,CAAC,aAAnC,CAAxB,CAA2E,CACvE,KAAK,YAAL,CAAoB,QAAQ,CAAC,aAA7B,CACH,CACD,MAAO,KAAP,CACH,CAEM,kBAAkB,EAAA,CACrB,GAAI,KAAK,GAAL,CAAS,OAAT,EAAoB,KAAK,YAA7B,CAA2C,CACvC,KAAM,CAAA,WAAW,CAAG,KAAK,GAAL,CAAS,OAAT,CAAiB,QAAjB,CAA0B,CAAC,CAAC,KAAK,KAAL,CAAW,OAAb,CAAuB,CAAvB,CAA2B,CAArD,CAApB,CACA,GAAI,WAAW,GAAK,QAAQ,CAAC,aAA7B,CAA4C,CACxC,WAAW,CAAC,KAAZ,GACH,CACJ,CACJ,CAEM,MAAM,EAAA,CACT,kBAA6D,KAAK,KAAlE,CAAM,CAAE,SAAF,CAAa,QAAb,CAAuB,OAAvB,CAAgC,QAAhC,CAAN,aAAmD,KAAnD,qFACA,KAAM,CAAA,OAAO,wBAAmB,SAAS,CAAG,GAAH,CAAS,EAArC,SAA0C,SAAS,EAAI,EAAvD,CAAb,CACA,MAAO,CAAA,KAAK,CAAC,QAAN,CAAe,KAAf,CAAqB,QAArB,IAAmC,CAAnC,CAAuC,IAAvC,cACH,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAK,SAAS,CAAE,OAAhB,CAAA,CAA6B,KAA7B,CAAkC,CAAE,GAAG,CAAE,KAAK,GAAZ,CAAlC,CAAA,CACK,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,QAAnB,CAA6B,CAAC,KAAD,CAAyB,KAAzB,GAA0C,CACpE,KAAM,CAAA,MAAM,CAAI,CAAC,KAAD,EAAU,CAAC,CAAC,KAAK,KAAL,CAAW,OAAxB,EAAqC,CAAC,CAAC,KAAF,EAAW,CAAC,KAAK,KAAL,CAAW,OAA3E,CAEA,mBAAO,KAAK,CAAC,YAAN,CAAmB,KAAnB,CAAiC,CAAE,cAAe,MAAjB,CAAyB,OAAO,CAAE,KAAK,QAAvC,CAAjC,CAAP,CACH,CAJA,CADL,CADJ,CASH,CAEO,QAAQ,CAAC,CAAD,CAAuB,CACnC,CAAC,CAAC,eAAF,GACA,GAAI,KAAK,KAAL,CAAW,QAAf,CAAyB,CACrB,KAAK,KAAL,CAAW,QAAX,CAAoB,CAAE,EAAE,CAAE,KAAK,KAAL,CAAW,EAAjB,CAAqB,YAAY,CAAE,IAAnC,CAAyC,OAAO,CAAE,CAAC,CAAC,KAAK,KAAL,CAAW,OAA/D,CAAwE,KAAK,CAAE,CAA/E,CAApB,EACH,CACJ,CA7C4E","sourcesContent":["import * as React from 'react';\n\nimport { IActionToggleProps } from './ActionToggle.props';\n\n/**\n * ActionToggle - This component is toggle button which switches between states\n * and for accessibility reasons are 2 different buttons\n */\nexport default class ActionToggle extends React.PureComponent<IActionToggleProps> {\n    private ref: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n    private focusElement: HTMLElement | null = null;\n\n    constructor(props: Readonly<IActionToggleProps>) {\n        super(props);\n        this._onClick = this._onClick.bind(this);\n    }\n\n    public getSnapshotBeforeUpdate(): null {\n        this.focusElement = null;\n        if (this.ref.current && this.ref.current.contains(document.activeElement)) {\n            this.focusElement = document.activeElement as HTMLElement;\n        }\n        return null;\n    }\n\n    public componentDidUpdate(): void {\n        if (this.ref.current && this.focusElement) {\n            const focusTarget = this.ref.current.children[!!this.props.toggled ? 1 : 0] as HTMLElement;\n            if (focusTarget !== document.activeElement) {\n                focusTarget.focus();\n            }\n        }\n    }\n\n    public render(): JSX.Element | null {\n        const { className, children, toggled, onChange, ...props } = this.props;\n        const classes = `action-toggle${className ? ' ' : ''}${className || ''}`;\n        return React.Children.count(children) !== 2 ? null : (\n            <div className={classes} {...props} ref={this.ref}>\n                {React.Children.map(children, (child: React.ReactNode, index: number) => {\n                    const hidden = (!index && !!this.props.toggled) || (!!index && !this.props.toggled);\n                    // tslint:disable-next-line:no-any\n                    return React.cloneElement(child as any, { 'aria-hidden': hidden, onClick: this._onClick });\n                })}\n            </div>\n        );\n    }\n\n    private _onClick(e: React.KeyboardEvent): void {\n        e.stopPropagation();\n        if (this.props.onChange) {\n            this.props.onChange({ id: this.props.id, actionToggle: this, toggled: !!this.props.toggled, event: e });\n        }\n    }\n}\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}