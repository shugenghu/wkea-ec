{"ast":null,"code":"/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */ // Following reference is added to fix the build dependency between CommerceContxt and DataServiceQuery.\n// This will eventually be moved to CommerceContext.ts when MPOS proxy and Commerce Proxy are merged.\n'use strict';/**\r\n * Class for representing an error.\r\n */import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";export var ProxyError=/*#__PURE__*/function(){function ProxyError(errorCode,errorMessage,localizedErrorMessage,canRetry,extraData){_classCallCheck(this,ProxyError);this._canRetry=false;this._errorCode=errorCode;this._errorMessage=errorMessage;this._localizedErrorMessage=localizedErrorMessage;this._canRetry=canRetry;this._commerceException=null;for(var _len=arguments.length,formatData=new Array(_len>5?_len-5:0),_key=5;_key<_len;_key++){formatData[_key-5]=arguments[_key];}this._formatData=formatData;this._extraData=extraData;}/**\r\n     * Takes a proxy error and returns a proper JS error version of it\r\n     * @param proxyError The proxyError\r\n     */_createClass(ProxyError,[{key:\"commerceException\",/**\r\n     * Gets the commerce exception that caused this error.\r\n     *\r\n     * @return {any} The commerce exception.\r\n     */get:function get(){return this._commerceException;}/**\r\n     * Sets the commerce exception that caused this error.\r\n     *\r\n     * @param {any} exception The commerce exception.\r\n     */,set:function set(exception){this._commerceException=exception;}/**\r\n     * Gets the error code.\r\n     *\r\n     * @return {string} The error code.\r\n     */},{key:\"ErrorCode\",get:function get(){return this._errorCode;}/**\r\n     * Gets the error message.\r\n     *\r\n     * @return {string} The error message.\r\n     */},{key:\"ErrorMessage\",get:function get(){return this._errorMessage;}/**\r\n     * Gets the localized error message.\r\n     *\r\n     * @return {string} The localized error message.\r\n     */},{key:\"LocalizedErrorMessage\",get:function get(){return this._localizedErrorMessage;}/**\r\n     * Gets the format data used on formatted error messages.\r\n     *\r\n     * @return {any[]} The format data.\r\n     */},{key:\"formatData\",get:function get(){return this._formatData;}/**\r\n     * Gets the additional information the might be supplied by the error.\r\n     *\r\n     * @return {any} The extra data.\r\n     */},{key:\"extraData\",get:function get(){return this._extraData;}/**\r\n     * Gets the error title. Defaults to the resource string string_29004 for the error title if\r\n     * no error title is mapped for the error.\r\n     */},{key:\"ErrorTitleResourceId\",get:function get(){var errorTitleResourceId='string_29004';// Error string: There is a problem with the server\nreturn errorTitleResourceId;}/**\r\n     * Gets whether the action that generated the error can be retried.\r\n     *\r\n     * @return {string} Whether the action that generated the error can be retried.\r\n     */},{key:\"CanRetry\",get:function get(){return this._canRetry;}}],[{key:\"toError\",value:function toError(proxyError){var e=new Error();e.name=proxyError.ErrorCode||'Proxy Error';e.message=proxyError.ErrorMessage||proxyError.LocalizedErrorMessage;// Assign extra error details to error.\n// ts-ignoring as the standard error contract only supports name and message\nif(proxyError.extraData){// @ts-ignore\ne.requestUri=proxyError.extraData.requestUri;// @ts-ignore\ne.data=proxyError.extraData.data;// @ts-ignore\ne.statusCode=proxyError.extraData.statusCode;}return e;}}]);return ProxyError;}();","map":{"version":3,"sources":["../../src/exceptions/ProxyError.ts"],"names":[],"mappings":"AAAA;;;AAGG,G,CAEH;AACA;AAEA,aAEA;;AAEG,G,wIACH,UAAa,CAAA,UAAb,yBASI,oBACI,SADJ,CAEI,YAFJ,CAGI,qBAHJ,CAII,QAJJ,CAKI,SALJ,CAMwB,kCAXhB,KAAA,SAAA,CAAqB,KAArB,CAaJ,KAAK,UAAL,CAAkB,SAAlB,CACA,KAAK,aAAL,CAAqB,YAArB,CACA,KAAK,sBAAL,CAA8B,qBAA9B,CACA,KAAK,SAAL,CAAiB,QAAjB,CACA,KAAK,kBAAL,CAA0B,IAA1B,CANoB,8BAAjB,UAAiB,qDAAjB,UAAiB,0BAOpB,KAAK,WAAL,CAAmB,UAAnB,CACA,KAAK,UAAL,CAAkB,SAAlB,CACH,CAED;;;AAGG,OA7BP,kDAmDI;;;;AAIG,OAvDP,kBAwDgC,CACxB,MAAO,MAAK,kBAAZ,CACH,CAED;;;;AAIG,OAhEP,kBAiEiC,SAjEjC,CAiE+C,CACvC,KAAK,kBAAL,CAA0B,SAA1B,CACH,CAED;;;;AAIG,OAzEP,qCA0EwB,CAChB,MAAO,MAAK,UAAZ,CACH,CAED;;;;AAIG,OAlFP,wCAmF2B,CACnB,MAAO,MAAK,aAAZ,CACH,CAED;;;;AAIG,OA3FP,iDA4FoC,CAC5B,MAAO,MAAK,sBAAZ,CACH,CAED;;;;AAIG,OApGP,sCAqGyB,CACjB,MAAO,MAAK,WAAZ,CACH,CAED;;;;AAIG,OA7GP,qCA8GwB,CAChB,MAAO,MAAK,UAAZ,CACH,CAED;;;AAGG,OArHP,gDAsHmC,CAC3B,GAAM,CAAA,oBAAoB,CAAG,cAA7B,CAA6C;AAC7C,MAAO,CAAA,oBAAP,CACH,CAED;;;;AAIG,OA/HP,oCAgIuB,CACf,MAAO,MAAK,SAAZ,CACH,CAlIL,0CA8B0B,UA9B1B,CA8BgD,CACxC,GAAM,CAAA,CAAC,CAAG,GAAI,CAAA,KAAJ,EAAV,CACA,CAAC,CAAC,IAAF,CAAS,UAAU,CAAC,SAAX,EAAwB,aAAjC,CACA,CAAC,CAAC,OAAF,CAAY,UAAU,CAAC,YAAX,EAA2B,UAAU,CAAC,qBAAlD,CAEA;AACA;AACA,GAAI,UAAU,CAAC,SAAf,CAA0B,CACtB;AACA,CAAC,CAAC,UAAF,CAAe,UAAU,CAAC,SAAX,CAAqB,UAApC,CAEA;AACA,CAAC,CAAC,IAAF,CAAS,UAAU,CAAC,SAAX,CAAqB,IAA9B,CAEA;AACA,CAAC,CAAC,UAAF,CAAe,UAAU,CAAC,SAAX,CAAqB,UAApC,CACH,CAED,MAAO,CAAA,CAAP,CACH,CAjDL","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\n// Following reference is added to fix the build dependency between CommerceContxt and DataServiceQuery.\n// This will eventually be moved to CommerceContext.ts when MPOS proxy and Commerce Proxy are merged.\n\n'use strict';\n\n/**\n * Class for representing an error.\n */\nexport class ProxyError {\n    private _errorCode: string;\n    private _errorMessage: string;\n    private _localizedErrorMessage: string;\n    private _canRetry: boolean = false;\n    private _commerceException: any;\n    private _formatData: any[];\n    private _extraData: any;\n\n    constructor(\n        errorCode: string,\n        errorMessage: string,\n        localizedErrorMessage,\n        canRetry: boolean,\n        extraData: any,\n        ...formatData: any[]\n    ) {\n        this._errorCode = errorCode;\n        this._errorMessage = errorMessage;\n        this._localizedErrorMessage = localizedErrorMessage;\n        this._canRetry = canRetry;\n        this._commerceException = null;\n        this._formatData = formatData;\n        this._extraData = extraData;\n    }\n\n    /**\n     * Takes a proxy error and returns a proper JS error version of it\n     * @param proxyError The proxyError\n     */\n    public static toError(proxyError: ProxyError): Error {\n        const e = new Error();\n        e.name = proxyError.ErrorCode || 'Proxy Error';\n        e.message = proxyError.ErrorMessage || proxyError.LocalizedErrorMessage;\n\n        // Assign extra error details to error.\n        // ts-ignoring as the standard error contract only supports name and message\n        if (proxyError.extraData) {\n            // @ts-ignore\n            e.requestUri = proxyError.extraData.requestUri;\n\n            // @ts-ignore\n            e.data = proxyError.extraData.data;\n\n            // @ts-ignore\n            e.statusCode = proxyError.extraData.statusCode;\n        }\n\n        return e;\n    }\n\n    /**\n     * Gets the commerce exception that caused this error.\n     *\n     * @return {any} The commerce exception.\n     */\n    public get commerceException(): any {\n        return this._commerceException;\n    }\n\n    /**\n     * Sets the commerce exception that caused this error.\n     *\n     * @param {any} exception The commerce exception.\n     */\n    public set commerceException(exception: any) {\n        this._commerceException = exception;\n    }\n\n    /**\n     * Gets the error code.\n     *\n     * @return {string} The error code.\n     */\n    public get ErrorCode(): string {\n        return this._errorCode;\n    }\n\n    /**\n     * Gets the error message.\n     *\n     * @return {string} The error message.\n     */\n    public get ErrorMessage(): string {\n        return this._errorMessage;\n    }\n\n    /**\n     * Gets the localized error message.\n     *\n     * @return {string} The localized error message.\n     */\n    public get LocalizedErrorMessage(): string {\n        return this._localizedErrorMessage;\n    }\n\n    /**\n     * Gets the format data used on formatted error messages.\n     *\n     * @return {any[]} The format data.\n     */\n    public get formatData(): any[] {\n        return this._formatData;\n    }\n\n    /**\n     * Gets the additional information the might be supplied by the error.\n     *\n     * @return {any} The extra data.\n     */\n    public get extraData(): any {\n        return this._extraData;\n    }\n\n    /**\n     * Gets the error title. Defaults to the resource string string_29004 for the error title if\n     * no error title is mapped for the error.\n     */\n    public get ErrorTitleResourceId(): string {\n        const errorTitleResourceId = 'string_29004'; // Error string: There is a problem with the server\n        return errorTitleResourceId;\n    }\n\n    /**\n     * Gets whether the action that generated the error can be retried.\n     *\n     * @return {string} Whether the action that generated the error can be retried.\n     */\n    public get CanRetry(): boolean {\n        return this._canRetry;\n    }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}