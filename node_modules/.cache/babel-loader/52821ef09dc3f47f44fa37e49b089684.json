{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import\"core-js/modules/es.regexp.to-string.js\";import{getFallbackImageUrl}from'@msdyn365-commerce-modules/retail-actions';import{Alert,Button,getPayloadObject,getTelemetryAttributes}from'@msdyn365-commerce-modules/utilities';import{PriceComponent}from'@msdyn365-commerce/components';import{Image}from'@msdyn365-commerce/core';import*as React from'react';import{WishlistItemDimension}from'./wishlist-items-dimensions';const _addItemToCart=props=>{const{product,itemKey,handlers}=props;const{onAddToCart}=handlers;onAddToCart&&product&&itemKey&&onAddToCart(product,itemKey);};const _removeItemFromWishlist=props=>{const{onRemoveItem}=props.handlers;const{RecordId}=props.product;onRemoveItem&&RecordId&&onRemoveItem(RecordId);};const WishListItemActions={addToCart:_addItemToCart,removeItem:_removeItemFromWishlist};export const WishlistItem=input=>{const{product,productUrl,price,context,imageSettings,isInStock,removeFromWishlistText,addToCartText,outOfStockText,wishlistState,itemKey,handlers,enableImageProductLink,inventoryInformationLabel,inventoryLabelClassName,telemetryContent}=input;if(!product){return null;}const{RecordId,Name,PrimaryImageUrl,Dimensions}=product;const addItemAction=event=>{return WishListItemActions.addToCart(input);};const removeItemAction=event=>{return WishListItemActions.removeItem(input);};const{onDismiss}=handlers;const inventoryCssName=inventoryLabelClassName?\"ms-wishlist-items__inventory-label \".concat(inventoryLabelClassName):'ms-wishlist-items__inventory-label';const fallbackImage=getFallbackImageUrl(product.ItemId,context.actionContext.requestContext.apiSettings);const payLoad=getPayloadObject('click',telemetryContent,'',RecordId.toString());const productAttributes=getTelemetryAttributes(telemetryContent,payLoad);const PRODUCTASSERVICE=2;const isServiceItem=product.ItemTypeValue===PRODUCTASSERVICE;return{key:\"\".concat(RecordId,\"-item\"),productImage:PrimaryImageUrl&&Name&&_renderProductImage(context,product.Name,PrimaryImageUrl,fallbackImage,imageSettings),productLink:productUrl&&/*#__PURE__*/React.createElement(\"a\",Object.assign({href:productUrl,className:'ms-wishlist-items__product-link'},productAttributes,{\"aria-label\":_renderAriaLabel(input)}),Name),productDimensions:Dimensions&&_renderProductDimensions(input),productPrice:price&&_renderPrice(input),entireProductLink:enableImageProductLink?productUrl:undefined,productAriaLabel:enableImageProductLink?_renderAriaLabel(input):undefined,productName:enableImageProductLink&&/*#__PURE__*/React.createElement(\"div\",{className:'ms-wishlist-items__product-title'},Name),addToCartButton:/*#__PURE__*/React.createElement(Button,{className:'ms-wishlist-items__product-add-button',title:(isServiceItem||isInStock)&&addToCartText||outOfStockText,onClick:addItemAction,disabled:!(isServiceItem||isInStock)},(isServiceItem||isInStock)&&addToCartText||outOfStockText),inventoryInformation:inventoryInformationLabel&&/*#__PURE__*/React.createElement(\"span\",{className:inventoryCssName},inventoryInformationLabel),removeButton:/*#__PURE__*/React.createElement(\"button\",{className:'ms-wishlist-items__product-remove-button',\"aria-label\":removeFromWishlistText,onClick:removeItemAction}),productStatusMessage:wishlistState&&wishlistState.isOpen&&wishlistState.productId===RecordId&&wishlistState.itemKey===itemKey&&/*#__PURE__*/React.createElement(\"div\",{className:'ms-wishlist-items__product-status'},/*#__PURE__*/React.createElement(Alert,{color:wishlistState.statusCssString,isOpen:wishlistState.isOpen,toggle:onDismiss},/*#__PURE__*/React.createElement(\"span\",null,wishlistState.userMessage)))};};const _renderProductImage=(context,heading,image,fallbackImage,imageSettings)=>{const defaultImageSettings={viewports:{xs:{q:\"w=315&h=315&m=6\",w:0,h:0},lg:{q:\"w=315&h=315&m=6\",w:0,h:0},xl:{q:\"w=315&h=315&m=6\",w:0,h:0}},lazyload:true};if(image){return/*#__PURE__*/React.createElement(Image,{className:'ms-wishlist-items__product-image',altText:heading,title:heading,src:image,fallBackSrc:fallbackImage,gridSettings:context.request.gridSettings,imageSettings:imageSettings||defaultImageSettings,loadFailureBehavior:'empty'});}return null;};const _renderPrice=props=>{const{price,context,moduleId,moduleTypeName,resources}=props;if(price){return/*#__PURE__*/React.createElement(PriceComponent,{id:moduleId,typeName:moduleTypeName,data:{price:price},className:'ms-wishlist-items__product-price',freePriceText:resources.freePriceText,originalPriceText:resources.originalPriceText,currentPriceText:resources.currentPriceText,context:context});}return null;};const _renderProductDimensions=props=>{const{product,resources}=props;if(!product||!product.Dimensions){return[];}return product.Dimensions.map((dimension,index)=>{if(!dimension.DimensionValue||!dimension.DimensionValue.Value){return undefined;}let type='';switch(dimension.DimensionTypeValue){case 1:{type=resources.productDimensionTypeColor;break;}case 3:{type=resources.productDimensionTypeSize;break;}case 4:{type=resources.productDimensionTypeStyle;break;}default:return undefined;}return/*#__PURE__*/React.createElement(WishlistItemDimension,{key:\"\".concat(product.RecordId,\"-dimensions-\").concat(index),className:'msc-price ms-wishlist-items__product-dimension',dimensionType:type,dimensionValue:dimension.DimensionValue.Value});});};const _renderAriaLabel=props=>{const{product,price,context,resources}=props;const{Name,Dimensions}=product;const{productDimensionTypeColor,productDimensionTypeSize,productDimensionTypeStyle}=resources;let formattedPrice='Free';let dimensions=null;if(price){formattedPrice=price.BasePrice===0?resources.freePriceText:context.cultureFormatter.formatCurrency(price.BasePrice,price.CurrencyCode);}if(Dimensions){dimensions=Dimensions.map(productDimension=>{switch(productDimension.DimensionTypeValue){case 1:return\"\".concat(productDimensionTypeColor).concat(productDimension.DimensionValue&&productDimension.DimensionValue.Value);case 3:return\"\".concat(productDimensionTypeSize).concat(productDimension.DimensionValue&&productDimension.DimensionValue.Value);case 4:return\"\".concat(productDimensionTypeStyle).concat(productDimension.DimensionValue&&productDimension.DimensionValue.Value);default:return'';}});}return\"\".concat(Name,\" \").concat(formattedPrice,\" \").concat(dimensions&&dimensions.join('')||'');};","map":{"version":3,"sources":["modules/wishlist-items/components/wishlist-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getFallbackImageUrl } from '@msdyn365-commerce-modules/retail-actions';\nimport { Alert, Button, getPayloadObject, getTelemetryAttributes, ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport { PriceComponent } from '@msdyn365-commerce/components';\nimport { ICoreContext, IImageSettings, Image, ITelemetry } from '@msdyn365-commerce/core';\nimport { CommerceListLine, ProductPrice, ReleasedProductType, SimpleProduct } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\nimport * as React from 'react';\nimport { IWishlistItemActionMessageState } from '../wishlist-items';\nimport { WishlistItemDimension } from './wishlist-items-dimensions';\n\nexport interface IWishlistItemProps extends CommerceListLine {\n    product: SimpleProduct;\n    wishlistState: IWishlistItemActionMessageState;\n    price?: ProductPrice;\n    context: ICoreContext;\n    productUrl: string;\n    imageSettings?: IImageSettings;\n    removeFromWishlistText: string;\n    isInStock: boolean;\n    addToCartText: string;\n    outOfStockText: string;\n    index: number;\n    itemKey: string;\n    telemetry: ITelemetry;\n    moduleId: string;\n    moduleTypeName: string;\n    enableImageProductLink?: boolean;\n    inventoryInformationLabel?: string;\n    inventoryLabelClassName?:string;\n    telemetryContent?: ITelemetryContent;\n    handlers: {\n        onAddToCart(product: SimpleProduct, itemKey: string): void;\n        onRemoveItem(productId: number): void | undefined;\n        onDismiss(): void;\n    };\n    resources:{\n        productDimensionTypeColor: string;\n        productDimensionTypeSize: string;\n        productDimensionTypeStyle: string;\n        originalPriceText: string;\n        currentPriceText: string;\n        freePriceText: string;\n    };\n}\n\nexport interface IWishlistItemViewProps {\n    key: string;\n    productImage: React.ReactNode;\n    productLink: React.ReactNode;\n    productDimensions?: React.ReactNode[];\n    productPrice?: React.ReactNode;\n    addToCartButton?: React.ReactNode;\n    removeButton?: React.ReactNode;\n    productStatusMessage?: React.ReactNode;\n    productName?: React.ReactNode;\n    productAriaLabel?: string;\n    entireProductLink?: string;\n    inventoryInformation?: React.ReactNode;\n}\n\nconst _addItemToCart = (props: IWishlistItemProps): void => {\n    const { product, itemKey, handlers } = props;\n    const { onAddToCart } = handlers;\n\n    onAddToCart && product && itemKey && onAddToCart(product, itemKey);\n};\n\nconst _removeItemFromWishlist = (props: IWishlistItemProps): void => {\n    const { onRemoveItem } = props.handlers;\n    const { RecordId } = props.product;\n\n    onRemoveItem && RecordId && onRemoveItem(RecordId);\n};\n\nconst WishListItemActions = {\n    addToCart: _addItemToCart,\n    removeItem: _removeItemFromWishlist,\n};\n\n// tslint:disable-next-line:cyclomatic-complexity\nexport const WishlistItem = (input: IWishlistItemProps): IWishlistItemViewProps | null => {\n    const { product, productUrl, price, context, imageSettings, isInStock, removeFromWishlistText,\n        addToCartText, outOfStockText, wishlistState, itemKey, handlers, enableImageProductLink, inventoryInformationLabel, inventoryLabelClassName, telemetryContent } = input;\n\n    if (!product) {\n        return null;\n    }\n\n    const { RecordId, Name, PrimaryImageUrl, Dimensions } = product;\n\n    const addItemAction = (event: React.MouseEvent<HTMLElement>) => { return WishListItemActions.addToCart(input); };\n    const removeItemAction = (event: React.MouseEvent<HTMLElement>) => { return WishListItemActions.removeItem(input); };\n    const { onDismiss } = handlers;\n    const inventoryCssName = inventoryLabelClassName? `ms-wishlist-items__inventory-label ${inventoryLabelClassName}` : 'ms-wishlist-items__inventory-label';\n    const fallbackImage = getFallbackImageUrl(product.ItemId, context.actionContext.requestContext.apiSettings);\n    const payLoad = getPayloadObject('click', telemetryContent!, '', RecordId.toString());\n    const productAttributes = getTelemetryAttributes(telemetryContent!, payLoad);\n\n    // check if the product is service or not by product type\n    const PRODUCTASSERVICE = 2 as ReleasedProductType.Service;\n    const isServiceItem = product.ItemTypeValue === PRODUCTASSERVICE;\n\n    return {\n        key: `${RecordId}-item`,\n        productImage: PrimaryImageUrl && Name && _renderProductImage(context, product.Name!, PrimaryImageUrl, fallbackImage, imageSettings),\n        productLink: productUrl &&\n            (\n                <a href={productUrl} className='ms-wishlist-items__product-link' {...productAttributes} aria-label={ _renderAriaLabel(input) }>\n                    {Name}\n                </a>\n            ),\n        productDimensions: Dimensions && _renderProductDimensions(input),\n        productPrice: price && _renderPrice(input),\n        entireProductLink: enableImageProductLink ? productUrl : undefined,\n        productAriaLabel: enableImageProductLink ? _renderAriaLabel(input) : undefined,\n        productName: enableImageProductLink &&\n            (\n                <div className='ms-wishlist-items__product-title'>{Name}</div>\n            ),\n\n        addToCartButton:\n            (\n                <Button\n                    className='ms-wishlist-items__product-add-button'\n                    title={ (isServiceItem || isInStock) && addToCartText || outOfStockText }\n                    onClick={ addItemAction }\n                    disabled={ !(isServiceItem || isInStock) }\n                >\n                    { (isServiceItem || isInStock) && addToCartText ||  outOfStockText }\n                </Button>\n            ),\n            inventoryInformation: inventoryInformationLabel && (\n                <span className={inventoryCssName}>{inventoryInformationLabel}</span>\n            ),\n        removeButton:\n            (\n                <button\n                    className='ms-wishlist-items__product-remove-button'\n                    aria-label={ removeFromWishlistText }\n                    onClick={ removeItemAction }\n                />\n            ),\n        productStatusMessage: wishlistState && wishlistState.isOpen &&\n            wishlistState.productId === RecordId && wishlistState.itemKey === itemKey &&\n            (\n                <div className='ms-wishlist-items__product-status'>\n                    <Alert color={wishlistState.statusCssString} isOpen={wishlistState.isOpen} toggle={onDismiss}>\n                        <span>{wishlistState.userMessage}</span>\n                    </Alert>\n                </div>\n            )\n\n    };\n\n};\n\nconst _renderProductImage = (context: ICoreContext, heading: string, image?: string, fallbackImage?: string, imageSettings?: IImageSettings): JSX.Element | null => {\n    const defaultImageSettings: IImageSettings = {\n        viewports: {\n            xs: { q: `w=315&h=315&m=6`, w: 0, h: 0 },\n            lg: { q: `w=315&h=315&m=6`, w: 0, h: 0 },\n            xl: { q: `w=315&h=315&m=6`, w: 0, h: 0 }\n        },\n        lazyload: true\n    };\n\n    if (image) {\n        return (\n            <Image\n                className='ms-wishlist-items__product-image'\n                altText={heading}\n                title={heading}\n                src={image}\n                fallBackSrc = {fallbackImage}\n                gridSettings={context.request.gridSettings!}\n                imageSettings={imageSettings || defaultImageSettings}\n                loadFailureBehavior='empty'\n            />\n        );\n    }\n    return null;\n};\n\nconst _renderPrice = (props: IWishlistItemProps): JSX.Element | null => {\n    const { price, context, moduleId, moduleTypeName, resources } = props;\n\n    if (price) {\n        return (\n                <PriceComponent\n                    id={moduleId}\n                    typeName={moduleTypeName}\n                    data={{price: price}}\n                    className='ms-wishlist-items__product-price'\n                    freePriceText={resources.freePriceText}\n                    originalPriceText={resources.originalPriceText}\n                    currentPriceText={resources.currentPriceText}\n                    context={context}\n                />\n        );\n    }\n    return null;\n};\n\nconst _renderProductDimensions = (props: IWishlistItemProps): (React.ReactNode | undefined)[] => {\n    const { product, resources } = props;\n\n    if (!product || !product.Dimensions) {\n        return [];\n    }\n\n    return product.Dimensions.map((dimension, index) => {\n        if (!dimension.DimensionValue || !dimension.DimensionValue.Value) {\n            return undefined;\n        }\n\n        let type = '';\n\n        switch(dimension.DimensionTypeValue) {\n            case 1: {\n                type = resources.productDimensionTypeColor;\n                break;\n            }\n            case 3: {\n                type = resources.productDimensionTypeSize;\n                break;\n            }\n            case 4: {\n                type = resources.productDimensionTypeStyle;\n                break;\n            }\n            default:\n                return undefined;\n        }\n\n        return (\n            <WishlistItemDimension\n                key={`${product.RecordId}-dimensions-${index}`}\n                className='msc-price ms-wishlist-items__product-dimension'\n                dimensionType={type}\n                dimensionValue={dimension.DimensionValue.Value}\n            />\n        );\n    });\n};\n\nconst _renderAriaLabel = (props: IWishlistItemProps): string => {\n    const { product, price, context, resources } = props;\n\n    const { Name, Dimensions, } = product;\n    const { productDimensionTypeColor, productDimensionTypeSize, productDimensionTypeStyle } = resources;\n\n    let formattedPrice = 'Free';\n    let dimensions = null;\n\n    if (price) {\n        formattedPrice = price.BasePrice === 0 ? resources.freePriceText : context.cultureFormatter.formatCurrency(price.BasePrice!, price.CurrencyCode);\n    }\n\n    if (Dimensions) {\n        dimensions = Dimensions.map(productDimension => {\n            switch(productDimension.DimensionTypeValue) {\n                case 1:\n                    return (`${productDimensionTypeColor}${productDimension.DimensionValue && productDimension.DimensionValue.Value}`);\n                case 3:\n                        return (`${productDimensionTypeSize}${productDimension.DimensionValue && productDimension.DimensionValue.Value}`);\n                case 4:\n                    return (`${productDimensionTypeStyle}${productDimension.DimensionValue && productDimension.DimensionValue.Value}`);\n                default:\n                    return '';\n            }\n        });\n    }\n\n    return (`${Name} ${formattedPrice} ${dimensions && dimensions.join('') || ''}`);\n};\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}