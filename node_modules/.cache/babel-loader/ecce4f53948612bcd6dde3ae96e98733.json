{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var core_1=require(\"@msdyn365-commerce/core\");var TelemetryConstant;(function(TelemetryConstant){TelemetryConstant[\"ShopSimliarLooks\"]=\"shop similar looks\";TelemetryConstant[\"PickupInStore\"]=\"pick up in store\";TelemetryConstant[\"PreferredStore\"]=\"set as preferred store\";TelemetryConstant[\"RemovePreferredStore\"]=\"remove preferred store\";TelemetryConstant[\"IncrementQuantity\"]=\"Increment quantity\";TelemetryConstant[\"DecrementQuantity\"]=\"Decrement quantity\";TelemetryConstant[\"Checkout\"]=\"Checkout\";TelemetryConstant[\"GuestCheckout\"]=\"Guest checkout\";TelemetryConstant[\"BackToShopping\"]=\"Back to shopping\";TelemetryConstant[\"ApplyPromoCode\"]=\"Apply promo code\";TelemetryConstant[\"ViewMore\"]=\"View more\";TelemetryConstant[\"OrderDetails\"]=\"Order details\";TelemetryConstant[\"AvailablePoints\"]=\"Available points\";TelemetryConstant[\"ExpiringPoints\"]=\"Expiring points\";TelemetryConstant[\"AddUser\"]=\"Add user\";TelemetryConstant[\"BuyItAgain\"]=\"Buy it again\";TelemetryConstant[\"ContactNumber\"]=\"ContactNumber\";TelemetryConstant[\"CheckoutChange\"]=\"Change\";TelemetryConstant[\"Save\"]=\"Save\";TelemetryConstant[\"SaveContinue\"]=\"Save and Continue\";TelemetryConstant[\"Cancel\"]=\"Cancel\";TelemetryConstant[\"DeliveryOptions\"]=\"Delivery options\";TelemetryConstant[\"CheckoutTermsAndConditions\"]=\"Checkout terms and conditions\";TelemetryConstant[\"ExpandAll\"]=\"Expand all\";TelemetryConstant[\"CollapseAll\"]=\"Collapse all\";TelemetryConstant[\"Expand\"]=\"Expand\";TelemetryConstant[\"Collapse\"]=\"Collapse\";TelemetryConstant[\"SignIn\"]=\"Sign in\";TelemetryConstant[\"SignUp\"]=\"Sign up\";TelemetryConstant[\"SignOut\"]=\"Sign out\";TelemetryConstant[\"LoyaltyDetailLink\"]=\"Loyalty detail ink\";TelemetryConstant[\"LoyaltyTermsLink\"]=\"Loyalty terms link\";TelemetryConstant[\"LoyaltyTermsCancel\"]=\"Loyalty terms cancel\";TelemetryConstant[\"LoyaltyTermsSubmit\"]=\"Loyalty terms submit\";TelemetryConstant[\"LoyaltyTermsAgree\"]=\"Loyalty terms agree\";TelemetryConstant[\"RemoveCartItem\"]=\"Remove cart item\";TelemetryConstant[\"EditCart\"]=\"Edit cart\";TelemetryConstant[\"BackToTop\"]=\"Back to top\";TelemetryConstant[\"Logo\"]=\"Logo\";TelemetryConstant[\"NavIcon\"]=\"Navigation icon\";TelemetryConstant[\"ViewBagAndCheckout\"]=\"View bag and checkout\";TelemetryConstant[\"ContinueShopping\"]=\"Continue shopping\";TelemetryConstant[\"AddOrderTemplateToCart\"]=\"Add order template to cart\";TelemetryConstant[\"PromoBannerClose\"]=\"Close promo banner\";TelemetryConstant[\"WriteReview\"]=\"Write Review\";TelemetryConstant[\"Next\"]=\"Next\";TelemetryConstant[\"Previous\"]=\"Previous\";TelemetryConstant[\"SubmitReview\"]=\"Submit review\";TelemetryConstant[\"SuccessButton\"]=\"Success\";TelemetryConstant[\"SearchStore\"]=\"Search store\";TelemetryConstant[\"ShowAllStore\"]=\"Show all store\";TelemetryConstant[\"ToggleMapView\"]=\"Toggle map view\";TelemetryConstant[\"PrivacyPolicy\"]=\"Privacy policy\";TelemetryConstant[\"ViewShoppingBag\"]=\"View shopping bag\";TelemetryConstant[\"MyProfile\"]=\"My profile\";})(TelemetryConstant=exports.TelemetryConstant||(exports.TelemetryConstant={}));function getTelemetryObject(pageName,moduleName,telemetry){var telemetryContent={pageName:pageName,moduleName:moduleName,telemetry:telemetry};return telemetryContent;}exports.getTelemetryObject=getTelemetryObject;function getPayloadObject(eventType,telemetryContent,etext,recid){var pageName=telemetryContent&&telemetryContent.pageName?telemetryContent.pageName:'';var moduleName=telemetryContent&&telemetryContent.moduleName?telemetryContent.moduleName:'';var payload={contentCategory:eventType,contentAction:{pgname:pageName,mname:moduleName,etext:etext,recid:recid,etype:eventType}};return payload;}exports.getPayloadObject=getPayloadObject;function getTelemetryAttributes(telemetryContent,payLoad){var contentData=payLoad.contentAction.recid?payLoad.contentAction.recid:payLoad.contentAction.etext;var attributes=telemetryContent&&telemetryContent.telemetry&&telemetryContent.telemetry.setTelemetryAttribute&&telemetryContent.telemetry.setTelemetryAttribute(contentData,payLoad.contentAction);return attributes;}exports.getTelemetryAttributes=getTelemetryAttributes;exports.onTelemetryClick=function(telemetryContent,payLoad,linkText){return function(){payLoad.contentAction.etext=linkText;if(telemetryContent&&telemetryContent.telemetry){telemetryContent.telemetry.logEvent(core_1.TelemetryEvent.Custom,payLoad);}};};","map":{"version":3,"sources":["/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/node_modules/@msdyn365-commerce-modules/utilities/src/common/telemetryHelper.ts"],"names":[],"mappings":"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","sourcesContent":["import { IDictionary, TelemetryEvent } from '@msdyn365-commerce/core';\nimport { ITelemetry } from '@msdyn365-commerce/telemetry-internal';\nexport interface IContentAction {\n    pgname: string;\n    mname: string;\n    etext?: string;\n    recid?: string;\n    etype?: string;\n}\n\nexport interface IPayLoad {\n    contentCategory: string;\n    contentAction: IContentAction;\n}\n\nexport interface ITelemetryContent {\n    pageName: string;\n    moduleName: string;\n    telemetry?: ITelemetry;\n}\n\nexport enum TelemetryConstant {\n    ShopSimliarLooks = 'shop similar looks',\n    PickupInStore = 'pick up in store',\n    PreferredStore = 'set as preferred store',\n    RemovePreferredStore = 'remove preferred store',\n    IncrementQuantity = 'Increment quantity',\n    DecrementQuantity = 'Decrement quantity',\n    Checkout = 'Checkout',\n    GuestCheckout = 'Guest checkout',\n    BackToShopping = 'Back to shopping',\n    ApplyPromoCode = 'Apply promo code',\n    ViewMore = 'View more',\n    OrderDetails = 'Order details',\n    AvailablePoints = 'Available points',\n    ExpiringPoints = 'Expiring points',\n    AddUser = 'Add user',\n    BuyItAgain = 'Buy it again',\n    ContactNumber = 'ContactNumber',\n    CheckoutChange = 'Change',\n    Save = 'Save',\n    SaveContinue = 'Save and Continue',\n    Cancel = 'Cancel',\n    DeliveryOptions = 'Delivery options',\n    CheckoutTermsAndConditions = 'Checkout terms and conditions',\n    ExpandAll = 'Expand all',\n    CollapseAll = 'Collapse all',\n    Expand = 'Expand',\n    Collapse = 'Collapse',\n    SignIn = 'Sign in',\n    SignUp = 'Sign up',\n    SignOut = 'Sign out',\n    LoyaltyDetailLink = 'Loyalty detail ink',\n    LoyaltyTermsLink = 'Loyalty terms link',\n    LoyaltyTermsCancel = 'Loyalty terms cancel',\n    LoyaltyTermsSubmit = 'Loyalty terms submit',\n    LoyaltyTermsAgree = 'Loyalty terms agree',\n    RemoveCartItem = 'Remove cart item',\n    EditCart = 'Edit cart',\n    BackToTop = 'Back to top',\n    Logo = 'Logo',\n    NavIcon = 'Navigation icon',\n    ViewBagAndCheckout = 'View bag and checkout',\n    ContinueShopping = 'Continue shopping',\n    AddOrderTemplateToCart = 'Add order template to cart',\n    PromoBannerClose = 'Close promo banner',\n    WriteReview = 'Write Review',\n    Next = 'Next',\n    Previous = 'Previous',\n    SubmitReview = 'Submit review',\n    SuccessButton = 'Success',\n    SearchStore = 'Search store',\n    ShowAllStore = 'Show all store',\n    ToggleMapView = 'Toggle map view',\n    PrivacyPolicy = 'Privacy policy',\n    ViewShoppingBag = 'View shopping bag',\n    MyProfile = 'My profile'\n}\n\n/* Returns the payload Object.\n* @param  {string} contentCategory - Content Category.\n* @param  {IModule} props - Module props.\n* @param  {string} moduleName - Module Name.\n* @param  {string} etext - etext Name.\n* @param  {string} recid - recid Name.\n*/\nexport function getTelemetryObject(pageName: string, moduleName: string, telemetry: ITelemetry): ITelemetryContent {\n    const telemetryContent: ITelemetryContent = { pageName : pageName, moduleName: moduleName, telemetry: telemetry};\n    return telemetryContent;\n}\n\n/* Returns the payload Object.\n* @param  {string} contentCategory - Content Category.\n* @param  {IModule} props - Module props.\n* @param  {string} moduleName - Module Name.\n* @param  {string} etext - etext Name.\n* @param  {string} recid - recid Name.\n*/\nexport function getPayloadObject(eventType: string, telemetryContent: ITelemetryContent, etext: string, recid?: string): IPayLoad {\n    const pageName = telemetryContent && telemetryContent.pageName ? telemetryContent.pageName : '';\n    const moduleName = telemetryContent && telemetryContent.moduleName ? telemetryContent.moduleName : '';\n    const payload: IPayLoad = {\n        contentCategory: eventType,\n        contentAction:  {\n            pgname: pageName,\n            mname: moduleName,\n            etext: etext,\n            recid: recid,\n            etype: eventType,\n        }\n    };\n    return payload;\n}\n\n/* Returns the telemetry Attributes.\n* @param  {IModule} props - Module Props.\n* @param  {IPayLoad} payLoad - Pay Load.\n*/\nexport function getTelemetryAttributes(telemetryContent: ITelemetryContent, payLoad: IPayLoad): IDictionary<string> | undefined {\n    const contentData = payLoad.contentAction.recid ? payLoad.contentAction.recid : payLoad.contentAction.etext;\n    const attributes: IDictionary<string> | undefined =  telemetryContent\n    && telemetryContent.telemetry\n    && telemetryContent.telemetry.setTelemetryAttribute\n    && telemetryContent.telemetry.setTelemetryAttribute(contentData!, payLoad.contentAction);\n    return attributes;\n}\n\n/* Returns the telemetry Attributes.\n* @param  {IModule} props - Module Props.\n* @param  {IPayLoad} payLoad - Pay Load.\n*/\n\nexport const onTelemetryClick = (telemetryContent: ITelemetryContent, payLoad: IPayLoad, linkText: string) => () => {\n    payLoad.contentAction!.etext = linkText;\n    if (telemetryContent && telemetryContent.telemetry) {\n        telemetryContent.telemetry.logEvent(TelemetryEvent.Custom, payLoad);\n    }\n};\n"]},"metadata":{},"sourceType":"script"}