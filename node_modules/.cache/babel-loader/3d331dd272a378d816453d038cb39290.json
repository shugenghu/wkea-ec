{"ast":null,"code":"/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{RequestCache}from'@msdyn365-commerce/cache-internal';import{MSDyn365Commerce,msdyn365Commerce}from'@msdyn365-commerce/core-internal';import{initializeApp}from'./initialization';import{createComponent}from'./render-component';const requestCache=new RequestCache();// tslint:disable:no-invalid-this\nexport const initializeClientApp=(bindings,connectors)=>{initializeApp(bindings);MSDyn365Commerce.prototype.updatePrivateVariable=function(){// @ts-ignore\nthis._buildVersion=window.___appData___&&window.___appData___.bv;// @ts-ignore\nthis.createComponent=createComponent;// @ts-ignore\nthis._experimentationConnector=connectors===null||connectors===void 0?void 0:connectors.experimentation;};msdyn365Commerce.updatePrivateVariable();MSDyn365Commerce.prototype.getAppCache=requestContext=>requestCache;};","map":{"version":3,"sources":["../../../src/app-initialization/client-initialization.ts"],"names":[],"mappings":"AAAA;;;AAGG,GAEH,OAAiB,YAAjB,KAAqC,mCAArC,CACA,OAKI,gBALJ,CAMI,gBANJ,KAOO,kCAPP,CAQA,OAAS,aAAT,KAA8B,kBAA9B,CAEA,OAAS,eAAT,KAAgC,oBAAhC,CAMA,KAAM,CAAA,YAAY,CAAW,GAAI,CAAA,YAAJ,EAA7B,CAEA;AACA,MAAO,MAAM,CAAA,mBAAmB,CAAG,CAAC,QAAD,CAAqB,UAArB,GAAgD,CAC/E,aAAa,CAAC,QAAD,CAAb,CAEiC,gBAAiB,CAAC,SAAlB,CAA4B,qBAA5B,CAAoD,UAAA,CACjF;AACA,KAAK,aAAL,CAAqB,MAAM,CAAC,aAAP,EAAwB,MAAM,CAAC,aAAP,CAAqB,EAAlE,CACA;AACA,KAAK,eAAL,CAAuB,eAAvB,CAEA;AACA,KAAK,yBAAL,CAAiC,UAAjC,SAAiC,UAAjC,iBAAiC,UAAU,CAAE,eAA7C,CACH,CARgC,CAUhB,gBAAiB,CAAC,qBAAlB,GAEgB,gBAAiB,CAAC,SAAlB,CAA4B,WAA5B,CAA2C,cAAD,EAAqC,YAA/E,CACpC,CAhBM","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { ICache, RequestCache } from '@msdyn365-commerce/cache-internal';\nimport {\n    IAny,\n    IExperimentationConnector,\n    IGeneric,\n    IRequestContext,\n    MSDyn365Commerce,\n    msdyn365Commerce\n} from '@msdyn365-commerce/core-internal';\nimport { initializeApp } from './initialization';\nimport { IBinding, IMSDyn365CommerceWithPrototype } from './models';\nimport { createComponent } from './render-component';\n\ninterface IConnectors {\n    experimentation: IExperimentationConnector;\n}\n\nconst requestCache: ICache = new RequestCache();\n\n// tslint:disable:no-invalid-this\nexport const initializeClientApp = (bindings: IBinding, connectors: IConnectors) => {\n    initializeApp(bindings);\n\n    (<IMSDyn365CommerceWithPrototype>MSDyn365Commerce).prototype.updatePrivateVariable = function(): void {\n        // @ts-ignore\n        this._buildVersion = window.___appData___ && window.___appData___.bv;\n        // @ts-ignore\n        this.createComponent = createComponent;\n\n        // @ts-ignore\n        this._experimentationConnector = connectors?.experimentation;\n    };\n\n    (<IGeneric<IAny>>msdyn365Commerce).updatePrivateVariable();\n\n    (<IMSDyn365CommerceWithPrototype>MSDyn365Commerce).prototype.getAppCache = (requestContext: IRequestContext) => requestCache;\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}