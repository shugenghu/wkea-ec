{"ast":null,"code":"/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{msdyn365Commerce}from'@msdyn365-commerce/core-internal';import express from'express';var getVarianceForUser=function getVarianceForUser(req,res){var userId=req.body.userId;var attributes=req.body.attributes;var activeVariants=msdyn365Commerce.experimentationConnector?msdyn365Commerce.experimentationConnector.provider.getVariantsForUser(userId,attributes):[];res.status(200).send(activeVariants);};export default function(){var experimentationRouter=express.Router();experimentationRouter.post('/user-exp-variants',getVarianceForUser);return experimentationRouter;}","map":{"version":3,"sources":["../../../../src/_server/request-routers/experimentation-router.ts"],"names":[],"mappings":"AAAA;;;AAGG,GAEH,OAAS,gBAAT,KAAiC,kCAAjC,CACA,MAAO,CAAA,OAAP,KAAmD,SAAnD,CAEA,GAAM,CAAA,kBAAkB,CAAG,QAArB,CAAA,kBAAqB,CAAC,GAAD,CAAe,GAAf,CAAgC,CACvD,GAAM,CAAA,MAAM,CAAG,GAAG,CAAC,IAAJ,CAAS,MAAxB,CACA,GAAM,CAAA,UAAU,CAAgC,GAAG,CAAC,IAAJ,CAAS,UAAzD,CACA,GAAM,CAAA,cAAc,CAAG,gBAAgB,CAAC,wBAAjB,CACjB,gBAAgB,CAAC,wBAAjB,CAA0C,QAA1C,CAAmD,kBAAnD,CAAsE,MAAtE,CAA8E,UAA9E,CADiB,CAEjB,EAFN,CAIA,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,cAArB,EACH,CARD,CAUA,cAAc,WAAA,CACV,GAAM,CAAA,qBAAqB,CAAG,OAAO,CAAC,MAAR,EAA9B,CACA,qBAAqB,CAAC,IAAtB,CAA2B,oBAA3B,CAAiD,kBAAjD,EACA,MAAO,CAAA,qBAAP,CACH","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { msdyn365Commerce } from '@msdyn365-commerce/core-internal';\nimport express, { Request, Response, Router } from 'express';\n\nconst getVarianceForUser = (req: Request, res: Response) => {\n    const userId = req.body.userId;\n    const attributes: { [index: string]: string } = req.body.attributes;\n    const activeVariants = msdyn365Commerce.experimentationConnector\n        ? msdyn365Commerce.experimentationConnector.provider.getVariantsForUser(userId, attributes)\n        : [];\n\n    res.status(200).send(activeVariants);\n};\n\nexport default function(): Router {\n    const experimentationRouter = express.Router();\n    experimentationRouter.post('/user-exp-variants', getVarianceForUser);\n    return experimentationRouter;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}