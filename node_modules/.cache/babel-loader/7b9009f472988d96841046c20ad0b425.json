{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';import{Button,Collapse}from'@msdyn365-commerce-modules/utilities';import RangeRefineItem from'./range-refine-item';import RefineItem from'./refine-item';import{findMatchingRefinementCriterion}from'./utilities';var RefineSubmenu=/*#__PURE__*/function(_React$Component){_inherits(RefineSubmenu,_React$Component);var _super=_createSuper(RefineSubmenu);function RefineSubmenu(props){var _this;_classCallCheck(this,RefineSubmenu);_this=_super.call(this,props);_this._onToggleItem=_this._onToggleItem.bind(_assertThisInitialized(_this));_this._onToggleSubmenu=_this._onToggleSubmenu.bind(_assertThisInitialized(_this));var isExpanded=_this.props.isExpandedOnInitialLoad;if(_this.props.productRefinerHierarchy.DataTypeValue===1){isExpanded=true;}_this.state={expanded:isExpanded};return _this;}_createClass(RefineSubmenu,[{key:\"render\",value:function render(){var _this$props=this.props,productRefinerHierarchy=_this$props.productRefinerHierarchy,refineItemCommonProps=_this$props.refineItemCommonProps;if(!productRefinerHierarchy){refineItemCommonProps.telemetry.error('Cannot render submenu without refiner hierarchy data');}if(productRefinerHierarchy.SourceValue===4&&this.props.context.app.config.hideRating){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:\"ms-refine-submenu list-group \".concat(productRefinerHierarchy.KeyName)},/*#__PURE__*/React.createElement(Button,{className:this.state.expanded?'ms-refine-submenu__toggle_expanded':'ms-refine-submenu__toggle_collapsed',\"aria-label\":productRefinerHierarchy.KeyName||'refiner.Name',onClick:this._onToggleSubmenu,\"aria-expanded\":this.state.expanded},productRefinerHierarchy.KeyName),/*#__PURE__*/React.createElement(Collapse,{isOpen:this.state.expanded,timeout:350},this._renderChildItems(productRefinerHierarchy)));}},{key:\"_renderChildItems\",value:function _renderChildItems(productRefinerHierarchy){switch(productRefinerHierarchy.DataTypeValue){case 1:case 4:return this._renderRange(productRefinerHierarchy);default:return this._renderSingleMultiSelect(productRefinerHierarchy);}}},{key:\"_renderSingleMultiSelect\",value:function _renderSingleMultiSelect(productRefinerHierarchy){var _this2=this;var _this$props2=this.props,isDisabled=_this$props2.isDisabled,refineItemCommonProps=_this$props2.refineItemCommonProps,selectedRefinerValues=_this$props2.selectedRefinerValues,context=_this$props2.context;var isSingleSelect=productRefinerHierarchy.RefinerTypeValue===0&&productRefinerHierarchy.SourceValue===4;var role=isSingleSelect?{role:'radiogroup'}:undefined;var refinerValuesList=productRefinerHierarchy.Values||[];var listItems=refinerValuesList.map(function(child,index){if(!child){refineItemCommonProps.telemetry.error(\"[refine-submenu] Could not render refine item for refiner \".concat(productRefinerHierarchy.RecordId,\" (\").concat(productRefinerHierarchy.KeyName,\")\"));return null;}var selectedRefinementCriterion=findMatchingRefinementCriterion(child,selectedRefinerValues);return/*#__PURE__*/React.createElement(RefineItem,{parentProductRefinerHierarchy:productRefinerHierarchy,productRefinerValue:child,selectedRefinementCriterion:selectedRefinementCriterion,refineItemCommonProps:refineItemCommonProps,onToggle:_this2._onToggleItem,urlBuilder:_this2.props.urlBuilder,isDisabled:isDisabled,key:index,index:index,context:context,moduleId:_this2.props.moduleId,moduleTypeName:_this2.props.moduleTypeName,telemetryContent:_this2.props.telemetryContent});});return/*#__PURE__*/React.createElement(\"ul\",Object.assign({className:\"ms-refine-submenu__list \".concat(productRefinerHierarchy.KeyName)},role,{\"aria-label\":productRefinerHierarchy.KeyName}),listItems);}},{key:\"_getRangeType\",value:function _getRangeType(productRefinerHierarchy){if(productRefinerHierarchy.DisplayTemplateValue===3||productRefinerHierarchy.DisplayTemplateValue===1||productRefinerHierarchy.DisplayTemplateValue===2){return'slider';}return'input';}},{key:\"_renderRange\",value:function _renderRange(productRefinerHierarchy){var _this3=this;var _this$props3=this.props,isDisabled=_this$props3.isDisabled,refineItemCommonProps=_this$props3.refineItemCommonProps,selectedRefinerValues=_this$props3.selectedRefinerValues,context=_this$props3.context,minValueSliderThumbAriaLabel=_this$props3.minValueSliderThumbAriaLabel,maxValueSliderThumbAriaLabel=_this$props3.maxValueSliderThumbAriaLabel;var submenuClassNamePrefix='ms-refine-submenu__item list-group-item refine-submenu__item';var refinerValuesList=productRefinerHierarchy.Values||[];var listItems=refinerValuesList.map(function(child,index){if(!child){refineItemCommonProps.telemetry.error(\"Could not render refine item for refiner \".concat(productRefinerHierarchy.RecordId,\" (\").concat(productRefinerHierarchy.KeyName,\")\"));return null;}var selectedRefinementCriterion=findMatchingRefinementCriterion(child,selectedRefinerValues);var rangeType=_this3._getRangeType(productRefinerHierarchy);var key=selectedRefinementCriterion?\"\".concat(selectedRefinementCriterion.LeftValueBoundString,\"-\").concat(selectedRefinementCriterion.RightValueBoundString):\"not-selected-\".concat(index);return/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(submenuClassNamePrefix,\"--range\"),key:index},/*#__PURE__*/React.createElement(RangeRefineItem,{parentProductRefinerHierarchy:productRefinerHierarchy,productRefinerValue:child,selectedRefinementCriterion:selectedRefinementCriterion,refineItemCommonProps:refineItemCommonProps,onToggle:_this3._onToggleItem,urlBuilder:_this3.props.urlBuilder,isDisabled:isDisabled,rangeType:rangeType,key:key,context:context,minValueSliderThumbAriaLabel:minValueSliderThumbAriaLabel,maxValueSliderThumbAriaLabel:maxValueSliderThumbAriaLabel,moduleId:_this3.props.moduleId,moduleTypeName:_this3.props.moduleTypeName}));});return/*#__PURE__*/React.createElement(\"ul\",{className:\"ms-refine-submenu__list list-unstyled \".concat(productRefinerHierarchy.KeyName)},listItems);}},{key:\"_onToggleItem\",value:function _onToggleItem(itemToggleNotification){this.props.onUpdateRefiners(itemToggleNotification);}},{key:\"_onToggleSubmenu\",value:function _onToggleSubmenu(){this.setState(function(prevState){return{expanded:!prevState.expanded};});}}]);return RefineSubmenu;}(React.Component);export default RefineSubmenu;","map":{"version":3,"sources":["modules/search-result-container/components/refine-submenu.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as React from 'react';\n\nimport { Button, Collapse, ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport { IProductRefinerHierarchy } from '@msdyn365-commerce/commerce-entities';\nimport {IAny, ICoreContext, IGeneric} from '@msdyn365-commerce/core';\nimport { DisplayTemplate, ProductRefinerValue } from '@msdyn365-commerce/retail-proxy';\nimport RangeRefineItem, { RangeRefineItemType } from './range-refine-item';\nimport RefineItem from './refine-item';\nimport { IRefineItemToggleNotification } from './refine-item-toggle-notification';\nimport { IRefineItemCommonProps } from './refine-item.props.common';\nimport { findMatchingRefinementCriterion, ProductRefinerSource, ProductRefinerTypeValue, ProductRefinerValueDataTypeValue } from './utilities';\n\n/**\n * Properties associated with the RefineSubmenu component\n */\nexport interface IRefineSubmenuProps {\n    tempRangeTypeTODO: RangeRefineItemType;\n    minValueSliderThumbAriaLabel?: string;\n    maxValueSliderThumbAriaLabel?: string;\n    productRefinerHierarchy: IProductRefinerHierarchy;\n    selectedRefinerValues: ProductRefinerValue[];\n    refineItemCommonProps: IRefineItemCommonProps;\n    isDisabled: boolean;\n    isExpandedOnInitialLoad: boolean;\n    context: ICoreContext<IGeneric<IAny>>;\n    moduleId: string;\n    moduleTypeName: string;\n    /** The telemetry content */\n    telemetryContent?: ITelemetryContent;\n    onUpdateRefiners(notfication: Readonly<IRefineItemToggleNotification>): void;\n    urlBuilder(refiner: IRefineItemToggleNotification): string;\n}\n\n/**\n * Refine submenu state\n */\nexport interface IRefineSubmenuState extends React.ComponentState {\n    expanded: boolean;\n}\n\n/**\n *\n * The RefineSubmenu component renders the submenu category and child items.\n * This computed observes the stateful category hierarchy object.\n * @extends {React.PureComponent<IRefineSubmenuProps>}\n */\nclass RefineSubmenu extends React.Component<IRefineSubmenuProps, IRefineSubmenuState> {\n    constructor(props: IRefineSubmenuProps) {\n        super(props);\n\n        this._onToggleItem = this._onToggleItem.bind(this);\n        this._onToggleSubmenu = this._onToggleSubmenu.bind(this);\n\n        let isExpanded = this.props.isExpandedOnInitialLoad;\n        if (this.props.productRefinerHierarchy.DataTypeValue === ProductRefinerValueDataTypeValue.Range) {\n            isExpanded = true;\n        }\n\n        this.state = {\n            expanded: isExpanded\n        };\n    }\n\n    public render(): JSX.Element | null {\n        const { productRefinerHierarchy, refineItemCommonProps } = this.props;\n\n        if (!productRefinerHierarchy) {\n            refineItemCommonProps.telemetry.error('Cannot render submenu without refiner hierarchy data');\n        }\n\n        if((productRefinerHierarchy.SourceValue === ProductRefinerSource.Rating) && (this.props.context.app.config.hideRating)) {\n           return null;\n        }\n        return (\n            <div className={`ms-refine-submenu list-group ${productRefinerHierarchy.KeyName}`}>\n                <Button\n                    className={this.state.expanded? 'ms-refine-submenu__toggle_expanded' : 'ms-refine-submenu__toggle_collapsed'}\n                    aria-label= {productRefinerHierarchy.KeyName || 'refiner.Name'}\n                    onClick={this._onToggleSubmenu}\n                    aria-expanded={this.state.expanded}\n                >\n                {productRefinerHierarchy.KeyName}\n                </Button>\n                <Collapse isOpen={this.state.expanded} timeout={350}>\n                    {this._renderChildItems(productRefinerHierarchy)}\n                </Collapse>\n            </div>\n        );\n    }\n\n    private _renderChildItems(productRefinerHierarchy: IProductRefinerHierarchy): JSX.Element | null {\n        switch (productRefinerHierarchy.DataTypeValue) {\n            case ProductRefinerValueDataTypeValue.Range:\n            case ProductRefinerValueDataTypeValue.RangeInput:\n                return this._renderRange(productRefinerHierarchy);\n            default:\n                return this._renderSingleMultiSelect(productRefinerHierarchy);\n        }\n    }\n\n    private _renderSingleMultiSelect(productRefinerHierarchy: IProductRefinerHierarchy): JSX.Element | null {\n        const { isDisabled, refineItemCommonProps, selectedRefinerValues, context } = this.props;\n        const isSingleSelect = (productRefinerHierarchy.RefinerTypeValue === ProductRefinerTypeValue.Single) && (productRefinerHierarchy.SourceValue === ProductRefinerSource.Rating);\n        const role = isSingleSelect ? { role: 'radiogroup' } : undefined;\n        const refinerValuesList = (productRefinerHierarchy.Values || []);\n        const listItems = refinerValuesList.map((child: ProductRefinerValue, index: number) => {\n            if (!child) {\n                refineItemCommonProps.telemetry.error(\n                    `[refine-submenu] Could not render refine item for refiner ${productRefinerHierarchy.RecordId} (${productRefinerHierarchy.KeyName})`\n                );\n                return null;\n            }\n\n            const selectedRefinementCriterion = findMatchingRefinementCriterion(child, selectedRefinerValues);\n\n            return (\n                <RefineItem\n                    parentProductRefinerHierarchy={productRefinerHierarchy}\n                    productRefinerValue={child}\n                    selectedRefinementCriterion={selectedRefinementCriterion}\n                    refineItemCommonProps={refineItemCommonProps}\n                    onToggle={this._onToggleItem}\n                    urlBuilder={this.props.urlBuilder}\n                    isDisabled={isDisabled}\n                    key={index}\n                    index= {index}\n                    context = {context}\n                    moduleId={this.props.moduleId}\n                    moduleTypeName={this.props.moduleTypeName}\n                    telemetryContent={this.props.telemetryContent}\n                />\n            );\n        });\n        return (\n            <ul className= {`ms-refine-submenu__list ${productRefinerHierarchy.KeyName}`} {...role} aria-label={productRefinerHierarchy.KeyName}>\n                {listItems}\n            </ul>\n        );\n    }\n\n    private _getRangeType(productRefinerHierarchy: IProductRefinerHierarchy): 'input' | 'slider' {\n        if (productRefinerHierarchy.DisplayTemplateValue === DisplayTemplate.Range ||\n            productRefinerHierarchy.DisplayTemplateValue === DisplayTemplate.Slider ||\n            productRefinerHierarchy.DisplayTemplateValue === DisplayTemplate.SliderWithBars) {\n            return 'slider';\n        }\n        return 'input';\n    }\n\n    private _renderRange(productRefinerHierarchy: IProductRefinerHierarchy): JSX.Element | null {\n        const { isDisabled, refineItemCommonProps, selectedRefinerValues, context, minValueSliderThumbAriaLabel, maxValueSliderThumbAriaLabel } = this.props;\n        const submenuClassNamePrefix = 'ms-refine-submenu__item list-group-item refine-submenu__item';\n        const refinerValuesList = (productRefinerHierarchy.Values || []);\n        const listItems = refinerValuesList.map((child: ProductRefinerValue, index: number) => {\n            if (!child) {\n                refineItemCommonProps.telemetry.error(\n                    `Could not render refine item for refiner ${productRefinerHierarchy.RecordId} (${productRefinerHierarchy.KeyName})`\n                );\n                return null;\n            }\n\n            const selectedRefinementCriterion = findMatchingRefinementCriterion(child, selectedRefinerValues);\n\n            const rangeType = this._getRangeType(productRefinerHierarchy);\n            const key = selectedRefinementCriterion ? `${selectedRefinementCriterion.LeftValueBoundString}-${selectedRefinementCriterion.RightValueBoundString}` : `not-selected-${index}`;\n            return (\n                <li className={`${submenuClassNamePrefix}--range`} key={index}>\n                    <RangeRefineItem\n                        parentProductRefinerHierarchy={productRefinerHierarchy}\n                        productRefinerValue={child}\n                        selectedRefinementCriterion={selectedRefinementCriterion}\n                        refineItemCommonProps={refineItemCommonProps}\n                        onToggle={this._onToggleItem}\n                        urlBuilder={this.props.urlBuilder}\n                        isDisabled={isDisabled}\n                        rangeType={rangeType}\n                        key={key}\n                        context={context}\n                        minValueSliderThumbAriaLabel={minValueSliderThumbAriaLabel}\n                        maxValueSliderThumbAriaLabel={maxValueSliderThumbAriaLabel}\n                        moduleId={this.props.moduleId}\n                        moduleTypeName={this.props.moduleTypeName}\n                    />\n                </li>\n            );\n        });\n        return <ul className={`ms-refine-submenu__list list-unstyled ${productRefinerHierarchy.KeyName}`}>{listItems}</ul>;\n    }\n\n    private _onToggleItem(itemToggleNotification: IRefineItemToggleNotification): void {\n        this.props.onUpdateRefiners(itemToggleNotification);\n    }\n\n    private _onToggleSubmenu(): void {\n        this.setState(prevState => ({\n            expanded: !prevState.expanded\n        }));\n    }\n}\n\nexport default RefineSubmenu;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}