{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import{createObservableDataAction}from'@msdyn365-commerce/core';import{buildCacheKey}from'.';import{getSearchConfigurationAsync}from'@msdyn365-commerce/retail-proxy/dist/DataActions/StoreOperationsDataActions.g';/**\r\n * Action Input class for the getSearchConfiguration data action\r\n */export var SearchConfigurationInput=function SearchConfigurationInput(apiSettings){var _this=this;_classCallCheck(this,SearchConfigurationInput);this.getCacheKey=function(){return buildCacheKey('SearchConfig',_this.apiSettings);};this.getCacheObjectType=function(){return'SearchConfiguration';};this.dataCacheType=function(){return'request';};this.apiSettings=apiSettings;};/**\r\n * Creates the input required to make the retail api call\r\n */export var createSearchConfigurationInput=function createSearchConfigurationInput(inputData){return new SearchConfigurationInput(inputData.requestContext.apiSettings);};/**\r\n * Calls the Retail API\r\n */export function getSearchConfigurationAction(_x,_x2){return _getSearchConfigurationAction.apply(this,arguments);}function _getSearchConfigurationAction(){_getSearchConfigurationAction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(input,ctx){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",getSearchConfigurationAsync({callerContext:ctx}));case 1:case\"end\":return _context.stop();}}},_callee);}));return _getSearchConfigurationAction.apply(this,arguments);}export default createObservableDataAction({id:'@msdyn365-commerce-modules/retail-actions/get-search-configurations',action:getSearchConfigurationAction,input:createSearchConfigurationInput});","map":{"version":3,"sources":["../../src/get-search-configuration.ts"],"names":[],"mappings":"8MACA,OAAS,0BAAT,KAAiG,yBAAjG,CAEA,OAAS,aAAT,KAA8B,GAA9B,CAEA,OAAS,2BAAT,KAA4C,+EAA5C,CAQA;;AAEG,GACH,UAAa,CAAA,wBAAb,CAGI,kCAAY,WAAZ,CAA6C,+DAItC,KAAA,WAAA,CAAc,iBAAM,CAAA,aAAa,CAAC,cAAD,CAAiB,KAAI,CAAC,WAAtB,CAAnB,EAAd,CACA,KAAA,kBAAA,CAAqB,iBAAM,qBAAN,EAArB,CACA,KAAA,aAAA,CAAgB,iBAAiB,SAAjB,EAAhB,CALL,KAAK,WAAL,CAAmB,WAAnB,CACD,CALL,CAYA;;AAEG,GACH,MAAO,IAAM,CAAA,8BAA8B,CAAG,QAAjC,CAAA,8BAAiC,CAAC,SAAD,CAAkE,CAC5G,MAAO,IAAI,CAAA,wBAAJ,CAA6B,SAAS,CAAC,cAAV,CAAyB,WAAtD,CAAP,CACH,CAFM,CAIP;;AAEG,GACH,eAAsB,CAAA,4BAAtB,qE,+HAAO,iBAA4C,KAA5C,CAA6E,GAA7E,kJACI,2BAA2B,CAAC,CAAE,aAAa,CAAE,GAAjB,CAAD,CAD/B,wD,+DAIP,cAAe,CAAA,0BAA0B,CAAC,CACtC,EAAE,CAAE,qEADkC,CAEtC,MAAM,CAAgC,4BAFA,CAGtC,KAAK,CAAE,8BAH+B,CAAD,CAAzC","sourcesContent":["import { CacheType, IAction, IActionInput, ICommerceApiSettings } from '@msdyn365-commerce/core';\nimport { createObservableDataAction, IActionContext, IAny, ICreateActionContext, IGeneric } from '@msdyn365-commerce/core';\nimport { SortColumn } from '@msdyn365-commerce/retail-proxy';\nimport { buildCacheKey } from '.';\n\nimport { getSearchConfigurationAsync } from '@msdyn365-commerce/retail-proxy/dist/DataActions/StoreOperationsDataActions.g';\n\n// TODO: import from commerce entities when available\n// tslint:disable-next-line:interface-name\ninterface SearchConfiguration {\n    ProductSortColumns?: SortColumn[];\n}\n\n/**\n * Action Input class for the getSearchConfiguration data action\n */\nexport class SearchConfigurationInput implements IActionInput {\n    private apiSettings: ICommerceApiSettings;\n\n    constructor(apiSettings: ICommerceApiSettings) {\n      this.apiSettings = apiSettings;\n    }\n\n    public getCacheKey = () => buildCacheKey('SearchConfig', this.apiSettings);\n    public getCacheObjectType = () => 'SearchConfiguration';\n    public dataCacheType = (): CacheType => 'request';\n}\n\n/**\n * Creates the input required to make the retail api call\n */\nexport const createSearchConfigurationInput = (inputData: ICreateActionContext<IGeneric<IAny>>): IActionInput => {\n    return new SearchConfigurationInput(inputData.requestContext.apiSettings);\n};\n\n/**\n * Calls the Retail API\n */\nexport async function getSearchConfigurationAction(input: SearchConfigurationInput, ctx: IActionContext): Promise<SearchConfiguration> {\n    return getSearchConfigurationAsync({ callerContext: ctx });\n}\n\nexport default createObservableDataAction({\n    id: '@msdyn365-commerce-modules/retail-actions/get-search-configurations',\n    action: <IAction<SearchConfiguration>>getSearchConfigurationAction,\n    input: createSearchConfigurationInput\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}