{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */ // tslint:disable-next-line:no-any\nvar appCache={};/**\r\n * SimpleCache implementation\r\n *\r\n * @class SimpleCache\r\n * @implements {ICache}\r\n * @internal\r\n */var SimpleCache=/*#__PURE__*/function(){function SimpleCache(useRequestCache){_classCallCheck(this,SimpleCache);this.localCache=useRequestCache?{}:appCache;}_createClass(SimpleCache,[{key:\"Get\",value:function Get(type,key){if(!type||!key){throw new Error('Cannot send null arguments');}type=type.toUpperCase();key=key.toUpperCase();if(!!this.localCache[type]){return this.localCache[type][key];}return null;}},{key:\"Put\",value:function Put(type,key,item){if(!type||!key){throw new Error('Cannot send null arguments');}type=type.toUpperCase();key=key.toUpperCase();if(this.localCache[type]===undefined){this.localCache[type]={};}var cacheItem={Item:item};this.localCache[type][key]=cacheItem;return cacheItem;}},{key:\"GetValue\",value:function GetValue(type,key){var item=this.Get(type,key);return item?this.Value(item):null;}},{key:\"Value\",value:function Value(item){return item.Item;}}]);return SimpleCache;}();export{SimpleCache as default};","map":{"version":3,"sources":["../../../src/cache/simple-cache.ts"],"names":[],"mappings":"wIAAA;;;AAGG,G,CAKH;AACA,GAAM,CAAA,QAAQ,CAAQ,EAAtB,CAEA;;;;;;AAMG,G,GACkB,CAAA,W,yBAEjB,qBAAY,eAAZ,CAAoC,mCAChC,KAAK,UAAL,CAAkB,eAAe,CAAG,EAAH,CAAQ,QAAzC,CACH,C,wDAEa,I,CAAc,G,CAAW,CACnC,GAAI,CAAC,IAAD,EAAS,CAAC,GAAd,CAAmB,CACf,KAAM,IAAI,CAAA,KAAJ,CAAU,4BAAV,CAAN,CACH,CAED,IAAI,CAAG,IAAI,CAAC,WAAL,EAAP,CACA,GAAG,CAAG,GAAG,CAAC,WAAJ,EAAN,CACA,GAAI,CAAC,CAAC,KAAK,UAAL,CAAgB,IAAhB,CAAN,CAA6B,CACzB,MAAsB,MAAK,UAAL,CAAgB,IAAhB,EAAsB,GAAtB,CAAtB,CACH,CAED,MAAO,KAAP,CACH,C,gCAEa,I,CAAc,G,CAAa,I,CAAO,CAC5C,GAAI,CAAC,IAAD,EAAS,CAAC,GAAd,CAAmB,CACf,KAAM,IAAI,CAAA,KAAJ,CAAU,4BAAV,CAAN,CACH,CAED,IAAI,CAAG,IAAI,CAAC,WAAL,EAAP,CACA,GAAG,CAAG,GAAG,CAAC,WAAJ,EAAN,CACA,GAAI,KAAK,UAAL,CAAgB,IAAhB,IAA0B,SAA9B,CAAyC,CACrC,KAAK,UAAL,CAAgB,IAAhB,EAAwB,EAAxB,CACH,CAED,GAAM,CAAA,SAAS,CAAkB,CAAE,IAAI,CAAE,IAAR,CAAjC,CAEA,KAAK,UAAL,CAAgB,IAAhB,EAAsB,GAAtB,EAA6B,SAA7B,CACA,MAAO,CAAA,SAAP,CACH,C,0CAEkB,I,CAAc,G,CAAW,CACxC,GAAM,CAAA,IAAI,CAAG,KAAK,GAAL,CAAY,IAAZ,CAAkB,GAAlB,CAAb,CACA,MAAO,CAAA,IAAI,CAAG,KAAK,KAAL,CAAc,IAAd,CAAH,CAAyB,IAApC,CACH,C,oCAEe,I,CAAmB,CAC/B,MAAO,CAAA,IAAI,CAAC,IAAZ,CACH,C,kCA5CgB,W","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\n// tslint:disable:function-name\nimport { ICache, ICacheItem } from '@msdyn365-commerce/core-internal';\n\n// tslint:disable-next-line:no-any\nconst appCache: any = {};\n\n/**\n * SimpleCache implementation\n *\n * @class SimpleCache\n * @implements {ICache}\n * @internal\n */\nexport default class SimpleCache implements ICache {\n    public localCache: { [type: string]: { [key: string]: ICacheItem } };\n    constructor(useRequestCache: boolean) {\n        this.localCache = useRequestCache ? {} : appCache;\n    }\n\n    public Get<T>(type: string, key: string): ICacheItem<T> | null {\n        if (!type || !key) {\n            throw new Error('Cannot send null arguments');\n        }\n\n        type = type.toUpperCase();\n        key = key.toUpperCase();\n        if (!!this.localCache[type]) {\n            return <ICacheItem<T>>this.localCache[type][key];\n        }\n\n        return null;\n    }\n\n    public Put<T>(type: string, key: string, item: T): ICacheItem<T> | null {\n        if (!type || !key) {\n            throw new Error('Cannot send null arguments');\n        }\n\n        type = type.toUpperCase();\n        key = key.toUpperCase();\n        if (this.localCache[type] === undefined) {\n            this.localCache[type] = {};\n        }\n\n        const cacheItem: ICacheItem<T> = { Item: item };\n\n        this.localCache[type][key] = cacheItem;\n        return cacheItem;\n    }\n\n    public GetValue<T>(type: string, key: string): T | null {\n        const item = this.Get<T>(type, key);\n        return item ? this.Value<T>(item) : null;\n    }\n\n    public Value<T>(item: ICacheItem<T>): T {\n        return item.Item;\n    }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}