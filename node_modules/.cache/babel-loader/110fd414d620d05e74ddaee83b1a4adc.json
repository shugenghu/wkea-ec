{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import\"core-js/modules/es.string.includes.js\";import*as React from'react';import MenuItem from'../menu-item/menu-item';export default class Menu extends React.Component{constructor(props){super(props);this.target=/*#__PURE__*/React.createRef();this.handleDocumentClick=this.handleDocumentClick.bind(this);this._onKeyDown=this._onKeyDown.bind(this);this._onKeyUp=this._onKeyUp.bind(this);}componentDidMount(){['click','touchstart'].forEach(event=>{window&&window.addEventListener(event,this.handleDocumentClick,true);});}componentWillUnmount(){['click','touchstart'].forEach(event=>{window&&window.removeEventListener(event,this.handleDocumentClick,true);});}getMenuWidth(){return this.target.current.offsetWidth;}shouldComponentUpdate(nextProps){let shouldRender=false;if(nextProps.playerMenu!==this.props.playerMenu){shouldRender=true;}return shouldRender;}render(){const{className,style}=this.props;const menuItems=this.props.playerMenu.items;const count=menuItems.length;return/*#__PURE__*/React.createElement(\"div\",{className:className,style:style,ref:this.target,\"data-category\":this.props.playerMenu.category},/*#__PURE__*/React.createElement(\"ul\",{role:'menu',className:\"\".concat(className,\"__list\"),onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp},menuItems.map((menuItem,index)=>{return/*#__PURE__*/React.createElement(MenuItem,Object.assign({id:menuItem.id,key:index,label:menuItem.label,className:\"\".concat(className,\"__menuitem\"),language:menuItem.language,data:menuItem.data,isBackButton:menuItem.isBackButton,image:menuItem.image,imageAlt:menuItem.imageAlt,itemCount:count,itemIndex:index,glyph:menuItem.glyph,selected:menuItem.selected,selectable:menuItem.selectable,persistOnClick:menuItem.persistOnClick},menuItem.id.includes('cc-preset')?{}:{ariaLabel:menuItem.ariaLabel},{subMenu:menuItem.subMenu,hasMouseHoverEvents:menuItem.hasMouseHoverEvents,hasChildren:menuItem.subMenu!==undefined&&menuItem.subMenu.items&&menuItem.subMenu.items.length>0?true:false,onClick:this.props.onMenuItemClick,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,hasFocus:menuItem.hasFocus}));})));}handleDocumentClick(e){const target=e.target;if(this.target!==undefined&&!(this.target.current!==null&&(e.target===this.target.current||this.target.current.contains(target)))){this.props.onDocumentClick(e);}}_onKeyDown(event){this.props.onKeyDown(event);}_onKeyUp(event){this.props.onKeyUp(event);}}","map":{"version":3,"sources":["videoplayer/components/menu/menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport MenuItem from '../menu-item/menu-item';\nimport { IMenuItemProps } from '../menu-item/menu-itemProps';\nimport { IMenuProps } from './menuProps';\n\n/**\n *\n * Menu React component for video player\n *\n */\nexport default class Menu extends React.Component<IMenuProps> {\n    private target: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n\n    constructor(props: IMenuProps) {\n        super(props);\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n    }\n\n    public componentDidMount(): void {\n        ['click', 'touchstart'].forEach((event: string) => {\n           window && window.addEventListener(event, this.handleDocumentClick, true);\n        });\n    }\n\n    public componentWillUnmount(): void {\n        ['click', 'touchstart'].forEach((event: string) => {\n           window && window.removeEventListener(event, this.handleDocumentClick, true);\n        });\n    }\n\n    public getMenuWidth(): number {\n        return this.target.current!.offsetWidth;\n    }\n\n    public shouldComponentUpdate(nextProps: IMenuProps): boolean {\n        let shouldRender = false;\n        if(nextProps.playerMenu !== this.props.playerMenu) {\n            shouldRender = true;\n        }\n        return shouldRender;\n    }\n\n    public render(): JSX.Element {\n        const {className, style } = this.props;\n        const menuItems: IMenuItemProps[] = this.props.playerMenu.items;\n        const count: number = menuItems.length;\n        return (\n            <div className={className} style={style} ref={this.target} data-category={this.props.playerMenu.category}>\n                <ul role='menu' className={`${className}__list`} onKeyDown={this._onKeyDown} onKeyUp={this._onKeyUp} >\n                    {menuItems.map (\n                        (menuItem: IMenuItemProps, index: number) => {\n                            return (\n                                <MenuItem\n                                    id={menuItem.id}\n                                    key={index}\n                                    label={menuItem.label}\n                                    className={`${className}__menuitem`}\n                                    language={menuItem.language}\n                                    data={menuItem.data}\n                                    isBackButton={menuItem.isBackButton}\n                                    image={menuItem.image}\n                                    imageAlt={menuItem.imageAlt}\n                                    itemCount={count}\n                                    itemIndex={index}\n                                    glyph={menuItem.glyph}\n                                    selected={menuItem.selected}\n                                    selectable={menuItem.selectable}\n                                    persistOnClick={menuItem.persistOnClick}\n                                    {...(menuItem.id.includes('cc-preset')) ? {}:{ariaLabel:menuItem.ariaLabel}}\n                                    subMenu={menuItem.subMenu}\n                                    hasMouseHoverEvents={menuItem.hasMouseHoverEvents}\n                                    hasChildren={menuItem.subMenu !== undefined && menuItem.subMenu.items && menuItem.subMenu.items.length > 0 ? true : false}\n                                    onClick={this.props.onMenuItemClick}\n                                    onFocus={this.props.onFocus}\n                                    onBlur={this.props.onBlur}\n                                    onKeyDown={this.props.onKeyDown}\n                                    onKeyUp={this.props.onKeyUp}\n                                    onMouseOver={this.props.onMouseOver}\n                                    onMouseOut={this.props.onMouseOut}\n                                    hasFocus={menuItem.hasFocus}\n                                />\n                            );}\n                        )\n                    }\n                </ul>\n            </div>\n        );\n    }\n\n    public handleDocumentClick(e: Event): void {\n        const target = e.target as HTMLElement;\n        if (this.target !== undefined && !(this.target.current !== null && (e.target === this.target.current || this.target.current.contains(target)))) {\n            this.props.onDocumentClick(e);\n        }\n    }\n\n    private _onKeyDown(event: React.KeyboardEvent<HTMLUListElement>): void {\n        this.props.onKeyDown!(event as unknown as Event);\n    }\n\n    private _onKeyUp(event: React.KeyboardEvent<HTMLUListElement>): void {\n        this.props.onKeyUp!(event as unknown as Event);\n    }\n\n}\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}