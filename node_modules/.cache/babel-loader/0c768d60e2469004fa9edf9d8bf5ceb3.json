{"ast":null,"code":"import{getFallbackImageUrl}from'@msdyn365-commerce-modules/retail-actions';import{Image}from'@msdyn365-commerce/core';import classNames from'classnames';import*as React from'react';export const OrderTemplateProductsPreviewComponent=props=>{const{products,className,imageSettings}=props;return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__products\")},renderOrderTemplateImages(props.context,\"\".concat(className,\"__products\"),products,imageSettings));};const renderOrderTemplateImage=(context,className,product,imageSettings)=>{const defaultImageSettings={viewports:{xs:{q:\"w=140&h=140&m=6\",w:0,h:0},lg:{q:\"w=140&h=140&m=6\",w:0,h:0},xl:{q:\"w=140&h=140&m=6\",w:0,h:0}},lazyload:true};return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__image-props\")},/*#__PURE__*/React.createElement(Image,{src:product.ProductDetails.PrimaryImageUrl||'',fallBackSrc:getFallbackImageUrl(product.ProductDetails.ItemId,context.actionContext.requestContext.apiSettings)||'',gridSettings:context.request.gridSettings,imageSettings:imageSettings||defaultImageSettings,loadFailureBehavior:'empty'}));};const renderOrderTemplateImages=(context,className,products,imageSettings)=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__image-container\")},/*#__PURE__*/React.createElement(\"div\",{className:'row'},/*#__PURE__*/React.createElement(\"div\",{className:classNames(classNames,'column')},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__image-props\")},products.length>0&&renderOrderTemplateImage(context,className,products[0],imageSettings))),/*#__PURE__*/React.createElement(\"div\",{className:classNames(classNames,'column')},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__image-props\")},products.length>1&&renderOrderTemplateImage(context,className,products[1],imageSettings)))),/*#__PURE__*/React.createElement(\"div\",{className:'row'},/*#__PURE__*/React.createElement(\"div\",{className:classNames(classNames,'column')},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__image-props\")},products.length>2&&renderOrderTemplateImage(context,className,products[2],imageSettings))),/*#__PURE__*/React.createElement(\"div\",{className:classNames(classNames,'column')},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(className,\"__image-props\")},products.length>3&&renderOrderTemplateImage(context,className,products[3],imageSettings)))));};","map":{"version":3,"sources":["order-template/order-templates-list/order-template-products-preview.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getFallbackImageUrl } from '@msdyn365-commerce-modules/retail-actions';\nimport { FullProduct } from '@msdyn365-commerce/commerce-entities';\nimport { ICoreContext, IImageSettings, Image } from '@msdyn365-commerce/core';\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface IOrderTemplateProductsPreviewComponentProps {\n    className: string;\n    products: FullProduct[];\n    context: ICoreContext;\n    imageSettings?: IImageSettings;\n}\n\nexport const OrderTemplateProductsPreviewComponent = (props: IOrderTemplateProductsPreviewComponentProps) => {\n    const { products, className, imageSettings } = props;\n\n    return (\n        <div className={`${className}__products`}>\n            {renderOrderTemplateImages(props.context, `${className}__products`, products, imageSettings)}\n        </div>\n    );\n};\n\nconst renderOrderTemplateImage = (\n    context: ICoreContext, className: string, product: FullProduct, imageSettings?: IImageSettings) => {\n    const defaultImageSettings: IImageSettings = {\n        viewports: {\n            xs: { q: `w=140&h=140&m=6`, w: 0, h: 0 },\n            lg: { q: `w=140&h=140&m=6`, w: 0, h: 0 },\n            xl: { q: `w=140&h=140&m=6`, w: 0, h: 0 }\n        },\n        lazyload: true\n    };\n    return (\n        <div className={`${className}__image-props`}>\n            <Image\n                src={product.ProductDetails.PrimaryImageUrl || ''}\n                fallBackSrc = {\n                    getFallbackImageUrl(product.ProductDetails.ItemId, context.actionContext.requestContext.apiSettings) || ''\n                }\n                gridSettings={context.request.gridSettings!}\n                imageSettings={imageSettings || defaultImageSettings}\n                loadFailureBehavior='empty'\n            />\n        </div>\n    );\n};\n\nconst renderOrderTemplateImages = (\n    context: ICoreContext, className: string, products: FullProduct[], imageSettings?: IImageSettings): JSX.Element | null => {\n    return (\n        <div className={`${className}__image-container`}>\n            <div className='row'>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 0 && renderOrderTemplateImage(context, className, products[0], imageSettings)\n                        }\n                    </div>\n                </div>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 1 && renderOrderTemplateImage(context, className, products[1], imageSettings)\n                        }\n                    </div>\n                </div>\n            </div>\n            <div className='row'>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 2 && renderOrderTemplateImage(context, className, products[2], imageSettings)\n                        }\n                    </div>\n                </div>\n                <div className={classNames(classNames, 'column')}>\n                    <div className={`${className}__image-props`}>\n                        {\n                            products.length > 3 && renderOrderTemplateImage(context, className, products[3], imageSettings)\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}