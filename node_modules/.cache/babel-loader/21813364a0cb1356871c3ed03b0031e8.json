{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var tslib_1=require(\"tslib\");var classnames_1=tslib_1.__importDefault(require(\"classnames\"));var React=tslib_1.__importStar(require(\"react\"));var __1=require(\"..\");var utilities_1=require(\"../common/utilities\");var PaginationItem_1=tslib_1.__importDefault(require(\"./PaginationItem\"));var PaginationLink_1=tslib_1.__importDefault(require(\"./PaginationLink\"));var UncontrolledPagination=function(_super){tslib_1.__extends(UncontrolledPagination,_super);function UncontrolledPagination(props){var _this=_super.call(this,props)||this;_this.activePage=0;_this.maxPages=_this.props.items?Math.ceil(_this.props.items/_this.props.itemsPerPage):0;_this.activePage=Math.floor((_this.props.startingItem||0)/_this.props.itemsPerPage);_this.qsps={};var splitUrl=_this.props.url.split('?');if(splitUrl[1]){_this.url=splitUrl[0];var secondSplit=splitUrl[1].split('#');_this.hash=secondSplit[1]?\"#\"+secondSplit[1]:'';var parsedQsps=secondSplit[0].split('&');for(var _i=0,parsedQsps_1=parsedQsps;_i<parsedQsps_1.length;_i++){var qsp=parsedQsps_1[_i];var qspPair=qsp.split('=');if(_this.props.qsp!==qspPair[0]){_this.qsps[qspPair[0]]=qspPair[1];}}}else{var secondSplit=splitUrl[0].split('#');_this.url=secondSplit[0];_this.hash=secondSplit[1]?\"#\"+secondSplit[1]:'';}return _this;}UncontrolledPagination.prototype.render=function(){var _a;var _b=this.props,className=_b.className,baseUrl=_b.baseUrl,qsp=_b.qsp,items=_b.items,itemsPerPage=_b.itemsPerPage,startingItem=_b.startingItem,previousText=_b.previousText,nextText=_b.nextText,previousAriaLabel=_b.previousAriaLabel,nextAriaLabel=_b.nextAriaLabel,listClassName=_b.listClassName,cssModule=_b.cssModule,children=_b.children,size=_b.size,Tag=_b.tag,ListTag=_b.listTag,label=_b[\"aria-label\"],role=_b.role,props=tslib_1.__rest(_b,[\"className\",\"baseUrl\",\"qsp\",\"items\",\"itemsPerPage\",\"startingItem\",\"previousText\",\"nextText\",\"previousAriaLabel\",\"nextAriaLabel\",\"listClassName\",\"cssModule\",\"children\",\"size\",\"tag\",\"listTag\",'aria-label',\"role\"]);this.maxPages=this.props.items?Math.ceil(this.props.items/this.props.itemsPerPage):0;this.activePage=Math.floor((this.props.startingItem||0)/this.props.itemsPerPage);this.qsps={};var splitUrl=this.props.url.split('?');if(splitUrl[1]){this.url=splitUrl[0];var secondSplit=splitUrl[1].split('#');this.hash=secondSplit[1]?\"#\"+secondSplit[1]:'';var parsedQsps=secondSplit[0].split('&');for(var _i=0,parsedQsps_2=parsedQsps;_i<parsedQsps_2.length;_i++){var activeQsp=parsedQsps_2[_i];var qspPair=activeQsp.split('=');if(this.props.qsp!==qspPair[0]){this.qsps[qspPair[0]]=qspPair[1];}}}else{var secondSplit=splitUrl[0].split('#');this.url=secondSplit[0];this.hash=secondSplit[1]?\"#\"+secondSplit[1]:'';}var paginationClasses=utilities_1.mapToCssModules(classnames_1[\"default\"](className),cssModule);var listpaginationClasses=utilities_1.mapToCssModules(classnames_1[\"default\"](listClassName,'msc-pagination',(_a={},_a[\"msc-pagination-\"+size]=!!size,_a)),cssModule);return React.createElement(Tag,{className:paginationClasses,role:'navigation',\"aria-label\":label},React.createElement(ListTag,tslib_1.__assign({},props,{className:listpaginationClasses}),this._generatePageLinks()));};UncontrolledPagination.prototype._generateUrl=function(page){var _this=this;var items=this.props.itemsPerPage*page;var keys=Object.keys(this.qsps);var qspUrl=page>0?\"?\"+this.props.qsp+\"=\"+items:'';keys.forEach(function(key){qspUrl=qspUrl?qspUrl+\"&\"+key+\"=\"+_this.qsps[key]:\"?\"+key+\"=\"+_this.qsps[key];});return this.url+qspUrl+this.hash;};UncontrolledPagination.prototype._generatePaginationArrow=function(next,disable,className){var url=disable?undefined:this._generateUrl(this.activePage+(next?1:-1));var tooltipId=next?this.props.nextId:this.props.prevId;var ariaDescribedBy=next?this.props.nextAreaDescribed:this.props.prevAreaDescribed;var placement=next?'right':'left';var tag=disable?'span':'a';return React.createElement(PaginationItem_1[\"default\"],{disabled:disable,className:className},React.createElement(PaginationLink_1[\"default\"],{id:tooltipId,href:url,next:next,previous:!next,\"aria-describedby\":ariaDescribedBy,tag:tag,role:'link',\"aria-label\":next?this.props.nextAriaLabel:this.props.previousAriaLabel,\"aria-disabled\":disable,telemetryContent:this.props.telemetryContent},next?this.props.nextText:this.props.previousText),tooltipId&&React.createElement(__1.UncontrolledTooltip,{placement:placement,id:ariaDescribedBy,target:tooltipId},next?'next':'previous'));};UncontrolledPagination.prototype._generatePaginationItem=function(page){var active=this.activePage===page;var url=this._generateUrl(page);page=page+1;return React.createElement(PaginationItem_1[\"default\"],{active:active},React.createElement(PaginationLink_1[\"default\"],{href:active?undefined:url,telemetryContent:this.props.telemetryContent},page));};UncontrolledPagination.prototype._generateEllipse=function(){return React.createElement(PaginationItem_1[\"default\"],null,React.createElement(PaginationLink_1[\"default\"],{tag:'span'},\"...\"));};UncontrolledPagination.prototype._generatePageLinks=function(){var displayCountSide=3;var leftDistance=this.activePage;var rightDistance=this.maxPages-this.activePage-1;var leftEllipse=this.maxPages>UncontrolledPagination.pagesDisplayed&&leftDistance>3;var rightEllipse=this.maxPages>UncontrolledPagination.pagesDisplayed&&rightDistance>3;leftDistance=Math.min(leftDistance,displayCountSide);rightDistance=Math.min(rightDistance,displayCountSide);var pages=[];var ellipseOffset=leftEllipse?-1:0;var displayedPagesOnLeft=leftDistance+(displayCountSide-rightDistance)+ellipseOffset;var startingIndex=Math.max(this.activePage-displayedPagesOnLeft,0);var endIndex=Math.min(startingIndex+5+(rightEllipse?0:1)+(leftEllipse?0:1),rightEllipse?this.maxPages-1:this.maxPages);if(leftEllipse){pages.push(this._generatePaginationItem(0));pages.push(this._generateEllipse());}for(var i=startingIndex;i<endIndex;i++){pages.push(this._generatePaginationItem(i));}if(rightEllipse){pages.push(this._generateEllipse());pages.push(this._generatePaginationItem(this.maxPages-1));}return React.createElement(React.Fragment,null,this._generatePaginationArrow(false,this.activePage===0,'previous'),pages,this._generatePaginationArrow(true,this.activePage===this.maxPages-1,'next'));};UncontrolledPagination.defaultProps={tag:'nav',listTag:'ul','aria-label':'pagination',items:0,itemsPerPage:25,startingItem:0};UncontrolledPagination.pagesDisplayed=7;return UncontrolledPagination;}(React.Component);exports[\"default\"]=UncontrolledPagination;","map":{"version":3,"sources":["/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/node_modules/@msdyn365-commerce-modules/utilities/src/pagination/UncontrolledPagination.tsx"],"names":[],"mappings":"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","sourcesContent":["import classNames from 'classnames';\nimport * as React from 'react';\nimport { UncontrolledTooltip } from '..';\nimport { mapToCssModules } from '../common/utilities';\nimport PaginationItem from './PaginationItem';\nimport PaginationLink from './PaginationLink';\nimport { IUncontrolledPaginationProps } from './UncontrolledPagination.props';\n\n/**\n * Uncontrolled Pagination component\n */\nexport default class UncontrolledPagination extends React.Component<IUncontrolledPaginationProps> {\n    public static defaultProps: Partial<IUncontrolledPaginationProps> = {\n        tag: 'nav',\n        listTag: 'ul',\n        'aria-label': 'pagination',\n        items: 0,\n        itemsPerPage: 25,\n        startingItem: 0,\n    };\n\n    private static pagesDisplayed: number = 7;\n    private maxPages: number;\n    private activePage: number = 0;\n    private qsps: { [param: string]: string };\n    private url: string;\n    private hash: string;\n\n    constructor(props: IUncontrolledPaginationProps) {\n        super(props);\n        this.maxPages = this.props.items ? Math.ceil(this.props.items / this.props.itemsPerPage!) : 0;\n        this.activePage = Math.floor((this.props.startingItem || 0) / this.props.itemsPerPage!);\n        this.qsps = {};\n        const splitUrl = this.props.url.split('?');\n\n        if (splitUrl[1]) {\n            this.url = splitUrl[0];\n            const secondSplit = splitUrl[1].split('#');\n            this.hash = secondSplit[1]  ? `#${secondSplit[1]}`: '';\n            const parsedQsps = secondSplit[0].split('&');\n\n            for (const qsp of parsedQsps) {\n                const qspPair = qsp.split('=');\n\n                if (this.props.qsp !== qspPair[0]) {\n                    this.qsps[qspPair[0]] = qspPair[1];\n                }\n            }\n        } else {\n            const secondSplit = splitUrl[0].split('#');\n            this.url = secondSplit[0];\n            this.hash = secondSplit[1] ? `#${secondSplit[1]}`: '';\n        }\n    }\n\n    public render(): JSX.Element {\n        const {\n            className,\n            baseUrl,\n            qsp,\n            items,\n            itemsPerPage,\n            startingItem,\n            previousText,\n            nextText,\n            previousAriaLabel,\n            nextAriaLabel,\n            listClassName,\n            cssModule,\n            children,\n            size,\n            tag: Tag,\n            listTag: ListTag,\n            'aria-label': label,\n            role,\n            ...props\n            // tslint:disable-next-line:no-any\n        }:any = this.props;\n\n        this.maxPages = this.props.items ? Math.ceil(this.props.items / this.props.itemsPerPage!) : 0;\n        this.activePage = Math.floor((this.props.startingItem || 0) / this.props.itemsPerPage!);\n        this.qsps = {};\n        const splitUrl = this.props.url.split('?');\n\n        if (splitUrl[1]) {\n            this.url = splitUrl[0];\n            const secondSplit = splitUrl[1].split('#');\n            this.hash = secondSplit[1]  ? `#${secondSplit[1]}`: '';\n            const parsedQsps = secondSplit[0].split('&');\n\n            for (const activeQsp of parsedQsps) {\n                const qspPair = activeQsp.split('=');\n\n                if (this.props.qsp !== qspPair[0]) {\n                    this.qsps[qspPair[0]] = qspPair[1];\n                }\n            }\n        } else {\n            const secondSplit = splitUrl[0].split('#');\n            this.url = secondSplit[0];\n            this.hash = secondSplit[1] ? `#${secondSplit[1]}`: '';\n        }\n\n        const paginationClasses = mapToCssModules(\n            classNames(\n                className\n            ),\n            cssModule\n        );\n\n        const listpaginationClasses = mapToCssModules(\n            classNames(\n                listClassName,\n                'msc-pagination',\n                {\n                    [`msc-pagination-${size}`]: !!size,\n                }\n            ),\n            cssModule\n        );\n\n        return (\n            <Tag className={paginationClasses} role={'navigation'} aria-label={label}>\n                <ListTag {...props} className={listpaginationClasses}>\n                    {this._generatePageLinks()}\n                </ListTag>\n            </Tag>\n        );\n    }\n\n    private _generateUrl(page: number): string {\n        const items = this.props.itemsPerPage! * page;\n        const keys = Object.keys(this.qsps);\n        let qspUrl = page > 0 ? `?${this.props.qsp}=${items}` : '';\n\n        keys.forEach((key: string) => {\n             qspUrl = qspUrl ? `${qspUrl}&${key}=${this.qsps[key]}` : `?${key}=${this.qsps[key]}`;\n        });\n\n        return this.url + qspUrl + this.hash;\n    }\n\n    private _generatePaginationArrow(next: boolean, disable: boolean, className: string): React.ReactElement<PaginationItem> {\n        const url = disable ? undefined:this._generateUrl(this.activePage + (next ? 1 : -1));\n        const tooltipId=next ? this.props.nextId : this.props.prevId;\n        const ariaDescribedBy= next ?  this.props.nextAreaDescribed : this.props.prevAreaDescribed;\n        const placement=next ? 'right': 'left';\n        const tag = disable ? 'span': 'a';\n\n        return (\n            <PaginationItem disabled = {disable} className = {className}>\n                <PaginationLink\n                    id={tooltipId}\n                    href={url}\n                    next={next}\n                    previous={!next}\n                    aria-describedby={ariaDescribedBy}\n                    tag= {tag}\n                    role='link'\n                    aria-label={next ? this.props.nextAriaLabel : this.props.previousAriaLabel}\n                    aria-disabled={disable}\n                    telemetryContent={this.props.telemetryContent}\n                >\n                {next ? this.props.nextText : this.props.previousText}\n                </PaginationLink>\n                {tooltipId && (\n                 <UncontrolledTooltip placement = {placement} id = {ariaDescribedBy} target = {tooltipId}>\n                 {next ? 'next' : 'previous'}\n                 </UncontrolledTooltip>\n                )}\n            </PaginationItem>\n        );\n    }\n\n    private _generatePaginationItem(page: number): React.ReactElement<PaginationItem> {\n        const active = this.activePage === page;\n        const url = this._generateUrl(page);\n        page = page + 1;\n\n        return (\n            <PaginationItem active={active} >\n                <PaginationLink href={active ? undefined : url} telemetryContent={this.props.telemetryContent}>\n                    {page}\n                </PaginationLink>\n            </PaginationItem>\n        );\n    }\n\n    private _generateEllipse(): React.ReactElement<PaginationItem> {\n        return (\n            <PaginationItem>\n                <PaginationLink tag='span'>\n                    ...\n                </PaginationLink>\n            </PaginationItem>\n        );\n    }\n\n    private _generatePageLinks(): React.ReactFragment {\n        const displayCountSide = 3;\n        let leftDistance = this.activePage;\n        let rightDistance = this.maxPages - this.activePage - 1;\n        const leftEllipse = this.maxPages > UncontrolledPagination.pagesDisplayed &&  leftDistance > 3;\n        const rightEllipse = this.maxPages > UncontrolledPagination.pagesDisplayed && rightDistance > 3;\n\n        leftDistance = Math.min(leftDistance, displayCountSide);\n        rightDistance = Math.min(rightDistance, displayCountSide);\n        const  pages = [];\n        const ellipseOffset = leftEllipse ? -1 : 0;\n        const displayedPagesOnLeft = leftDistance + (displayCountSide - rightDistance) + ellipseOffset;\n        const startingIndex = Math.max(this.activePage -  displayedPagesOnLeft, 0);\n        const endIndex = Math.min((startingIndex + 5 + (rightEllipse ? 0 : 1) + (leftEllipse ? 0 : 1)),\n                                  (rightEllipse ? this.maxPages - 1: this.maxPages));\n\n        if (leftEllipse) {\n            pages.push(this._generatePaginationItem(0));\n            pages.push(this._generateEllipse());\n        }\n\n        for (let i = startingIndex; i < endIndex; i++) {\n            pages.push(this._generatePaginationItem(i));\n        }\n\n        if (rightEllipse) {\n            pages.push(this._generateEllipse());\n            pages.push(this._generatePaginationItem(this.maxPages -1));\n        }\n\n        return (\n            <React.Fragment>\n                {  this._generatePaginationArrow(false, (this.activePage === 0), 'previous') }\n                {pages}\n                {  this._generatePaginationArrow(true, (this.activePage === this.maxPages -1), 'next') }\n            </React.Fragment>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"script"}