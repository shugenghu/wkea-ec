{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import\"core-js/modules/es.string.search.js\";import classnames from'classnames';import*as React from'react';import{Collapse,Drawer,Module,Node}from'@msdyn365-commerce-modules/utilities';const headerView=props=>{const{HeaderTag,HeaderContainer,HeaderTopBarContainer,Divider}=props;return/*#__PURE__*/React.createElement(Module,Object.assign({},HeaderTag),/*#__PURE__*/React.createElement(Node,Object.assign({},HeaderContainer),/*#__PURE__*/React.createElement(Node,Object.assign({},HeaderTopBarContainer),props.navIcon,props.logo,_renderReactFragment(props.search),_renderAccountBlock(props,false),props.wishListIconDesktop,/*#__PURE__*/React.createElement(Node,Object.assign({},Divider)),props.cartIcon,_renderReactFragment(props.siteOptions)),_renderCollapseMenu(props),/*#__PURE__*/React.createElement(Node,{className:'ms-header__desktop-view'},_renderReactFragment(props.menuBar))));};function _renderCollapseMenu(props){const{Divider,MobileMenuLinksContainer,mobileMenuCollapsed}=props;return/*#__PURE__*/React.createElement(Collapse,{className:'ms-header__collapsible-hamburger',isOpen:!mobileMenuCollapsed},/*#__PURE__*/React.createElement(Node,Object.assign({},MobileMenuLinksContainer),_renderReactFragment(props.search),_renderMobileAccountBlock(props,true),props.wishListIconMobile),/*#__PURE__*/React.createElement(Node,Object.assign({},Divider)),_renderReactFragment(props.menuBar));}const renderCustomerName=accountInformation=>{const customer=accountInformation&&accountInformation.result;return/*#__PURE__*/React.createElement(React.Fragment,null,customer?customer.FirstName||customer.Name:'');};function _renderMobileAccountBlock(props,renderForMobile){const{AccountInfoDropdownParentContainer,signOutLink,signInLink,data,accountLinks}=props;if(AccountInfoDropdownParentContainer){const accountClassName=classnames('ms-header__drawer',AccountInfoDropdownParentContainer.className,renderForMobile?'account-mobile':'account-desktop');if(accountLinks){return/*#__PURE__*/React.createElement(Drawer,{className:accountClassName,openGlyph:'ms-header__drawer-open',closeGlyph:'ms-header__drawer-close',glyphPlacement:'end',toggleButtonText:renderCustomerName(data.accountInformation)},/*#__PURE__*/React.createElement(\"div\",null,accountLinks?accountLinks.map(link=>link):false,signOutLink));}else if(signInLink){return/*#__PURE__*/React.createElement(Node,Object.assign({},AccountInfoDropdownParentContainer,{className:accountClassName}),signInLink);}}return null;}function _renderAccountBlock(props,renderForMobile){const{AccountInfoDropdownParentContainer,AccountInfoDropdownPopoverConentContainer,accountInfoDropdownButton,signOutLink,signInLink,accountLinks}=props;if(AccountInfoDropdownParentContainer){const accountClassName=classnames(AccountInfoDropdownParentContainer.className,renderForMobile?'account-mobile':'account-desktop');if(AccountInfoDropdownPopoverConentContainer){return/*#__PURE__*/React.createElement(Node,Object.assign({},AccountInfoDropdownParentContainer,{className:accountClassName}),accountInfoDropdownButton,/*#__PURE__*/React.createElement(Node,Object.assign({},AccountInfoDropdownPopoverConentContainer),accountLinks?accountLinks.map(link=>link):false,signOutLink));}else if(signInLink){return/*#__PURE__*/React.createElement(Node,Object.assign({},AccountInfoDropdownParentContainer,{className:accountClassName}),signInLink);}}return null;}function _renderReactFragment(items){return/*#__PURE__*/React.createElement(React.Fragment,null,items&&items.length?items.map((slot,index)=>{return/*#__PURE__*/React.createElement(React.Fragment,{key:index},slot);}):null);}export default headerView;","map":{"version":3,"sources":["modules/fabrikam/views/header.view.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport classnames from 'classnames';\nimport * as React from 'react';\n\nimport { IHeaderViewProps } from '@msdyn365-commerce-modules/header';\nimport { Collapse, Drawer, Module, Node } from '@msdyn365-commerce-modules/utilities';\nimport { AsyncResult } from '@msdyn365-commerce/core';\nimport { Customer } from '@msdyn365-commerce/retail-proxy';\n\nconst headerView: React.FC<IHeaderViewProps> = props => {\n    const {\n        HeaderTag,\n        HeaderContainer,\n        HeaderTopBarContainer,\n        Divider,\n    } = props;\n    return (\n        <Module {...HeaderTag}>\n            <Node {...HeaderContainer}>\n                <Node {...HeaderTopBarContainer}>\n                    {props.navIcon}\n                    {props.logo}\n                    {_renderReactFragment(props.search)}\n                    {_renderAccountBlock(props, false)}\n                    {props.wishListIconDesktop}\n                    <Node {...Divider}/>\n                    {props.cartIcon}\n                    {_renderReactFragment(props.siteOptions)}\n                </Node>\n                {_renderCollapseMenu(props)}\n                <Node className={'ms-header__desktop-view'}>\n                    {_renderReactFragment(props.menuBar)}\n                </Node>\n            </Node>\n        </Module>\n    );\n};\n\nfunction _renderCollapseMenu(props: IHeaderViewProps): JSX.Element | null {\n    const {Divider, MobileMenuLinksContainer, mobileMenuCollapsed} = props;\n    return (\n        <Collapse className={'ms-header__collapsible-hamburger'} isOpen={!mobileMenuCollapsed}>\n            <Node {...MobileMenuLinksContainer}>\n                {_renderReactFragment(props.search)}\n                {_renderMobileAccountBlock(props, true)}\n                { props.wishListIconMobile }\n            </Node>\n            <Node {...Divider}/>\n            {_renderReactFragment(props.menuBar)}\n        </Collapse>\n    );\n}\nconst renderCustomerName = (accountInformation: AsyncResult<Customer>): React.ReactChild => {\n    const customer = accountInformation && accountInformation.result;\n    return (\n        <>{customer ? customer.FirstName || customer.Name : ''}</>\n    );\n};\n\nfunction _renderMobileAccountBlock(props: IHeaderViewProps, renderForMobile: boolean): JSX.Element | null {\n    const {\n        AccountInfoDropdownParentContainer,\n        signOutLink,\n        signInLink,\n        data,\n        accountLinks} = props;\n\n    if (AccountInfoDropdownParentContainer) {\n        const accountClassName = classnames('ms-header__drawer', AccountInfoDropdownParentContainer.className, renderForMobile ? 'account-mobile' : 'account-desktop');\n\n        if (accountLinks) {\n            return (\n                <Drawer className={accountClassName} openGlyph='ms-header__drawer-open' closeGlyph='ms-header__drawer-close' glyphPlacement='end' toggleButtonText={renderCustomerName(data.accountInformation)}>\n                    <div>\n                        { accountLinks ? accountLinks.map((link: React.ReactNode) => link) : false }\n                        {signOutLink}\n                    </div>\n                </Drawer>\n            );\n        } else if (signInLink) {\n            return (\n                <Node {...AccountInfoDropdownParentContainer} className={accountClassName}>\n                    {signInLink}\n                </Node>\n            );\n        }\n    }\n    return null;\n}\n\nfunction _renderAccountBlock(props: IHeaderViewProps, renderForMobile: boolean): JSX.Element | null {\n    const {\n        AccountInfoDropdownParentContainer,\n        AccountInfoDropdownPopoverConentContainer,\n        accountInfoDropdownButton,\n        signOutLink,\n        signInLink,\n        accountLinks,\n    } = props;\n\n    if (AccountInfoDropdownParentContainer) {\n        const accountClassName = classnames(AccountInfoDropdownParentContainer.className, renderForMobile ? 'account-mobile' : 'account-desktop');\n        if (AccountInfoDropdownPopoverConentContainer) {\n            return (\n                <Node {...AccountInfoDropdownParentContainer} className={accountClassName}>\n                    {accountInfoDropdownButton}\n                    <Node {...AccountInfoDropdownPopoverConentContainer}>\n                        { accountLinks ? accountLinks.map((link: React.ReactNode) => link) : false }\n                        {signOutLink}\n                    </Node>\n                </Node>\n            );\n        } else if (signInLink) {\n            return (\n                <Node {...AccountInfoDropdownParentContainer} className={accountClassName}>\n                    {signInLink}\n                </Node>\n            );\n        }\n    }\n\n    return null;\n}\n\nfunction _renderReactFragment(items: React.ReactNode[]): JSX.Element | null {\n    return (\n        <React.Fragment>\n            {items && items.length\n                ? items.map((slot: React.ReactNode, index: number) => {\n                      return <React.Fragment key={index}>{slot}</React.Fragment>;\n                  })\n                : null}\n        </React.Fragment>\n    );\n}\n\nexport default headerView;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}