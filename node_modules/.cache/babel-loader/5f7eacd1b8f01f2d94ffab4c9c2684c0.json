{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import classnames from'classnames';import*as React from'react';class SocialShare extends React.PureComponent{constructor(props){super(props);}render(){const{slots}=this.props;if(slots&&slots.socialShareItems.length===0){this.props.context.telemetry.error('No social media is enable for sharing, module wont render');return null;}const isConsentGiven=this.props.context.request&&this.props.context.request.cookies&&this.props.context.request.cookies.isConsentGiven&&this.props.context.request.cookies.isConsentGiven();if(isConsentGiven===false){return null;}const viewprops=_objectSpread(_objectSpread({},this.props),{},{SocialShare:{moduleProps:this.props,className:classnames('ms-social-share',this.props.config.className)},SocialShareList:{'data-title':this.props.config.caption,className:\"ms-social-share-ul \".concat(this.props.config.caption&&'caption',\" \").concat(this.props.config.orientation===\"vertical\"?'vertical':''),tag:'ul'},SocialShareItem:{className:'ms-social-share-li',tag:'li',tabIndex:'0'},SocialShareItemElements:slots&&slots.socialShareItems.length>0&&slots.socialShareItems});return this.props.renderView(viewprops);}}export default SocialShare;","map":{"version":3,"sources":["modules/social-share/social-share.tsx"],"names":[],"mappings":"m2BAMA,MAAO,CAAA,UAAP,KAAuB,YAAvB,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAiBA,KAAM,CAAA,WAAN,QAA0B,CAAA,KAAK,CAAC,aAAoD,CAChF,WAAA,CAAY,KAAZ,CAAwD,CACpD,MAAM,KAAN,EACH,CAEM,MAAM,EAAA,CACT,KAAM,CAAE,KAAF,EAAY,KAAK,KAAvB,CAEA,GAAI,KAAK,EAAI,KAAK,CAAC,gBAAN,CAAuB,MAAvB,GAAkC,CAA/C,CAAkD,CAC9C,KAAK,KAAL,CAAW,OAAX,CAAmB,SAAnB,CAA6B,KAA7B,CAAmC,2DAAnC,EACA,MAAO,KAAP,CACH,CAED,KAAM,CAAA,cAAc,CACpB,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,EACA,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,CAA2B,OAD3B,EAEA,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,CAA2B,OAA3B,CAAmC,cAFnC,EAGA,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,CAA2B,OAA3B,CAAmC,cAAnC,EAJA,CAMA,GAAI,cAAc,GAAK,KAAvB,CAA8B,CAC1B,MAAO,KAAP,CACH,CAED,KAAM,CAAA,SAAS,gCACR,KAAK,KADG,MAEX,WAAW,CAAE,CACT,WAAW,CAAE,KAAK,KADT,CAET,SAAS,CAAE,UAAU,CAAC,iBAAD,CAAoB,KAAK,KAAL,CAAW,MAAX,CAAkB,SAAtC,CAFZ,CAFF,CAMX,eAAe,CAAE,CACb,aAAc,KAAK,KAAL,CAAW,MAAX,CAAkB,OADnB,CAEb,SAAS,8BAAwB,KAAK,KAAL,CAAW,MAAX,CAAkB,OAAlB,EAA6B,SAArD,aAAkE,KAAK,KAAL,CAAW,MAAX,CAAkB,WAAlB,GAA6B,UAA7B,CAAyD,UAAzD,CAAsE,EAAxI,CAFI,CAGb,GAAG,CAAE,IAHQ,CANN,CAWX,eAAe,CAAE,CACb,SAAS,CAAE,oBADE,CAEb,GAAG,CAAE,IAFQ,CAGb,QAAQ,CAAE,GAHG,CAXN,CAgBX,uBAAuB,CAAE,KAAK,EAAI,KAAK,CAAC,gBAAN,CAAuB,MAAvB,CAAgC,CAAzC,EAA8C,KAAK,CAAC,gBAhBlE,EAAf,CAmBA,MAAO,MAAK,KAAL,CAAW,UAAX,CAAsB,SAAtB,CAAP,CACH,CA3C+E,CA8CpF,cAAe,CAAA,WAAf","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IModuleProps, INodeProps } from '@msdyn365-commerce-modules/utilities';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { ISocialShareConfig, ISocialShareProps, orientation } from './social-share.props.autogenerated';\n\nexport interface ISocialShareViewProps extends ISocialShareProps<ISocialShareConfig> {\n    isConsentGiven: boolean;\n    SocialShareItemElements: React.ReactNode[];\n    SocialShare: IModuleProps;\n    SocialShareList: INodeProps;\n    SocialShareItem: INodeProps;\n    SocialShareItemCustomization: INodeProps;\n}\n\n/**\n *\n * SocialShare component\n * @extends {React.PureComponent<ISocialShareProps<ISocialShareConfig>>}\n */\nclass SocialShare extends React.PureComponent<ISocialShareProps<ISocialShareConfig>> {\n    constructor(props: ISocialShareProps<ISocialShareConfig>) {\n        super(props);\n    }\n\n    public render(): JSX.Element | null {\n        const { slots } = this.props;\n\n        if (slots && slots.socialShareItems.length === 0) {\n            this.props.context.telemetry.error('No social media is enable for sharing, module wont render');\n            return null;\n        }\n\n        const isConsentGiven =\n        this.props.context.request &&\n        this.props.context.request.cookies &&\n        this.props.context.request.cookies.isConsentGiven &&\n        this.props.context.request.cookies.isConsentGiven();\n\n        if (isConsentGiven === false) {\n            return null;\n        }\n\n        const viewprops = {\n            ...this.props,\n            SocialShare: {\n                moduleProps: this.props,\n                className: classnames('ms-social-share', this.props.config.className)\n            },\n            SocialShareList: {\n                'data-title': this.props.config.caption,\n                className: `ms-social-share-ul ${this.props.config.caption && 'caption'} ${this.props.config.orientation === orientation.vertical ? 'vertical' : ''}`,\n                tag: 'ul'\n            },\n            SocialShareItem: {\n                className: 'ms-social-share-li',\n                tag: 'li',\n                tabIndex: '0'\n            },\n            SocialShareItemElements: slots && slots.socialShareItems.length > 0 && slots.socialShareItems\n        };\n\n        return this.props.renderView(viewprops) as React.ReactElement;\n    }\n}\n\nexport default SocialShare;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}