{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import{Button,getPayloadObject,getTelemetryAttributes}from'@msdyn365-commerce-modules/utilities';import{TelemetryEvent}from'@msdyn365-commerce/core';import classnames from'classnames';import React,{useState}from'react';var CheckoutPlaceOrderButton=function CheckoutPlaceOrderButton(_ref){var placeOrderText=_ref.placeOrderText,canPlaceOrder=_ref.canPlaceOrder,placeOrder=_ref.placeOrder,telemetryContent=_ref.telemetryContent;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isBusy=_useState2[0],setIsBusy=_useState2[1];var payload=getPayloadObject(TelemetryEvent.Purchase,telemetryContent,placeOrderText,'');var attributes=getTelemetryAttributes(telemetryContent,payload);var onPlaceOrder=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(isBusy||!canPlaceOrder)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:setIsBusy(true);_context.next=5;return placeOrder();case 5:setIsBusy(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function onPlaceOrder(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Button,Object.assign({className:classnames('ms-checkout__btn-place-order',{'is-busy':isBusy}),color:'primary',onClick:onPlaceOrder,title:placeOrderText},attributes,{disabled:!canPlaceOrder}),placeOrderText);};export default CheckoutPlaceOrderButton;","map":{"version":3,"sources":["modules/checkout/components/place-order-button.tsx"],"names":[],"mappings":"4MAIA,OAAS,MAAT,CAAiB,gBAAjB,CAAmC,sBAAnC,KAAoF,sCAApF,CACA,OAAS,cAAT,KAA+B,yBAA/B,CACA,MAAO,CAAA,UAAP,KAAuB,YAAvB,CACA,MAAO,CAAA,KAAP,EAAgB,QAAhB,KAAgC,OAAhC,CASA,GAAM,CAAA,wBAAwB,CAA6C,QAArE,CAAA,wBAAqE,MAAoE,IAAjE,CAAA,cAAiE,MAAjE,cAAiE,CAAjD,aAAiD,MAAjD,aAAiD,CAAlC,UAAkC,MAAlC,UAAkC,CAAtB,gBAAsB,MAAtB,gBAAsB,eAC/G,QAAQ,CAAC,KAAD,CADuG,wCACpI,MADoI,eAC5H,SAD4H,eAE3I,GAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,cAAc,CAAC,QAAhB,CAA0B,gBAA1B,CAA6C,cAA7C,CAA6D,EAA7D,CAAhC,CACA,GAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,gBAAD,CAAoB,OAApB,CAAzC,CACA,GAAM,CAAA,YAAY,2FAAG,wIACb,MAAM,EAAI,CAAC,aADE,kEAIjB,SAAS,CAAC,IAAD,CAAT,CAJiB,sBAKX,CAAA,UAAU,EALC,QAMjB,SAAS,CAAC,KAAD,CAAT,CANiB,sDAAH,kBAAZ,CAAA,YAAY,2CAAlB,CAQA,mBACI,KAAA,CAAA,aAAA,CAAC,MAAD,CAAO,MAAA,CAAA,MAAA,CAAA,CACH,SAAS,CAAE,UAAU,CAAC,8BAAD,CAAiC,CAAE,UAAW,MAAb,CAAjC,CADlB,CAEH,KAAK,CAAC,SAFH,CAGH,OAAO,CAAE,YAHN,CAIH,KAAK,CAAE,cAJJ,CAAA,CAKC,UALD,CAKW,CACd,QAAQ,CAAE,CAAC,aADG,CALX,CAAP,CAQK,cARL,CADJ,CAYH,CAxBD,CA0BA,cAAe,CAAA,wBAAf","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/ //\nimport { Button, getPayloadObject, getTelemetryAttributes, ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport { TelemetryEvent } from '@msdyn365-commerce/core';\nimport classnames from 'classnames';\nimport React, { useState } from 'react';\n\ninterface ICheckoutPlaceOrderButtonProps {\n    canPlaceOrder: boolean;\n    placeOrderText: string;\n    telemetryContent?: ITelemetryContent;\n    placeOrder(): Promise<void>;\n}\n\nconst CheckoutPlaceOrderButton: React.FC<ICheckoutPlaceOrderButtonProps> = ({ placeOrderText, canPlaceOrder, placeOrder, telemetryContent }) => {\n    const [isBusy, setIsBusy] = useState(false);\n    const payload = getPayloadObject(TelemetryEvent.Purchase, telemetryContent!, placeOrderText, '');\n    const attributes = getTelemetryAttributes(telemetryContent!, payload);\n    const onPlaceOrder = async () => {\n        if (isBusy || !canPlaceOrder) {\n            return;\n        }\n        setIsBusy(true);\n        await placeOrder();\n        setIsBusy(false);\n    };\n    return (\n        <Button\n            className={classnames('ms-checkout__btn-place-order', { 'is-busy': isBusy })}\n            color='primary'\n            onClick={onPlaceOrder}\n            title={placeOrderText}\n            {...attributes}\n            disabled={!canPlaceOrder}\n        >\n            {placeOrderText}\n        </Button>\n    );\n};\n\nexport default CheckoutPlaceOrderButton;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}