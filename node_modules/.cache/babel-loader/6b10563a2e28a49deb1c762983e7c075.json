{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{Button,getPayloadObject,getTelemetryAttributes,onTelemetryClick,UncontrolledTooltip}from'@msdyn365-commerce-modules/utilities';import{getUrlSync,msdyn365Commerce}from'@msdyn365-commerce/core';import classname from'classnames';import*as React from'react';var WishlistIconComponentActions={};var WishlistIcon=function WishlistIcon(props){var wishlistIconRef=/*#__PURE__*/React.createRef();var text=props.wishlistTooltipText;var showButtonIconTooltip=props.showButtonTooltip;var wishlistUrl=getUrlSync('wishlist',props.context.actionContext);var signInUrl=\"\".concat(props.context.request.user.signInUrl,\"?ru=\").concat(wishlistUrl);var url=props.context.request.user.isAuthenticated?wishlistUrl:signInUrl;var showTooltip=showButtonIconTooltip!==undefined?showButtonIconTooltip:true;var payLoad=getPayloadObject('click',props.telemetryContent,text,'');var attributes=getTelemetryAttributes(props.telemetryContent,payLoad);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,Object.assign({className:classname('msc-wishlist-icon',props.className),href:url,\"aria-label\":text,innerRef:wishlistIconRef},attributes,{onClick:onTelemetryClick(props.telemetryContent,payLoad,text)}),/*#__PURE__*/React.createElement(\"span\",{className:'msc-wishlist-icon__text'},text)),showTooltip&&/*#__PURE__*/React.createElement(UncontrolledTooltip,{trigger:'hover focus',target:wishlistIconRef},text));};export var WishListIconComponent=msdyn365Commerce.createComponent('WishListIcon',_objectSpread({component:WishlistIcon},WishlistIconComponentActions));","map":{"version":3,"sources":["wishlist-icon/wishlist-icon.component.tsx"],"names":[],"mappings":"m2BAKA,OAAS,MAAT,CAAiB,gBAAjB,CAAmC,sBAAnC,CAA8E,gBAA9E,CAAgG,mBAAhG,KAA2H,sCAA3H,CACA,OAAS,UAAT,CAAkD,gBAAlD,KAA0E,yBAA1E,CACA,MAAO,CAAA,SAAP,KAAsB,YAAtB,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAYA,GAAM,CAAA,4BAA4B,CAAG,EAArC,CAQA,GAAM,CAAA,YAAY,CAA0C,QAAtD,CAAA,YAAsD,CAAC,KAAD,CAAuC,CAC/F,GAAM,CAAA,eAAe,cAAuC,KAAK,CAAC,SAAN,EAA5D,CACA,GAAM,CAAA,IAAI,CAAG,KAAK,CAAC,mBAAnB,CACA,GAAM,CAAA,qBAAqB,CAAI,KAAK,CAAC,iBAArC,CACA,GAAM,CAAA,WAAW,CAAG,UAAU,CAAC,UAAD,CAAa,KAAK,CAAC,OAAN,CAAc,aAA3B,CAA9B,CACA,GAAM,CAAA,SAAS,WAAM,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,IAAtB,CAA2B,SAAjC,gBAAiD,WAAjD,CAAf,CACA,GAAM,CAAA,GAAG,CAAG,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,IAAtB,CAA2B,eAA3B,CAA6C,WAA7C,CAA2D,SAAvE,CACA,GAAM,CAAA,WAAW,CAAG,qBAAqB,GAAK,SAA1B,CAAsC,qBAAtC,CAA6D,IAAjF,CAGA,GAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,OAAD,CAAU,KAAK,CAAC,gBAAhB,CAAmC,IAAnC,CAA0C,EAA1C,CAAhC,CACA,GAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,KAAK,CAAC,gBAAP,CAA0B,OAA1B,CAAzC,CAEA,mBACI,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,cACA,KAAA,CAAA,aAAA,CAAC,MAAD,CAAO,MAAA,CAAA,MAAA,CAAA,CACH,SAAS,CAAE,SAAS,CAAC,mBAAD,CAAsB,KAAK,CAAC,SAA5B,CADjB,CAEH,IAAI,CAAE,GAFH,CAEM,aACG,IAHT,CAIH,QAAQ,CAAE,eAJP,CAAA,CAKC,UALD,CAKW,CACd,OAAO,CAAE,gBAAgB,CAAC,KAAK,CAAC,gBAAP,CAA0B,OAA1B,CAAmC,IAAnC,CADX,CALX,CAAP,cAQI,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAM,SAAS,CAAC,yBAAhB,CAAA,CAA2C,IAA3C,CARJ,CADA,CAWG,WAAW,eAAI,KAAA,CAAA,aAAA,CAAC,mBAAD,CAAoB,CAAC,OAAO,CAAE,aAAV,CAAyB,MAAM,CAAE,eAAjC,CAApB,CAAuE,IAAvE,CAXlB,CADJ,CAeH,CA5BD,CA+BA,MAAO,IAAM,CAAA,qBAAqB,CAAyD,gBAAgB,CAAC,eAAjB,CACvF,cADuF,gBAErF,SAAS,CAAE,YAF0E,EAEzD,4BAFyD,EAApF","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Button, getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick, UncontrolledTooltip } from '@msdyn365-commerce-modules/utilities';\nimport { getUrlSync, IComponent, IComponentProps, msdyn365Commerce } from '@msdyn365-commerce/core';\nimport classname from 'classnames';\nimport * as React from 'react';\n\nexport interface IWishlistIconComponentProps extends IComponentProps<{}> {\n    className?: string;\n    wishlistTooltipText: string;\n    showButtonTooltip?: boolean;\n    telemetryContent?: ITelemetryContent;\n}\n\nexport interface IWishlistIconComponent extends IComponent<IWishlistIconComponentProps> {\n}\n\nconst WishlistIconComponentActions = {\n};\n\n/**\n *\n * WishlistIcon component\n * @extends {React.PureComponent<IWishlistIconProps>}\n */\nconst WishlistIcon: React.FC<IWishlistIconComponentProps> = (props: IWishlistIconComponentProps) => {\n    const wishlistIconRef: React.RefObject<HTMLButtonElement> = React.createRef();\n    const text = props.wishlistTooltipText;\n    const showButtonIconTooltip  = props.showButtonTooltip;\n    const wishlistUrl = getUrlSync('wishlist', props.context.actionContext);\n    const signInUrl = `${props.context.request.user.signInUrl}?ru=${wishlistUrl}`;\n    const url = props.context.request.user.isAuthenticated ? wishlistUrl : signInUrl;\n    const showTooltip = showButtonIconTooltip !== undefined ? showButtonIconTooltip: true;\n\n    // Construct telemetry attribute to render\n    const payLoad = getPayloadObject('click', props.telemetryContent!, text!, '');\n    const attributes = getTelemetryAttributes(props.telemetryContent!, payLoad);\n\n    return (\n        <>\n        <Button\n            className={classname('msc-wishlist-icon', props.className)}\n            href={url}\n            aria-label={text}\n            innerRef={wishlistIconRef}\n            {...attributes}\n            onClick={onTelemetryClick(props.telemetryContent!, payLoad, text!)}\n        >\n            <span className='msc-wishlist-icon__text'>{text}</span>\n        </Button>\n        {  showTooltip && <UncontrolledTooltip trigger={'hover focus'} target={wishlistIconRef}>{text}</UncontrolledTooltip>}\n        </>\n    );\n};\n\n// @ts-ignore\nexport const WishListIconComponent: React.FunctionComponent<IWishlistIconComponentProps> = msdyn365Commerce.createComponent<IWishlistIconComponent>(\n    'WishListIcon',\n    { component: WishlistIcon, ...WishlistIconComponentActions }\n);\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}