{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{createDataActionHook}from'@msdyn365-commerce/core';import{getProductInfoFromSimpleProduct}from'./telemetry.action.helper';var beforeGetVariantsByDimensionValues=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(inputs){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return function beforeGetVariantsByDimensionValues(_x){return _ref.apply(this,arguments);};}();var afterGetVariantsByDimensionValues=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_inputs,simpleProduct,actionContext){var productInfo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(Array.isArray(simpleProduct)){simpleProduct.forEach(function(product){var productInfo=getProductInfoFromSimpleProduct(product,actionContext.requestContext);actionContext.requestContext.telemetryData[productInfo.productSku]=productInfo;});}else{productInfo=getProductInfoFromSimpleProduct(simpleProduct,actionContext.requestContext);actionContext.requestContext.telemetryData[productInfo.productSku]=productInfo;}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function afterGetVariantsByDimensionValues(_x2,_x3,_x4){return _ref2.apply(this,arguments);};}();createDataActionHook({actionId:'@msdyn365-commerce/retail-proxy/Products/GetVariantsByDimensionValues',postReaderHook:afterGetVariantsByDimensionValues,preReaderHook:beforeGetVariantsByDimensionValues});","map":{"version":3,"sources":["actions/getVariantsByDimensionValues-telemetry.action.ts"],"names":[],"mappings":"uIAAA;;;AAGG,GAEH,OAAS,oBAAT,KAAmE,yBAAnE,CAEA,OAAS,+BAAT,KAAgD,2BAAhD,CAEA,GAAM,CAAA,kCAAkC,0FAAG,iBAAO,MAAP,iKAAH,kBAAlC,CAAA,kCAAkC,4CAAxC,CAIA,GAAM,CAAA,iCAAiC,2FAAG,kBACtC,OADsC,CAEtC,aAFsC,CAGtC,aAHsC,sIAKtC,GAAI,KAAK,CAAC,OAAN,CAAc,aAAd,CAAJ,CAAkC,CAC9B,aAAa,CAAC,OAAd,CAAsB,SAAA,OAAO,CAAG,CAC5B,GAAM,CAAA,WAAW,CAAG,+BAA+B,CAAC,OAAD,CAAU,aAAa,CAAC,cAAxB,CAAnD,CACA,aAAa,CAAC,cAAd,CAA6B,aAA7B,CAA2C,WAAW,CAAC,UAAvD,EAAqE,WAArE,CACH,CAHD,EAIH,CALD,IAKO,CACG,WADH,CACiB,+BAA+B,CAAC,aAAD,CAAgB,aAAa,CAAC,cAA9B,CADhD,CAEH,aAAa,CAAC,cAAd,CAA6B,aAA7B,CAA2C,WAAW,CAAC,UAAvD,EAAqE,WAArE,CACH,CAbqC,wDAAH,kBAAjC,CAAA,iCAAiC,sDAAvC,CAgBA,oBAAoB,CAAC,CACjB,QAAQ,CAAE,uEADO,CAEjB,cAAc,CAAE,iCAFC,CAGjB,aAAa,CAAE,kCAHE,CAAD,CAApB","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { createDataActionHook, IActionContext, IActionInput } from '@msdyn365-commerce/core';\nimport { SimpleProduct } from '@msdyn365-commerce/retail-proxy';\nimport { getProductInfoFromSimpleProduct } from './telemetry.action.helper';\n\nconst beforeGetVariantsByDimensionValues = async (inputs: IActionInput | IActionInput[]) => {\n    // placeholder\n};\n\nconst afterGetVariantsByDimensionValues = async (\n    _inputs: IActionInput | IActionInput[],\n    simpleProduct: SimpleProduct | SimpleProduct[],\n    actionContext: IActionContext\n) => {\n    if (Array.isArray(simpleProduct)) {\n        simpleProduct.forEach(product => {\n            const productInfo = getProductInfoFromSimpleProduct(product, actionContext.requestContext);\n            actionContext.requestContext.telemetryData[productInfo.productSku] = productInfo;\n        });\n    } else {\n        const productInfo = getProductInfoFromSimpleProduct(simpleProduct, actionContext.requestContext);\n        actionContext.requestContext.telemetryData[productInfo.productSku] = productInfo;\n    }\n};\n\ncreateDataActionHook({\n    actionId: '@msdyn365-commerce/retail-proxy/Products/GetVariantsByDimensionValues',\n    postReaderHook: afterGetVariantsByDimensionValues,\n    preReaderHook: beforeGetVariantsByDimensionValues\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}