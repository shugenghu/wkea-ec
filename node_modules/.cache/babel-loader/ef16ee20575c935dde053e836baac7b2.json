{"ast":null,"code":"/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{AsyncResult}from'./async-result';/**\r\n * Calls the Retail action\r\n */export function retailAction(input,callerContext){return input.execute(callerContext);}retailAction.prototype={isAction:true,isObservable:true};export function callActionOrExecute(request,callerContext){return callerContext.chainAction?callerContext.chainAction(retailAction,request):request.execute(callerContext);}export function executeAction(request,context){if(!context){throw new Error('context is undefined while executing action');}if(context.callerContext&&context.callerContext.chainAction){context.bypassCache&&request.overrideCacheType(context.bypassCache);return context.callerContext.chainAction(retailAction,request);}else if(context.chainAction){return context.chainAction(retailAction,request);}return new AsyncResult((resolve,reject)=>{request.execute(context).then(result=>{resolve(result);}).catch(error=>{reject(error);});});}","map":{"version":3,"sources":["../src/retail-action.ts"],"names":[],"mappings":"AAAA;;;AAGG,GAEH,OAAS,WAAT,KAA4B,gBAA5B,CAGA;;AAEG,GACH,MAAM,SAAU,CAAA,YAAV,CAA0B,KAA1B,CAAsD,aAAtD,CAA4E,CAC9E,MAAO,CAAA,KAAK,CAAC,OAAN,CAAiB,aAAjB,CAAP,CACH,CAED,YAAY,CAAC,SAAb,CAAyB,CACrB,QAAQ,CAAE,IADW,CAErB,YAAY,CAAE,IAFO,CAAzB,CAKA,MAAM,SAAU,CAAA,mBAAV,CAAoC,OAApC,CAAkE,aAAlE,CAAoF,CACtF,MAAO,CAAA,aAAa,CAAC,WAAd,CAA4B,aAAa,CAAC,WAAd,CAA0B,YAA1B,CAAwC,OAAxC,CAA5B,CAA+E,OAAO,CAAC,OAAR,CAAsB,aAAtB,CAAtF,CACH,CAED,MAAM,SAAU,CAAA,aAAV,CAA8B,OAA9B,CAA4D,OAA5D,CAAwE,CAC1E,GAAI,CAAC,OAAL,CAAc,CACV,KAAM,IAAI,CAAA,KAAJ,CAAU,6CAAV,CAAN,CACH,CAED,GAAI,OAAO,CAAC,aAAR,EAAyB,OAAO,CAAC,aAAR,CAAsB,WAAnD,CAAgE,CAC5D,OAAO,CAAC,WAAR,EAAuB,OAAO,CAAC,iBAAR,CAA0B,OAAO,CAAC,WAAlC,CAAvB,CACA,MAAO,CAAA,OAAO,CAAC,aAAR,CAAsB,WAAtB,CAAkC,YAAlC,CAAgD,OAAhD,CAAP,CACH,CAHD,IAGO,IAAI,OAAO,CAAC,WAAZ,CAAyB,CAC5B,MAAO,CAAA,OAAO,CAAC,WAAR,CAAoB,YAApB,CAAkC,OAAlC,CAAP,CACH,CAED,MAAO,IAAI,CAAA,WAAJ,CAAsB,CAAC,OAAD,CAAU,MAAV,GAAoB,CAC7C,OAAO,CACF,OADL,CACmB,OADnB,EAEK,IAFL,CAEU,MAAM,EAAG,CACX,OAAO,CAAC,MAAD,CAAP,CACH,CAJL,EAKK,KALL,CAKW,KAAK,EAAG,CACX,MAAM,CAAC,KAAD,CAAN,CACH,CAPL,EAQH,CATM,CAAP,CAUH","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { AsyncResult } from './async-result';\nimport { IDataServiceRequest } from './Interfaces';\n\n/**\n * Calls the Retail action\n */\nexport function retailAction<T>(input: IDataServiceRequest, callerContext: unknown): Promise<T> {\n    return input.execute<T>(callerContext);\n}\n\nretailAction.prototype = {\n    isAction: true,\n    isObservable: true\n};\n\nexport function callActionOrExecute<TOut>(request: IDataServiceRequest, callerContext: any): AsyncResult<TOut> {\n    return callerContext.chainAction ? callerContext.chainAction(retailAction, request) : request.execute<TOut>(callerContext);\n}\n\nexport function executeAction<TOut>(request: IDataServiceRequest, context: any): AsyncResult<TOut> {\n    if (!context) {\n        throw new Error('context is undefined while executing action');\n    }\n\n    if (context.callerContext && context.callerContext.chainAction) {\n        context.bypassCache && request.overrideCacheType(context.bypassCache);\n        return context.callerContext.chainAction(retailAction, request);\n    } else if (context.chainAction) {\n        return context.chainAction(retailAction, request);\n    }\n\n    return new AsyncResult<TOut>((resolve, reject) => {\n        request\n            .execute<TOut>(context)\n            .then(result => {\n                resolve(result);\n            })\n            .catch(error => {\n                reject(error);\n            });\n    });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}