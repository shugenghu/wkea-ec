{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import\"core-js/modules/es.promise.js\";import\"core-js/modules/es.regexp.to-string.js\";import{getPayloadObject,getTelemetryAttributes}from'@msdyn365-commerce-modules/utilities';import*as React from'react';export class Dropdown extends React.PureComponent{constructor(props,state){super(props);this.selectMenu=/*#__PURE__*/React.createRef();this._onChanged=async event=>{this.setState({selectedIndex:event.target.value});if(this.props.onChange){await this.props.onChange({dropdownId:this.props.dropdownId,selectId:event.target.value,selectedValue:event.target.innerText});}};this.state={selectedIndex:''};this.payLoad=getPayloadObject('click',props.telemetryContent,this.props.dropdownName);}componentDidMount(){if(this.selectMenu.current){this.selectMenu.current.selectedIndex=0;}}render(){const{dropdownId,dropdownList,dropdownName,dropdownToggleName}=this.props;const attribute=getTelemetryAttributes(this.props.telemetryContent,this.payLoad);return/*#__PURE__*/React.createElement(\"select\",Object.assign({id:\"msc-dropdown__entry-\".concat(dropdownId),ref:this.selectMenu,\"aria-label\":dropdownName,className:'msc-dropdown__select',onChange:this._onChanged},attribute),/*#__PURE__*/React.createElement(\"option\",{value:'',\"aria-selected\":this.state.selectedIndex==='',selected:this.state.selectedIndex==='',hidden:true,disabled:true},dropdownToggleName),dropdownList.map(item=>item&&/*#__PURE__*/React.createElement(\"option\",{value:item.id,key:item.id,selected:this.state.selectedIndex===item.id.toString(),\"aria-selected\":this.state.selectedIndex===item.id.toString()},item.value)));}}","map":{"version":3,"sources":["modules/buybox/components/dropdown/dropdown.tsx"],"names":[],"mappings":"iIAGA,OAAS,gBAAT,CAA2B,sBAA3B,KAAmE,sCAAnE,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAiBA,MAAM,MAAO,CAAA,QAAP,QAAwB,CAAA,KAAK,CAAC,aAA6C,CAI7E,WAAA,CAAY,KAAZ,CAAmC,KAAnC,CAAwD,CACpD,MAAM,KAAN,EAJI,KAAA,UAAA,cAAiD,KAAK,CAAC,SAAN,EAAjD,CAqCA,KAAA,UAAA,CAAa,KAAO,CAAA,KAAP,EAAsD,CACvE,KAAK,QAAL,CAAc,CAAC,aAAa,CAAE,KAAK,CAAC,MAAN,CAAa,KAA7B,CAAd,EAEA,GAAI,KAAK,KAAL,CAAW,QAAf,CAAyB,CACrB,KAAM,MAAK,KAAL,CAAW,QAAX,CAAoB,CACtB,UAAU,CAAE,KAAK,KAAL,CAAW,UADD,CAEtB,QAAQ,CAAE,KAAK,CAAC,MAAN,CAAa,KAFD,CAGtB,aAAa,CAAE,KAAK,CAAC,MAAN,CAAa,SAHN,CAApB,CAAN,CAKH,CACJ,CAVO,CAhCJ,KAAK,KAAL,CAAa,CACT,aAAa,CAAE,EADN,CAAb,CAGA,KAAK,OAAL,CAAe,gBAAgB,CAAC,OAAD,CAAU,KAAK,CAAC,gBAAhB,CAAmC,KAAK,KAAL,CAAW,YAA9C,CAA/B,CACH,CAEM,iBAAiB,EAAA,CACpB,GAAI,KAAK,UAAL,CAAgB,OAApB,CAA6B,CACzB,KAAK,UAAL,CAAgB,OAAhB,CAAwB,aAAxB,CAAwC,CAAxC,CACH,CACJ,CAEM,MAAM,EAAA,CACT,KAAM,CAAC,UAAD,CAAa,YAAb,CAA2B,YAA3B,CAAyC,kBAAzC,EAA+D,KAAK,KAA1E,CACA,KAAM,CAAA,SAAS,CAAG,sBAAsB,CAAC,KAAK,KAAL,CAAW,gBAAZ,CAA+B,KAAK,OAApC,CAAxC,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CACI,EAAE,+BAAyB,UAAzB,CADN,CAEI,GAAG,CAAE,KAAK,UAFd,CAEwB,aACR,YAHhB,CAII,SAAS,CAAC,sBAJd,CAKI,QAAQ,CAAE,KAAK,UALnB,CAAA,CAMQ,SANR,CAAA,cAQI,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CAAQ,KAAK,CAAC,EAAd,CAAgB,gBAAgB,KAAK,KAAL,CAAW,aAAX,GAA6B,EAA7D,CAAiE,QAAQ,CAAE,KAAK,KAAL,CAAW,aAAX,GAA6B,EAAxG,CAA4G,MAAM,CAAA,IAAlH,CAAmH,QAAQ,CAAA,IAA3H,CAAA,CAA6H,kBAA7H,CARJ,CASK,YAAY,CAAC,GAAb,CACI,IAAD,EAA8B,IAAI,eAAI,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CAAQ,KAAK,CAAE,IAAI,CAAC,EAApB,CAAwB,GAAG,CAAE,IAAI,CAAC,EAAlC,CAAsC,QAAQ,CAAE,KAAK,KAAL,CAAW,aAAX,GAA6B,IAAI,CAAC,EAAL,CAAQ,QAAR,EAA7E,CAA+F,gBAAiB,KAAK,KAAL,CAAW,aAAX,GAA6B,IAAI,CAAC,EAAL,CAAQ,QAAR,EAA7I,CAAA,CAAkK,IAAI,CAAC,KAAvK,CADzC,CATL,CADJ,CAeH,CApC4E","sourcesContent":["/**\n * Copyright (c) 2018 Microsoft Corporation\n */\nimport { getPayloadObject, getTelemetryAttributes, IPayLoad } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\nimport { IDropdownProps } from './';\nimport { IDropdownItemProps } from './dropdown.props';\n\ntype IDropdownState = {\n    /**\n     * @friendlyName selectedIndex\n     * @description selected index\n     */\n    selectedIndex: string;\n};\n\n/**\n *\n * DropDown component\n * @extends {React.PureComponent<IDropdownProps, IDropdownState>}\n */\nexport class Dropdown extends React.PureComponent<IDropdownProps, IDropdownState> {\n    private selectMenu: React.RefObject<HTMLSelectElement> = React.createRef<HTMLSelectElement>();\n    private payLoad: IPayLoad;\n\n    constructor(props: IDropdownProps, state: IDropdownState) {\n        super(props);\n        this.state = {\n            selectedIndex: ''\n        };\n        this.payLoad = getPayloadObject('click', props.telemetryContent!, this.props.dropdownName);\n    }\n\n    public componentDidMount(): void {\n        if (this.selectMenu.current) {\n            this.selectMenu.current.selectedIndex = 0;\n        }\n    }\n\n    public render(): JSX.Element {\n        const {dropdownId, dropdownList, dropdownName, dropdownToggleName} = this.props;\n        const attribute = getTelemetryAttributes(this.props.telemetryContent!, this.payLoad);\n        return (\n            <select\n                id={`msc-dropdown__entry-${dropdownId}`}\n                ref={this.selectMenu}\n                aria-label={dropdownName}\n                className='msc-dropdown__select'\n                onChange={this._onChanged}\n                {...attribute}\n            >\n                <option value='' aria-selected={this.state.selectedIndex === ''} selected={this.state.selectedIndex === ''} hidden disabled>{dropdownToggleName}</option>\n                {dropdownList.map(\n                    (item: IDropdownItemProps) => item && <option value={item.id} key={item.id} selected={this.state.selectedIndex === item.id.toString()} aria-selected={this.state.selectedIndex === item.id.toString()}>{item.value}</option>\n                )}\n            </select>\n        );\n    }\n\n    private _onChanged = async (event: React.ChangeEvent<HTMLSelectElement>) => {\n        this.setState({selectedIndex: event.target.value});\n\n        if (this.props.onChange) {\n            await this.props.onChange({\n                dropdownId: this.props.dropdownId,\n                selectId: event.target.value,\n                selectedValue: event.target.innerText\n            });\n        }\n    };\n}"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}