{"ast":null,"code":"import \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as React from 'react';\nimport { PriceComponent } from '@msdyn365-commerce/components';\nimport { getRichTextHtml, Image } from '@msdyn365-commerce/core';\nimport { getProductPageUrlSync } from '@msdyn365-commerce-modules/retail-actions';\nimport { getPayloadObject, getTelemetryAttributes } from '@msdyn365-commerce-modules/utilities';\nlet payLoad;\nlet telemetryContent;\n/**\n *\n * ProductSuggestionsComponent\n */\n\nexport const ProductSuggestionsComponent = props => {\n  const {\n    suggestions,\n    hitSuffix,\n    hitPrefix,\n    autoSuggestProps: {\n      context: {\n        actionContext\n      },\n      resources: {\n        productSuggestionHeading\n      }\n    },\n    moduleType,\n    moduleId\n  } = props;\n  const reactNodes = [];\n  telemetryContent = props.telemetryContent;\n  payLoad = getPayloadObject('click', props.telemetryContent, '');\n\n  if (!suggestions) {\n    return undefined;\n  }\n\n  suggestions.map(item => {\n    reactNodes.push(_assembleNode(item, hitPrefix, hitSuffix, actionContext, props, moduleType, moduleId));\n  });\n\n  const titleNode = _renderTitle(productSuggestionHeading);\n\n  return {\n    title: titleNode,\n    items: reactNodes\n  };\n};\n\nconst _renderTitle = productSuggestionHeading => {\n  const productAutoSuggestionHeading = productSuggestionHeading ? productSuggestionHeading : 'Go to products';\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: 'msc-autoSuggest__productResults-title'\n  }, productAutoSuggestionHeading);\n};\n\nconst _assembleNode = (item, hitPrefix, hitSuffix, actionContext, props, moduleType, moduleId) => {\n  const altText = item.Value && item.Value.replace(new RegExp(\"[\".concat(hitPrefix, \"]\"), 'gi'), '').replace(new RegExp(\"[\".concat(hitSuffix, \"]\"), 'gi'), '');\n  return {\n    text: _getHighlightedText(item.Value ? item.Value : '', hitPrefix, hitSuffix),\n    thumbnail: _renderThumbnail(item, altText ? altText : '', props),\n    price: item.Id && item.Value3 && item.Value3.Value && item.Value3.Value.DecimalValue && _renderPrice(item.Value3.Value.DecimalValue, item.Value3.Value.DecimalValue, moduleId, moduleType, props),\n    LiProduct: _getLiWrapper(),\n    AProduct: _getAWrapper(item, hitPrefix, hitSuffix, actionContext),\n    id: item.Id\n  };\n};\n\nconst _getLiWrapper = () => {\n  return {\n    className: 'msc-autoSuggest__productResults-item',\n    tag: 'li'\n  };\n};\n\nconst _getAWrapper = (item, hitPrefix, hitSuffix, actionContext) => {\n  const ariaLabel = item.Value && item.Value.replace(new RegExp(\"[\".concat(hitPrefix, \"]\"), 'gi'), '').replace(new RegExp(\"[\".concat(hitSuffix, \"]\"), 'gi'), '');\n  payLoad.contentAction.recid = item.Id;\n  const attribute = getTelemetryAttributes(telemetryContent, payLoad);\n  return _objectSpread({\n    className: 'msc-autoSuggest__productResults-item',\n    tag: 'a',\n    'aria-label': ariaLabel,\n    href: _generateLink(item, hitPrefix, hitSuffix, actionContext)\n  }, attribute);\n};\n\nconst _generateLink = (suggestion, hitPrefix, hitSuffix, actionContext) => {\n  const formattedLink = suggestion.Value.replace(new RegExp(\"[\".concat(hitPrefix, \"]\"), 'gi'), '').replace(new RegExp(\"[\".concat(hitSuffix, \"]\"), 'gi'), '');\n  return suggestion.Value && suggestion.Id ? getProductPageUrlSync(formattedLink, suggestion.Id, actionContext, undefined) : '';\n};\n\nconst _getHighlightedText = (suggestion, hitPrefix, hitSuffix) => {\n  const formattedText = suggestion.replace(new RegExp(\"[\".concat(hitPrefix, \"]\"), 'gi'), '<strong>').replace(new RegExp(\"[\".concat(hitSuffix, \"]\"), 'gi'), '</strong>'); // tslint:disable:react-no-dangerous-html\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: 'msc-price msc-autoSuggest__productResults-item-text',\n    dangerouslySetInnerHTML: getRichTextHtml(formattedText)\n  });\n};\n\nconst _renderPrice = (adjustedPrice, basePrice, moduleId, moduleType, props) => {\n  const {\n    autoSuggestProps: {\n      context\n    }\n  } = props;\n  return /*#__PURE__*/React.createElement(PriceComponent, {\n    id: moduleId,\n    typeName: moduleType,\n    context: context,\n    data: {\n      price: {\n        CustomerContextualPrice: adjustedPrice,\n        BasePrice: basePrice\n      }\n    },\n    className: 'msc-autoSuggest__productResults-item-price'\n  });\n};\n\nconst _renderThumbnail = (suggestion, altText, props) => {\n  const {\n    autoSuggestProps: {\n      context: {\n        request: {\n          gridSettings\n        }\n      },\n      config: {\n        imageSettings\n      }\n    }\n  } = props;\n\n  if (!suggestion || !suggestion.ImageUrl) {\n    props.telemetry.error('Search suggestion content is empty, module wont render.');\n    return null;\n  }\n\n  const defaultImageSettings = {\n    viewports: {\n      xs: {\n        q: \"w=40&h=40&m=6\",\n        w: 0,\n        h: 0\n      },\n      lg: {\n        q: \"w=40&h=40&m=6\",\n        w: 0,\n        h: 0\n      },\n      xl: {\n        q: \"w=40&h=40&m=6\",\n        w: 0,\n        h: 0\n      }\n    },\n    lazyload: true\n  };\n  return /*#__PURE__*/React.createElement(Image, {\n    altText: altText,\n    className: 'msc-autoSuggest__productResults-item-img',\n    src: suggestion.ImageUrl,\n    gridSettings: gridSettings,\n    imageSettings: imageSettings ? imageSettings : defaultImageSettings,\n    loadFailureBehavior: 'hide'\n  });\n};","map":{"version":3,"sources":["/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/node_modules/source-map-loader/index.js!/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/src/modules/search/components/search.productsuggest.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as React from 'react';\n\nimport { PriceComponent } from '@msdyn365-commerce/components';\nimport { getRichTextHtml, IActionContext, IImageSettings, Image, ITelemetry } from '@msdyn365-commerce/core';\nimport { SearchSuggestion } from '@msdyn365-commerce/retail-proxy';\n\nimport { getProductPageUrlSync } from '@msdyn365-commerce-modules/retail-actions';\nimport { getPayloadObject, getTelemetryAttributes, INodeProps, IPayLoad, ITelemetryContent, NodeTag } from '@msdyn365-commerce-modules/utilities';\nimport { ISearchData } from '../search.data';\nimport { ISearchProps } from '../search.props.autogenerated';\n\nexport interface ISearchProductSuggestProps {\n    searchProductSuggestClass: string;\n    searchPageURL: string;\n    searchQsp: string | undefined;\n    hitPrefix: string;\n    hitSuffix: string;\n    autoSuggestProps: ISearchProps<ISearchData>;\n    searchText: string;\n    suggestions: SearchSuggestion[] | undefined;\n    telemetry: ITelemetry;\n    moduleType: string;\n    moduleId: string;\n    telemetryContent?: ITelemetryContent;\n}\n\nexport interface ISearchProductViewProps {\n    title: React.ReactNode;\n    items: ISearchProductItemViewProps[];\n}\n\nexport interface ISearchProductItemViewProps {\n    text: React.ReactNode;\n    thumbnail: React.ReactNode;\n    price: React.ReactNode;\n    LiProduct: INodeProps;\n    AProduct: INodeProps;\n    id: string | undefined;\n}\n\nlet payLoad: IPayLoad;\nlet telemetryContent: ITelemetryContent | undefined;\n\n/**\n *\n * ProductSuggestionsComponent\n */\nexport const ProductSuggestionsComponent = (props: ISearchProductSuggestProps): ISearchProductViewProps | undefined => {\n    const {\n        suggestions,\n        hitSuffix,\n        hitPrefix,\n        autoSuggestProps: {\n            context: { actionContext },\n            resources: { productSuggestionHeading }\n        },\n        moduleType,\n        moduleId\n    } = props;\n    const reactNodes: ISearchProductItemViewProps[] = [];\n    telemetryContent = props.telemetryContent;\n    payLoad = getPayloadObject('click', props.telemetryContent!, '');\n\n    if (!suggestions) {\n        return undefined;\n    }\n\n    suggestions.map(item => {\n        reactNodes.push(_assembleNode(item, hitPrefix, hitSuffix, actionContext, props, moduleType, moduleId));\n    });\n\n    const titleNode = _renderTitle(productSuggestionHeading);\n\n    return { title: titleNode, items: reactNodes };\n};\n\nconst _renderTitle = (productSuggestionHeading: string) => {\n    const productAutoSuggestionHeading = productSuggestionHeading ? productSuggestionHeading : 'Go to products';\n\n    return <li className='msc-autoSuggest__productResults-title'>{productAutoSuggestionHeading}</li>;\n};\n\nconst _assembleNode = (\n    item: SearchSuggestion,\n    hitPrefix: string,\n    hitSuffix: string,\n    actionContext: IActionContext,\n    props: ISearchProductSuggestProps,\n    moduleType: string,\n    moduleId: string\n): ISearchProductItemViewProps => {\n    const altText =\n        item.Value &&\n        (item.Value).replace(new RegExp(`[${hitPrefix}]`, 'gi'), '').replace(new RegExp(`[${hitSuffix}]`, 'gi'), '');\n\n    return {\n        text: _getHighlightedText(item.Value ? item.Value : '', hitPrefix, hitSuffix),\n        thumbnail: _renderThumbnail(item, altText ? altText : '', props),\n        price:\n            item.Id &&\n            item.Value3 &&\n            item.Value3.Value &&\n            item.Value3.Value.DecimalValue &&\n            _renderPrice(item.Value3.Value.DecimalValue, item.Value3.Value.DecimalValue, moduleId, moduleType, props),\n        LiProduct: _getLiWrapper(),\n        AProduct: _getAWrapper(item, hitPrefix, hitSuffix, actionContext),\n        id: item.Id\n    };\n};\n\nconst _getLiWrapper = () => {\n    return {\n        className: 'msc-autoSuggest__productResults-item',\n        tag: 'li' as NodeTag\n    };\n};\n\nconst _getAWrapper = (item: SearchSuggestion, hitPrefix: string, hitSuffix: string, actionContext: IActionContext) => {\n    const ariaLabel = item.Value &&\n        (item.Value).replace(new RegExp(`[${hitPrefix}]`, 'gi'), '').replace(new RegExp(`[${hitSuffix}]`, 'gi'), '');\n\n    payLoad.contentAction.recid = item.Id;\n    const attribute = getTelemetryAttributes(telemetryContent!, payLoad);\n\n    return {\n        className: 'msc-autoSuggest__productResults-item',\n        tag: 'a' as NodeTag,\n        'aria-label': ariaLabel,\n        href: _generateLink(item, hitPrefix, hitSuffix, actionContext),\n        ...attribute\n    };\n};\n\nconst _generateLink = (suggestion: SearchSuggestion, hitPrefix: string, hitSuffix: string, actionContext: IActionContext) => {\n    const formattedLink = (suggestion.Value as string).replace(new RegExp(`[${hitPrefix}]`, 'gi'), '').replace(new RegExp(`[${hitSuffix}]`, 'gi'), '');\n    return suggestion.Value && suggestion.Id ?\n        getProductPageUrlSync(formattedLink,suggestion.Id as unknown as number, actionContext, undefined) : '';\n};\n\nconst _getHighlightedText = (suggestion: string, hitPrefix: string, hitSuffix: string): JSX.Element => {\n    const formattedText = suggestion\n        .replace(new RegExp(`[${hitPrefix}]`, 'gi'), '<strong>')\n        .replace(new RegExp(`[${hitSuffix}]`, 'gi'), '</strong>');\n\n    // tslint:disable:react-no-dangerous-html\n    return <span className='msc-price msc-autoSuggest__productResults-item-text'  dangerouslySetInnerHTML={getRichTextHtml(formattedText)} />;\n};\n\nconst _renderPrice = (adjustedPrice: number, basePrice: number, moduleId: string, moduleType: string, props: ISearchProductSuggestProps): JSX.Element | null => {\n    const {\n        autoSuggestProps: { context }\n    } = props;\n\n    return (\n        <PriceComponent\n            id={moduleId}\n            typeName={moduleType}\n            context={context}\n            data={{\n                price: {\n                    CustomerContextualPrice: adjustedPrice,\n                    BasePrice: basePrice\n                }\n            }}\n            className='msc-autoSuggest__productResults-item-price'\n        />\n    );\n};\n\nconst _renderThumbnail = (suggestion: SearchSuggestion, altText: string, props: ISearchProductSuggestProps): JSX.Element | null => {\n    const {\n        autoSuggestProps: {\n            context: {\n                request: { gridSettings }\n            },\n            config: { imageSettings }\n        }\n    } = props;\n\n    if (!suggestion || !suggestion.ImageUrl) {\n        props.telemetry.error('Search suggestion content is empty, module wont render.');\n        return null;\n    }\n\n    const defaultImageSettings: IImageSettings = {\n        viewports: {\n            xs: { q: `w=40&h=40&m=6`, w: 0, h: 0 },\n            lg: { q: `w=40&h=40&m=6`, w: 0, h: 0 },\n            xl: { q: `w=40&h=40&m=6`, w: 0, h: 0 }\n        },\n        lazyload: true\n    };\n\n    return (\n        <Image\n            altText={altText}\n            className='msc-autoSuggest__productResults-item-img'\n            src={suggestion.ImageUrl}\n            gridSettings={gridSettings!}\n            imageSettings={imageSettings ? imageSettings : defaultImageSettings}\n            loadFailureBehavior='hide'\n        />\n    );\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}