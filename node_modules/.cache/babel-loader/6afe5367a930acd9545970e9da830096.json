{"ast":null,"code":"import{format,Progress}from'@msdyn365-commerce-modules/utilities';import React from'react';export const HistogramItems=props=>{const{ratingsSummary}=props;const totalRatingsCount=ratingsSummary.totalRatingsCount||0;return[renderItem(props,5,ratingsSummary.star5Count,totalRatingsCount),renderItem(props,4,ratingsSummary.star4Count,totalRatingsCount),renderItem(props,3,ratingsSummary.star3Count,totalRatingsCount),renderItem(props,2,ratingsSummary.star2Count,totalRatingsCount),renderItem(props,1,ratingsSummary.star1Count,totalRatingsCount)];};const renderItem=(props,stars,count,totalCount)=>{count=count||0;totalCount=totalCount||0;const percentage=totalCount===0?0:count/totalCount;const formattedPercent=new Intl.NumberFormat(props.locale,{style:'percent'}).format(percentage);const ariaLabel=format(props.resources.barItemAriaLabel,stars,formattedPercent);return{starLabel:/*#__PURE__*/React.createElement(\"span\",{className:'ms-ratings-histogram__star'},stars),percentage:/*#__PURE__*/React.createElement(\"span\",{className:'ms-ratings-histogram__percentage'},formattedPercent),bar:/*#__PURE__*/React.createElement(Progress,{value:percentage*100,max:100,ariaLabel:ariaLabel,className:'ms-ratings-histogram__bar'}),buttonProps:{tag:'button',className:'ms-ratings-histogram__item',onClick:()=>{props.onClick(stars);}}};};export const AverageRatingNumber=props=>{return/*#__PURE__*/React.createElement(\"p\",{className:'ms-ratings-histogram__average'},props.summary.averageRating,\" / 5\");};export const TotalReviews=props=>{return/*#__PURE__*/React.createElement(\"p\",{className:'ms-ratings-histogram__total'},props.summary.totalRatingsCount);};","map":{"version":3,"sources":["modules/ratings-histogram/component/components.tsx"],"names":[],"mappings":"AAAA,OACI,MADJ,CAGI,QAHJ,KAIO,sCAJP,CAMA,MAAO,CAAA,KAAP,KAAkB,OAAlB,CAwBA,MAAO,MAAM,CAAA,cAAc,CAAI,KAAD,EAA4D,CACtF,KAAM,CAAC,cAAD,EAAmB,KAAzB,CACA,KAAM,CAAA,iBAAiB,CAAW,cAAc,CAAC,iBAAf,EAAoC,CAAtE,CACA,MAAO,CACH,UAAU,CAAC,KAAD,CAAQ,CAAR,CAAW,cAAc,CAAC,UAA1B,CAAsC,iBAAtC,CADP,CAEH,UAAU,CAAC,KAAD,CAAQ,CAAR,CAAW,cAAc,CAAC,UAA1B,CAAsC,iBAAtC,CAFP,CAGH,UAAU,CAAC,KAAD,CAAQ,CAAR,CAAW,cAAc,CAAC,UAA1B,CAAsC,iBAAtC,CAHP,CAIH,UAAU,CAAC,KAAD,CAAQ,CAAR,CAAW,cAAc,CAAC,UAA1B,CAAsC,iBAAtC,CAJP,CAKH,UAAU,CAAC,KAAD,CAAQ,CAAR,CAAW,cAAc,CAAC,UAA1B,CAAsC,iBAAtC,CALP,CAAP,CAOH,CAVM,CAYP,KAAM,CAAA,UAAU,CAAG,CAAC,KAAD,CAA+B,KAA/B,CAA8C,KAA9C,CAA8D,UAA9D,GAA8G,CAC7H,KAAK,CAAG,KAAK,EAAI,CAAjB,CACA,UAAU,CAAG,UAAU,EAAI,CAA3B,CACA,KAAM,CAAA,UAAU,CAAG,UAAU,GAAK,CAAf,CAAmB,CAAnB,CAAuB,KAAK,CAAG,UAAlD,CACA,KAAM,CAAA,gBAAgB,CAAG,GAAI,CAAA,IAAI,CAAC,YAAT,CAAsB,KAAK,CAAC,MAA5B,CAAoC,CAAE,KAAK,CAAE,SAAT,CAApC,EAA0D,MAA1D,CAAiE,UAAjE,CAAzB,CACA,KAAM,CAAA,SAAS,CAAG,MAAM,CAAC,KAAK,CAAC,SAAN,CAAgB,gBAAjB,CAAmC,KAAnC,CAA0C,gBAA1C,CAAxB,CAEA,MAAO,CACH,SAAS,cAAE,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAM,SAAS,CAAC,4BAAhB,CAAA,CAA8C,KAA9C,CADR,CAEH,UAAU,cAAE,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAM,SAAS,CAAC,kCAAhB,CAAA,CAAoD,gBAApD,CAFT,CAGH,GAAG,cAAE,KAAA,CAAA,aAAA,CAAC,QAAD,CAAS,CAAC,KAAK,CAAE,UAAU,CAAG,GAArB,CAA0B,GAAG,CAAE,GAA/B,CAAoC,SAAS,CAAE,SAA/C,CAA0D,SAAS,CAAC,2BAApE,CAAT,CAHF,CAIH,WAAW,CAAE,CAAC,GAAG,CAAE,QAAN,CAAgB,SAAS,CAAE,4BAA3B,CAAyD,OAAO,CAAE,IAAK,CAAE,KAAK,CAAC,OAAN,CAAc,KAAd,EAAsB,CAA/F,CAJV,CAAP,CAMH,CAbD,CAeA,MAAO,MAAM,CAAA,mBAAmB,CAAyC,KAAD,EAAqC,CACzG,mBAAO,KAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAG,SAAS,CAAC,+BAAb,CAAA,CAA8C,KAAK,CAAC,OAAN,CAAc,aAA5D,CAAkF,MAAlF,CAAP,CACH,CAFM,CAIP,MAAO,MAAM,CAAA,YAAY,CAAyC,KAAD,EAAqC,CAClG,mBAAO,KAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAG,SAAS,CAAC,6BAAb,CAAA,CAA4C,KAAK,CAAC,OAAN,CAAc,iBAA1D,CAAP,CACH,CAFM","sourcesContent":["import {\n    format,\n    INodeProps,\n    Progress\n} from '@msdyn365-commerce-modules/utilities';\nimport { RatingsSummary } from '@msdyn365-commerce/commerce-entities';\nimport React from 'react';\n\nexport interface IHistogramItemsProps {\n    ratingsSummary: RatingsSummary;\n    resources: IHistogramItemsResources;\n    locale: string;\n    onClick(stars: number): void;\n}\n\nexport interface IHistogramItemsResources {\n    barItemAriaLabel: string;\n}\n\nexport interface IHistogramItemViewProps {\n    starLabel: React.ReactElement;\n    bar: React.ReactElement;\n    percentage: React.ReactElement;\n    buttonProps: INodeProps;\n}\n\n/**\n * CartLineItems component\n */\n\nexport const HistogramItems = (props: IHistogramItemsProps): IHistogramItemViewProps[]  => {\n    const {ratingsSummary} = props;\n    const totalRatingsCount: number = ratingsSummary.totalRatingsCount || 0;\n    return [\n        renderItem(props, 5, ratingsSummary.star5Count, totalRatingsCount),\n        renderItem(props, 4, ratingsSummary.star4Count, totalRatingsCount),\n        renderItem(props, 3, ratingsSummary.star3Count, totalRatingsCount),\n        renderItem(props, 2, ratingsSummary.star2Count, totalRatingsCount),\n        renderItem(props, 1, ratingsSummary.star1Count, totalRatingsCount),\n    ];\n};\n\nconst renderItem = (props: IHistogramItemsProps,  stars: number, count?: number, totalCount?: number): IHistogramItemViewProps => {\n    count = count || 0;\n    totalCount = totalCount || 0;\n    const percentage = totalCount === 0 ? 0 : count / totalCount;\n    const formattedPercent = new Intl.NumberFormat(props.locale, { style: 'percent' }).format(percentage);\n    const ariaLabel = format(props.resources.barItemAriaLabel, stars, formattedPercent);\n\n    return {\n        starLabel: <span className='ms-ratings-histogram__star'>{stars}</span>,\n        percentage: <span className='ms-ratings-histogram__percentage'>{formattedPercent}</span>,\n        bar: <Progress value={percentage * 100} max={100} ariaLabel={ariaLabel} className='ms-ratings-histogram__bar'/>,\n        buttonProps: {tag: 'button', className: 'ms-ratings-histogram__item', onClick: () => {props.onClick(stars);}}\n    };\n};\n\nexport const AverageRatingNumber: React.FC<{summary: RatingsSummary}> = (props: {summary: RatingsSummary}) => {\n    return <p className='ms-ratings-histogram__average'>{props.summary.averageRating} / 5</p>;\n};\n\nexport const TotalReviews: React.FC<{summary: RatingsSummary}> = (props: {summary: RatingsSummary}) => {\n    return <p className='ms-ratings-histogram__total'>{props.summary.totalRatingsCount}</p>;\n};"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}