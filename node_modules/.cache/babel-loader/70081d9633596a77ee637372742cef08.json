{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});function onMouseMoveLensContainer(event){var _a;if(event.type==='touchmove'||event.type==='touchstart'||event.type==='touchend'){return;}var img=((_a=event.currentTarget.nextElementSibling)===null||_a===void 0?void 0:_a.querySelector('img'))||undefined;var lens=event.currentTarget;if(!document.body.querySelector('.ms-containerZoom__result')){var containerDiv=document.createElement('div');containerDiv.setAttribute('class','ms-containerZoom__result');document.body.appendChild(containerDiv);}var zoomPic=document.body.querySelector('.ms-containerZoom__result')||undefined;containerZoomMouseMoveHandler(event,img,lens,zoomPic);}exports.onMouseMoveLensContainer=onMouseMoveLensContainer;function containerZoomMouseMoveHandler(event,img,lens,zoomPic){var cx=zoomPic.clientWidth/lens.offsetWidth;var cy=zoomPic.clientHeight/lens.offsetHeight;var pos=getCursorPos(event,img);var xy=getXY(pos.x,pos.y,lens.offsetWidth,lens.offsetHeight,lens.parentElement.parentElement.offsetWidth,lens.parentElement.parentElement.offsetHeight);var lensStyle=\"; left:\"+(xy.x+\"px\")+\" \"+\"; top:\"+(xy.y+\"px\")+\" \";lens===null||lens===void 0?void 0:lens.setAttribute('style',lensStyle);var src=img.getAttribute('src');var picStyleValues=\"; background-position:\"+\"-\"+(xy.x*cx+\"px\")+\" -\"+(xy.y*cy+\"px\")+\"; background-size:\"+(img.width*cx+\"px\")+\" \"+(img.height*cy+\"px\")+\"; background-image:url('\"+(\"\"+src)+\" ')\"+\"; top:\"+(pos.z+\"px\")+\" \";zoomPic.setAttribute('style',picStyleValues);}function onMouseOutLensContainer(event){var _a,_b;event.currentTarget.removeAttribute('style');(_a=event.currentTarget)===null||_a===void 0?void 0:_a.setAttribute('style','left: -200px; top: -200px');event.currentTarget.classList.remove('ms-containerZoom__zoom-lens__opacity');var img=(_b=event.currentTarget.nextElementSibling)===null||_b===void 0?void 0:_b.querySelector('img');img.removeAttribute('style');var resultEle=document.body.querySelector('.ms-containerZoom__result');if(document.body.querySelector('.ms-containerZoom__result')){document.body.removeChild(resultEle);}}exports.onMouseOutLensContainer=onMouseOutLensContainer;function onMouseOverImageContainer(event){var _a,_b,_c;var lens=(_a=event.currentTarget.parentElement)===null||_a===void 0?void 0:_a.previousElementSibling;lens.classList.add('ms-containerZoom__zoom-lens__opacity');if(!document.body.querySelector('.ms-containerZoom__result')){var containerDiv=document.createElement('div');containerDiv.setAttribute('class','ms-containerZoom__result');document.body.appendChild(containerDiv);}var pos=getCursorPosOfLens(event);var xy=getXY(pos.x,pos.y,lens.clientWidth,lens.clientWidth,((_b=lens===null||lens===void 0?void 0:lens.parentElement)===null||_b===void 0?void 0:_b.parentElement).offsetWidth,((_c=lens===null||lens===void 0?void 0:lens.parentElement)===null||_c===void 0?void 0:_c.parentElement).offsetHeight);var lensStyle=\"left:\"+(xy.x+\"px\")+\" \"+\"; top:\"+(xy.y+\"px\")+\" \";lens===null||lens===void 0?void 0:lens.setAttribute('style',lensStyle);}exports.onMouseOverImageContainer=onMouseOverImageContainer;function onContainerZoomInit(event){var _a,_b;var lens=((_b=(_a=event.currentTarget.parentElement)===null||_a===void 0?void 0:_a.parentElement)===null||_b===void 0?void 0:_b.querySelector('.ms-containerZoom__zoom-lens'))||undefined;if(!document.body.querySelector('.ms-containerZoom__result')){var containerDiv=document.createElement('div');containerDiv.setAttribute('class','ms-containerZoom__result');document.body.appendChild(containerDiv);}var resultEle=document.body.querySelector('.ms-containerZoom__result')||undefined;lens.classList.add('ms-containerZoom__zoom-lens__opacity');onMouseOverImageContainer(event);containerZoomMouseMoveHandler(event,event.currentTarget,lens,resultEle);}exports.onContainerZoomInit=onContainerZoomInit;function inlineZoomImageOnHover(event,scale){var _a,_b;if(event.type==='touchmove'||event.type==='touchstart'||event.type==='touchend'){return;}var zoomImg=(_b=(_a=event.currentTarget.parentElement)===null||_a===void 0?void 0:_a.nextElementSibling)===null||_b===void 0?void 0:_b.querySelector('img');var width=event.currentTarget.width;var height=event.currentTarget.height;var inlineStyle=\"; width:\"+(\"\"+width*Number(scale))+\"px\"+\"; height:\"+(\"\"+height*Number(scale))+\"px\"+\"; opacity: 1\";zoomImg.setAttribute('style',inlineStyle);}exports.inlineZoomImageOnHover=inlineZoomImageOnHover;function inlineZoomImageOnMouseMove(event){if(event.type==='touchmove'||event.type==='touchstart'||event.type==='touchend'){return;}var parentElement=event.currentTarget.parentElement.parentElement;var zoomImg=event.currentTarget;var dataScale=parentElement&&parentElement.getAttribute('data-scale')||'';var inlineStyle=getInlineStyleOnMouseMove(zoomImg,dataScale,event);zoomImg.removeAttribute('style');zoomImg.setAttribute('style',inlineStyle);}exports.inlineZoomImageOnMouseMove=inlineZoomImageOnMouseMove;function getInlineStyleOnMouseMove(zoomImg,dataScale,event){zoomImg.removeAttribute('style');var picImg=zoomImg.parentElement&&zoomImg.parentElement.previousElementSibling&&zoomImg.parentElement.previousElementSibling.querySelector('img');var inlineStyle=\"; width:\"+(\"\"+picImg.width*Number(dataScale))+\"px\"+\"; height:\"+(\"\"+picImg.height*Number(dataScale))+\"px\"+\"; opacity: 1\";zoomImg.setAttribute('style',inlineStyle);var targetWidth=picImg.offsetWidth;var targetHeight=picImg.offsetHeight;var sourceWidth=picImg.offsetWidth;var sourceHeight=picImg.offsetHeight;var xRatio=(zoomImg.width-targetWidth)/sourceWidth;var yRatio=(zoomImg.height-targetHeight)/sourceHeight;var imgArea=picImg.getBoundingClientRect();var left=0;var top=0;left=event.pageX-imgArea.left;top=event.pageY-imgArea.top;left=left-window.pageXOffset;top=top-window.pageYOffset;top=Math.max(Math.min(top,sourceHeight),0);left=Math.max(Math.min(left,sourceWidth),0);return\"\"+inlineStyle+\"; left:\"+(\"\"+left*-xRatio)+\"px\"+\"; top:\"+(\"\"+top*-yRatio)+\"px\";}function inlineZoomImageOnMouseOut(event){if(event.type==='touchmove'||event.type==='touchstart'||event.type==='touchend'){return;}event.currentTarget.removeAttribute('style');event.currentTarget.style.height='0';event.currentTarget.style.width='0';}exports.inlineZoomImageOnMouseOut=inlineZoomImageOnMouseOut;function inlineZoomInit(event,dataScale){var _a,_b;if(event.type==='touchmove'||event.type==='touchstart'||event.type==='touchend'){return;}var zoomImg=(_b=(_a=event.currentTarget.parentElement)===null||_a===void 0?void 0:_a.nextElementSibling)===null||_b===void 0?void 0:_b.querySelector('img');if(!zoomImg){return;}var inlineStyle=getInlineStyleOnMouseMove(zoomImg,dataScale||'1',event);zoomImg.removeAttribute('style');zoomImg.setAttribute('style',inlineStyle);}exports.inlineZoomInit=inlineZoomInit;function getXY(positionX,positionY,clientWidth,clientheight,eleOffsetWidth,eleOffsetHeight){var x=0;var y=0;x=positionX-clientWidth/2;y=positionY-clientheight/2;if(x>eleOffsetWidth-clientWidth){x=eleOffsetWidth-clientWidth;}if(x<0){x=0;}if(y>eleOffsetHeight-clientheight){y=eleOffsetHeight-clientheight;}if(y<0){y=0;}return{x:x,y:y};}function getCursorPosOfLens(event){var img=event.currentTarget;var x=0;var y=0;event=event||window.event;var a=img.getBoundingClientRect();x=event.pageX-a.left;y=event.pageY-a.top;x=x-window.pageXOffset;y=y-window.pageYOffset;return{x:x,y:y};}function getCursorPos(event,img){var x=0;var y=0;var z=0;event=event||window.event;var a=img.getBoundingClientRect();x=event.pageX-a.left;y=event.pageY-a.top;z=a.top;x=x-window.pageXOffset;y=y-window.pageYOffset;return{x:x,y:y,z:z};}function removeInlineZoomStyle(){var imgTag=document.body.querySelector('.ms-inline-zoom__zoomedImg');var hasStyleAttr=imgTag&&imgTag.hasAttribute('style');if(hasStyleAttr){imgTag.removeAttribute('style');imgTag.setAttribute('style','width: 0; height: 0;');}}exports.removeInlineZoomStyle=removeInlineZoomStyle;","map":{"version":3,"sources":["/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/node_modules/@msdyn365-commerce-modules/utilities/src/zoom-image/ZoomImage.tsx"],"names":[],"mappings":"sEAAA,QAAgB,CAAA,wBAAhB,CAAyC,KAAzC,CAAgF,C,OAC5E,GAAI,KAAK,CAAC,IAAN,GAAe,WAAf,EAA8B,KAAK,CAAC,IAAN,GAAe,YAA7C,EAA6D,KAAK,CAAC,IAAN,GAAe,UAAhF,CAA4F,CACxF,OACH,CACD,GAAM,CAAA,GAAG,CAAG,CAAA,CAAA,EAAA,CAAA,KAAK,CAAC,aAAN,CAAoB,kBAApB,IAAsC,IAAtC,EAAsC,EAAA,GAAA,IAAA,EAAtC,CAAsC,IAAA,EAAtC,CAAsC,EAAA,CAAE,aAAF,CAAgB,KAAhB,CAAtC,GAAgE,SAA5E,CACA,GAAM,CAAA,IAAI,CAAG,KAAK,CAAC,aAAnB,CAEA,GAAI,CAAC,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,CAAL,CAA+D,CAC3D,GAAM,CAAA,YAAY,CAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAArB,CACA,YAAY,CAAC,YAAb,CAA0B,OAA1B,CAAmC,0BAAnC,EACA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,YAA1B,EACH,CACD,GAAM,CAAA,OAAO,CAAG,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,GAA4D,SAA5E,CACA,6BAA6B,CAAC,KAAD,CAAQ,GAAR,CAAa,IAAb,CAAmB,OAAnB,CAA7B,CACH,CAdD,OAAA,CAAA,wBAAA,CAAA,wBAAA,CAgBA,QAAS,CAAA,6BAAT,CAAuC,KAAvC,CAAgF,GAAhF,CAAmH,IAAnH,CAAuJ,OAAvJ,CAAmL,CAC/K,GAAM,CAAA,EAAE,CAAG,OAAQ,CAAC,WAAT,CAAuB,IAAI,CAAC,WAAvC,CACA,GAAM,CAAA,EAAE,CAAG,OAAQ,CAAC,YAAT,CAAwB,IAAI,CAAC,YAAxC,CACA,GAAM,CAAA,GAAG,CAAG,YAAY,CAAC,KAAD,CAAQ,GAAR,CAAxB,CACA,GAAM,CAAA,EAAE,CAAG,KAAK,CAAC,GAAG,CAAC,CAAL,CAAQ,GAAG,CAAC,CAAZ,CAAe,IAAI,CAAC,WAApB,CAAiC,IAAI,CAAC,YAAtC,CAAoD,IAAK,CAAC,aAAN,CAAqB,aAArB,CAAoC,WAAxF,CAAqG,IAAK,CAAC,aAAN,CAAqB,aAArB,CAAoC,YAAzI,CAAhB,CACA,GAAM,CAAA,SAAS,CAAG,WAAe,EAAE,CAAC,CAAH,CAAI,IAAnB,EAA0B,GAA1B,CAAgC,QAAhC,EAA8C,EAAE,CAAC,CAAH,CAAI,IAAlD,EAAyD,GAA3E,CACA,IAAI,GAAA,IAAJ,EAAA,IAAI,GAAA,IAAA,EAAJ,CAAI,IAAA,EAAJ,CAAA,IAAI,CAAE,YAAN,CAAmB,OAAnB,CAA4B,SAA5B,CAAA,CAEA,GAAM,CAAA,GAAG,CAAG,GAAI,CAAC,YAAL,CAAkB,KAAlB,CAAZ,CAEA,GAAM,CAAA,cAAc,CAAG,yBAA2B,GAA3B,EAAoC,EAAE,CAAC,CAAH,CAAO,EAAP,CAAS,IAA7C,EAAoD,IAApD,EAA8D,EAAE,CAAC,CAAH,CAAO,EAAP,CAAS,IAAvE,EACjB,oBADiB,EACS,GAAI,CAAC,KAAL,CAAa,EAAb,CAAe,IADxB,EAC+B,GAD/B,EACwC,GAAI,CAAC,MAAL,CAAc,EAAd,CAAgB,IADxD,EAEjB,0BAFiB,EAEY,GAAG,GAFf,EAEuB,KAFvB,CAE+B,QAF/B,EAE6C,GAAG,CAAC,CAAJ,CAAK,IAFlD,EAEyD,GAFhF,CAIA,OAAQ,CAAC,YAAT,CAAsB,OAAtB,CAA+B,cAA/B,EACH,CAED,QAAgB,CAAA,uBAAhB,CAAwC,KAAxC,CAA+E,C,UAC3E,KAAK,CAAC,aAAN,CAAoB,eAApB,CAAoC,OAApC,EACA,CAAA,EAAA,CAAA,KAAK,CAAC,aAAN,IAAmB,IAAnB,EAAmB,EAAA,GAAA,IAAA,EAAnB,CAAmB,IAAA,EAAnB,CAAmB,EAAA,CAAE,YAAF,CAAe,OAAf,CAAwB,2BAAxB,CAAnB,CACA,KAAK,CAAC,aAAN,CAAoB,SAApB,CAA8B,MAA9B,CAAqC,sCAArC,EAEA,GAAM,CAAA,GAAG,CAAA,CAAA,EAAA,CAAG,KAAK,CAAC,aAAN,CAAoB,kBAAvB,IAAyC,IAAzC,EAAyC,EAAA,GAAA,IAAA,EAAzC,CAAyC,IAAA,EAAzC,CAAyC,EAAA,CAAE,aAAF,CAAgB,KAAhB,CAAlD,CACA,GAAI,CAAC,eAAL,CAAqB,OAArB,EAEA,GAAM,CAAA,SAAS,CAAG,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,CAAlB,CACA,GAAI,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,CAAJ,CAA8D,CAC1D,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,SAA1B,EACH,CACJ,CAZD,OAAA,CAAA,uBAAA,CAAA,uBAAA,CAcA,QAAgB,CAAA,yBAAhB,CAA0C,KAA1C,CAAiF,C,aAC7E,GAAM,CAAA,IAAI,CAAA,CAAA,EAAA,CAAG,KAAK,CAAC,aAAN,CAAoB,aAAvB,IAAoC,IAApC,EAAoC,EAAA,GAAA,IAAA,EAApC,CAAoC,IAAA,EAApC,CAAoC,EAAA,CAAE,sBAAhD,CACA,IAAK,CAAC,SAAN,CAAgB,GAAhB,CAAoB,sCAApB,EAEA,GAAI,CAAC,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,CAAL,CAA+D,CAC3D,GAAM,CAAA,YAAY,CAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAArB,CACA,YAAY,CAAC,YAAb,CAA0B,OAA1B,CAAmC,0BAAnC,EACA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,YAA1B,EACH,CACD,GAAM,CAAA,GAAG,CAAG,kBAAkB,CAAC,KAAD,CAA9B,CACA,GAAM,CAAA,EAAE,CAAG,KAAK,CAAC,GAAG,CAAC,CAAL,CAAQ,GAAG,CAAC,CAAZ,CAAe,IAAK,CAAC,WAArB,CAAkC,IAAK,CAAC,WAAxC,CAAqD,CAAA,CAAA,EAAA,CAAA,IAAI,GAAA,IAAJ,EAAA,IAAI,GAAA,IAAA,EAAJ,CAAI,IAAA,EAAJ,CAAA,IAAI,CAAE,aAAN,IAAmB,IAAnB,EAAmB,EAAA,GAAA,IAAA,EAAnB,CAAmB,IAAA,EAAnB,CAAmB,EAAA,CAAE,aAArB,EAAoC,WAAzF,CAAsG,CAAA,CAAA,EAAA,CAAA,IAAI,GAAA,IAAJ,EAAA,IAAI,GAAA,IAAA,EAAJ,CAAI,IAAA,EAAJ,CAAA,IAAI,CAAE,aAAN,IAAmB,IAAnB,EAAmB,EAAA,GAAA,IAAA,EAAnB,CAAmB,IAAA,EAAnB,CAAmB,EAAA,CAAE,aAArB,EAAoC,YAA1I,CAAhB,CAEA,GAAM,CAAA,SAAS,CAAG,SAAa,EAAE,CAAC,CAAH,CAAI,IAAjB,EAAwB,GAAxB,CAA8B,QAA9B,EAA4C,EAAE,CAAC,CAAH,CAAI,IAAhD,EAAuD,GAAzE,CACA,IAAI,GAAA,IAAJ,EAAA,IAAI,GAAA,IAAA,EAAJ,CAAI,IAAA,EAAJ,CAAA,IAAI,CAAE,YAAN,CAAmB,OAAnB,CAA4B,SAA5B,CAAA,CACH,CAdD,OAAA,CAAA,yBAAA,CAAA,yBAAA,CAgBA,QAAgB,CAAA,mBAAhB,CAAoC,KAApC,CAA6E,C,UACzE,GAAM,CAAA,IAAI,CAAG,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,KAAK,CAAC,aAAN,CAAoB,aAApB,IAAiC,IAAjC,EAAiC,EAAA,GAAA,IAAA,EAAjC,CAAiC,IAAA,EAAjC,CAAiC,EAAA,CAAE,aAAnC,IAAgD,IAAhD,EAAgD,EAAA,GAAA,IAAA,EAAhD,CAAgD,IAAA,EAAhD,CAAgD,EAAA,CAAE,aAAF,CAAgB,8BAAhB,CAAhD,GAAmG,SAAhH,CAEA,GAAI,CAAC,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,CAAL,CAA+D,CAC3D,GAAM,CAAA,YAAY,CAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAArB,CACA,YAAY,CAAC,YAAb,CAA0B,OAA1B,CAAmC,0BAAnC,EACA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,YAA1B,EACH,CACD,GAAM,CAAA,SAAS,CAAG,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,2BAA5B,GAA4D,SAA9E,CACA,IAAK,CAAC,SAAN,CAAgB,GAAhB,CAAoB,sCAApB,EACA,yBAAyB,CAAC,KAAD,CAAzB,CACA,6BAA6B,CAAC,KAAD,CAAQ,KAAK,CAAC,aAAd,CAA6B,IAA7B,CAAmE,SAAnE,CAA7B,CACH,CAZD,OAAA,CAAA,mBAAA,CAAA,mBAAA,CAcA,QAAgB,CAAA,sBAAhB,CAAuC,KAAvC,CAAkF,KAAlF,CAAgG,C,UAC5F,GAAI,KAAK,CAAC,IAAN,GAAe,WAAf,EAA8B,KAAK,CAAC,IAAN,GAAe,YAA7C,EAA6D,KAAK,CAAC,IAAN,GAAe,UAAhF,CAA4F,CACxF,OACH,CACD,GAAM,CAAA,OAAO,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAG,KAAK,CAAC,aAAN,CAAoB,aAAvB,IAAoC,IAApC,EAAoC,EAAA,GAAA,IAAA,EAApC,CAAoC,IAAA,EAApC,CAAoC,EAAA,CAAE,kBAAtC,IAAwD,IAAxD,EAAwD,EAAA,GAAA,IAAA,EAAxD,CAAwD,IAAA,EAAxD,CAAwD,EAAA,CAAE,aAAF,CAAgB,KAAhB,CAArE,CACA,GAAM,CAAA,KAAK,CAAG,KAAK,CAAC,aAAN,CAAoB,KAAlC,CACA,GAAM,CAAA,MAAM,CAAG,KAAK,CAAC,aAAN,CAAoB,MAAnC,CAEA,GAAM,CAAA,WAAW,CAAG,YAAa,GAAG,KAAK,CAAG,MAAM,CAAC,KAAD,CAA9B,EAA0C,IAA1C,CAAiD,WAAjD,EAA+D,GAAG,MAAM,CAAG,MAAM,CAAC,KAAD,CAAjF,EAA6F,IAA7F,CAAoG,cAAxH,CACA,OAAQ,CAAC,YAAT,CAAsB,OAAtB,CAA+B,WAA/B,EACH,CAVD,OAAA,CAAA,sBAAA,CAAA,sBAAA,CAYA,QAAgB,CAAA,0BAAhB,CAA2C,KAA3C,CAAoF,CAChF,GAAI,KAAK,CAAC,IAAN,GAAe,WAAf,EAA8B,KAAK,CAAC,IAAN,GAAe,YAA7C,EAA6D,KAAK,CAAC,IAAN,GAAe,UAAhF,CAA4F,CACxF,OACH,CACD,GAAM,CAAA,aAAa,CAAG,KAAK,CAAC,aAAN,CAAoB,aAApB,CAAmC,aAAzD,CACA,GAAM,CAAA,OAAO,CAAG,KAAK,CAAC,aAAtB,CAEA,GAAM,CAAA,SAAS,CAAG,aAAa,EAAI,aAAa,CAAC,YAAd,CAA2B,YAA3B,CAAjB,EAA6D,EAA/E,CACA,GAAM,CAAA,WAAW,CAAG,yBAAyB,CAAC,OAAD,CAAU,SAAV,CAAqB,KAArB,CAA7C,CAEA,OAAO,CAAC,eAAR,CAAwB,OAAxB,EACA,OAAO,CAAC,YAAR,CAAqB,OAArB,CAA8B,WAA9B,EACH,CAZD,OAAA,CAAA,0BAAA,CAAA,0BAAA,CAcA,QAAS,CAAA,yBAAT,CAAmC,OAAnC,CAA4E,SAA5E,CAA+F,KAA/F,CAAwI,CACpI,OAAO,CAAC,eAAR,CAAwB,OAAxB,EACA,GAAM,CAAA,MAAM,CAAG,OAAO,CAAC,aAAR,EAAyB,OAAO,CAAC,aAAR,CAAsB,sBAA/C,EAAyE,OAAO,CAAC,aAAR,CAAsB,sBAAtB,CAA6C,aAA7C,CAA2D,KAA3D,CAAxF,CACA,GAAM,CAAA,WAAW,CAAG,YAAa,GAAG,MAAO,CAAC,KAAR,CAAgB,MAAM,CAAC,SAAD,CAAtC,EAAsD,IAAtD,CACd,WADc,EACA,GAAG,MAAO,CAAC,MAAR,CAAiB,MAAM,CAAC,SAAD,CAD1B,EAC0C,IAD1C,CACiD,cADrE,CAEA,OAAQ,CAAC,YAAT,CAAsB,OAAtB,CAA+B,WAA/B,EAEA,GAAM,CAAA,WAAW,CAAG,MAAO,CAAC,WAA5B,CACA,GAAM,CAAA,YAAY,CAAG,MAAO,CAAC,YAA7B,CACA,GAAM,CAAA,WAAW,CAAG,MAAO,CAAC,WAA5B,CACA,GAAM,CAAA,YAAY,CAAG,MAAO,CAAC,YAA7B,CACA,GAAM,CAAA,MAAM,CAAG,CAAC,OAAO,CAAC,KAAR,CAAgB,WAAjB,EAAgC,WAA/C,CACA,GAAM,CAAA,MAAM,CAAG,CAAC,OAAO,CAAC,MAAR,CAAiB,YAAlB,EAAkC,YAAjD,CAEA,GAAM,CAAA,OAAO,CAAG,MAAO,CAAC,qBAAR,EAAhB,CAEA,GAAI,CAAA,IAAI,CAAG,CAAX,CACA,GAAI,CAAA,GAAG,CAAG,CAAV,CAEA,IAAI,CAAG,KAAK,CAAC,KAAN,CAAc,OAAO,CAAC,IAA7B,CACA,GAAG,CAAG,KAAK,CAAC,KAAN,CAAc,OAAO,CAAC,GAA5B,CACA,IAAI,CAAG,IAAI,CAAG,MAAM,CAAC,WAArB,CACA,GAAG,CAAG,GAAG,CAAG,MAAM,CAAC,WAAnB,CACA,GAAG,CAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,GAAT,CAAc,YAAd,CAAT,CAAsC,CAAtC,CAAN,CACA,IAAI,CAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,IAAT,CAAe,WAAf,CAAT,CAAsC,CAAtC,CAAP,CACA,MAAO,GAAG,WAAH,CAAmB,SAAnB,EAA+B,GAAG,IAAI,CAAG,CAAC,MAA1C,EAAqD,IAArD,CAA4D,QAA5D,EAAuE,GAAG,GAAG,CAAG,CAAC,MAAjF,EAA4F,IAAnG,CACH,CAED,QAAgB,CAAA,yBAAhB,CAA0C,KAA1C,CAAmF,CAC/E,GAAI,KAAK,CAAC,IAAN,GAAe,WAAf,EAA8B,KAAK,CAAC,IAAN,GAAe,YAA7C,EAA6D,KAAK,CAAC,IAAN,GAAe,UAAhF,CAA4F,CACxF,OACH,CACD,KAAK,CAAC,aAAN,CAAoB,eAApB,CAAoC,OAApC,EACA,KAAK,CAAC,aAAN,CAAoB,KAApB,CAA0B,MAA1B,CAAmC,GAAnC,CACA,KAAK,CAAC,aAAN,CAAoB,KAApB,CAA0B,KAA1B,CAAkC,GAAlC,CACH,CAPD,OAAA,CAAA,yBAAA,CAAA,yBAAA,CASA,QAAgB,CAAA,cAAhB,CAA+B,KAA/B,CAA0E,SAA1E,CAA4F,C,UACxF,GAAI,KAAK,CAAC,IAAN,GAAe,WAAf,EAA8B,KAAK,CAAC,IAAN,GAAe,YAA7C,EAA6D,KAAK,CAAC,IAAN,GAAe,UAAhF,CAA4F,CACxF,OACH,CAED,GAAM,CAAA,OAAO,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAG,KAAK,CAAC,aAAN,CAAoB,aAAvB,IAAoC,IAApC,EAAoC,EAAA,GAAA,IAAA,EAApC,CAAoC,IAAA,EAApC,CAAoC,EAAA,CAAE,kBAAtC,IAAwD,IAAxD,EAAwD,EAAA,GAAA,IAAA,EAAxD,CAAwD,IAAA,EAAxD,CAAwD,EAAA,CAAE,aAAF,CAAgB,KAAhB,CAArE,CACA,GAAI,CAAC,OAAL,CAAc,CACV,OACH,CAED,GAAM,CAAA,WAAW,CAAG,yBAAyB,CAAC,OAAD,CAAU,SAAS,EAAI,GAAvB,CAA4B,KAA5B,CAA7C,CACA,OAAO,CAAC,eAAR,CAAwB,OAAxB,EACA,OAAO,CAAC,YAAR,CAAqB,OAArB,CAA8B,WAA9B,EACH,CAbD,OAAA,CAAA,cAAA,CAAA,cAAA,CAgBA,QAAS,CAAA,KAAT,CAAe,SAAf,CAAkC,SAAlC,CAAqD,WAArD,CAA0E,YAA1E,CAAgG,cAAhG,CAAwH,eAAxH,CAA+I,CAC3I,GAAI,CAAA,CAAC,CAAG,CAAR,CACA,GAAI,CAAA,CAAC,CAAG,CAAR,CAEA,CAAC,CAAG,SAAS,CAAI,WAAW,CAAG,CAA/B,CACA,CAAC,CAAG,SAAS,CAAI,YAAY,CAAG,CAAhC,CAEA,GAAI,CAAC,CAAG,cAAc,CAAG,WAAzB,CAAsC,CAClC,CAAC,CAAG,cAAc,CAAG,WAArB,CACH,CAED,GAAI,CAAC,CAAG,CAAR,CAAW,CACP,CAAC,CAAG,CAAJ,CACH,CACD,GAAI,CAAC,CAAG,eAAe,CAAG,YAA1B,CAAwC,CACpC,CAAC,CAAG,eAAe,CAAG,YAAtB,CACH,CACD,GAAI,CAAC,CAAG,CAAR,CAAW,CACP,CAAC,CAAG,CAAJ,CACH,CACD,MAAO,CACH,CAAC,CAAE,CADA,CAEH,CAAC,CAAE,CAFA,CAAP,CAIH,CAGD,QAAS,CAAA,kBAAT,CAA4B,KAA5B,CAAmD,CAC/C,GAAM,CAAA,GAAG,CAAG,KAAK,CAAC,aAAlB,CACA,GAAI,CAAA,CAAC,CAAG,CAAR,CACA,GAAI,CAAA,CAAC,CAAG,CAAR,CACA,KAAK,CAAG,KAAK,EAAI,MAAM,CAAC,KAAxB,CACA,GAAM,CAAA,CAAC,CAAG,GAAI,CAAC,qBAAL,EAAV,CACA,CAAC,CAAG,KAAK,CAAC,KAAN,CAAc,CAAC,CAAC,IAApB,CACA,CAAC,CAAG,KAAK,CAAC,KAAN,CAAc,CAAC,CAAC,GAApB,CACA,CAAC,CAAG,CAAC,CAAG,MAAM,CAAC,WAAf,CACA,CAAC,CAAG,CAAC,CAAG,MAAM,CAAC,WAAf,CACA,MAAO,CACH,CAAC,CAAE,CADA,CAEH,CAAC,CAAE,CAFA,CAAP,CAIH,CAGD,QAAS,CAAA,YAAT,CAAsB,KAAtB,CAA+C,GAA/C,CAAqE,CACjE,GAAI,CAAA,CAAC,CAAG,CAAR,CACA,GAAI,CAAA,CAAC,CAAG,CAAR,CACA,GAAI,CAAA,CAAC,CAAG,CAAR,CACA,KAAK,CAAG,KAAK,EAAI,MAAM,CAAC,KAAxB,CACA,GAAM,CAAA,CAAC,CAAG,GAAI,CAAC,qBAAL,EAAV,CACA,CAAC,CAAG,KAAK,CAAC,KAAN,CAAc,CAAC,CAAC,IAApB,CACA,CAAC,CAAG,KAAK,CAAC,KAAN,CAAc,CAAC,CAAC,GAApB,CACA,CAAC,CAAG,CAAC,CAAC,GAAN,CACA,CAAC,CAAG,CAAC,CAAG,MAAM,CAAC,WAAf,CACA,CAAC,CAAG,CAAC,CAAG,MAAM,CAAC,WAAf,CACA,MAAO,CACH,CAAC,CAAE,CADA,CAEH,CAAC,CAAE,CAFA,CAGH,CAAC,CAAE,CAHA,CAAP,CAKH,CAED,QAAgB,CAAA,qBAAhB,EAAqC,CACjC,GAAM,CAAA,MAAM,CAA6B,QAAQ,CAAC,IAAT,CAAc,aAAd,CAA4B,4BAA5B,CAAzC,CACA,GAAM,CAAA,YAAY,CAAG,MAAM,EAAI,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA/B,CACA,GAAG,YAAH,CAAiB,CACb,MAAO,CAAC,eAAR,CAAwB,OAAxB,EACA,MAAO,CAAC,YAAR,CAAqB,OAArB,CAA6B,sBAA7B,EACH,CACJ,CAPD,OAAA,CAAA,qBAAA,CAAA,qBAAA","sourcesContent":["export function onMouseMoveLensContainer(event: React.MouseEvent<HTMLDivElement>): void {\n    if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n        return;\n    }\n    const img = event.currentTarget.nextElementSibling?.querySelector('img') || undefined;\n    const lens = event.currentTarget;\n\n    if (!document.body.querySelector('.ms-containerZoom__result')) {\n        const containerDiv = document.createElement('div');\n        containerDiv.setAttribute('class', 'ms-containerZoom__result');\n        document.body.appendChild(containerDiv);\n    }\n    const zoomPic = document.body.querySelector('.ms-containerZoom__result') || undefined;\n    containerZoomMouseMoveHandler(event, img, lens, zoomPic);\n}\n\nfunction containerZoomMouseMoveHandler(event: React.MouseEvent<HTMLDivElement>, img: HTMLImageElement | undefined, lens: EventTarget & HTMLDivElement, zoomPic: Element | undefined): void {\n    const cx = zoomPic!.clientWidth / lens.offsetWidth;\n    const cy = zoomPic!.clientHeight / lens.offsetHeight;\n    const pos = getCursorPos(event, img);\n    const xy = getXY(pos.x, pos.y, lens.offsetWidth, lens.offsetHeight, lens!.parentElement!.parentElement!.offsetWidth, lens!.parentElement!.parentElement!.offsetHeight);\n    const lensStyle = `; left:` + `${xy.x}px` + ` ` + `; top:` + `${xy.y}px` + ` `;\n    lens?.setAttribute('style', lensStyle);\n\n    const src = img!.getAttribute('src');\n\n    const picStyleValues = `; background-position:` + `-` + `${xy.x * cx}px` + ` -` + `${xy.y * cy}px`\n        + `; background-size:` + `${img!.width * cx}px` + ` ` + `${img!.height * cy}px`\n        + `; background-image:url('` + `${src}` + ` ')` + `; top:` + `${pos.z}px` + ` `;\n\n    zoomPic!.setAttribute('style', picStyleValues);\n}\n\nexport function onMouseOutLensContainer(event: React.MouseEvent<HTMLDivElement>): void {\n    event.currentTarget.removeAttribute('style');\n    event.currentTarget?.setAttribute('style', 'left: -200px; top: -200px');\n    event.currentTarget.classList.remove('ms-containerZoom__zoom-lens__opacity');\n\n    const img = event.currentTarget.nextElementSibling?.querySelector('img');\n    img!.removeAttribute('style');\n\n    const resultEle = document.body.querySelector('.ms-containerZoom__result');\n    if (document.body.querySelector('.ms-containerZoom__result')) {\n        document.body.removeChild(resultEle!);\n    }\n}\n\nexport function onMouseOverImageContainer(event: React.MouseEvent<HTMLDivElement>): void {\n    const lens = event.currentTarget.parentElement?.previousElementSibling;\n    lens!.classList.add('ms-containerZoom__zoom-lens__opacity');\n\n    if (!document.body.querySelector('.ms-containerZoom__result')) {\n        const containerDiv = document.createElement('div');\n        containerDiv.setAttribute('class', 'ms-containerZoom__result');\n        document.body.appendChild(containerDiv);\n    }\n    const pos = getCursorPosOfLens(event);\n    const xy = getXY(pos.x, pos.y, lens!.clientWidth, lens!.clientWidth, lens?.parentElement?.parentElement!.offsetWidth, lens?.parentElement?.parentElement!.offsetHeight);\n\n    const lensStyle = `left:` + `${xy.x}px` + ` ` + `; top:` + `${xy.y}px` + ` `;\n    lens?.setAttribute('style', lensStyle);\n}\n\nexport function onContainerZoomInit(event: React.MouseEvent<HTMLImageElement>): void {\n    const lens = event.currentTarget.parentElement?.parentElement?.querySelector('.ms-containerZoom__zoom-lens') || undefined;\n\n    if (!document.body.querySelector('.ms-containerZoom__result')) {\n        const containerDiv = document.createElement('div');\n        containerDiv.setAttribute('class', 'ms-containerZoom__result');\n        document.body.appendChild(containerDiv);\n    }\n    const resultEle = document.body.querySelector('.ms-containerZoom__result') || undefined;\n    lens!.classList.add('ms-containerZoom__zoom-lens__opacity');\n    onMouseOverImageContainer(event);\n    containerZoomMouseMoveHandler(event, event.currentTarget, lens as EventTarget & HTMLDivElement, resultEle);\n}\n\nexport function inlineZoomImageOnHover(event: React.MouseEvent<HTMLImageElement>, scale?: string): void {\n    if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n        return;\n    }\n    const zoomImg = event.currentTarget.parentElement?.nextElementSibling?.querySelector('img');\n    const width = event.currentTarget.width;\n    const height = event.currentTarget.height;\n\n    const inlineStyle = `; width:` + `${width * Number(scale)}` + `px` + `; height:` + `${height * Number(scale)}` + `px` + `; opacity: 1`;\n    zoomImg!.setAttribute('style', inlineStyle);\n}\n\nexport function inlineZoomImageOnMouseMove(event: React.MouseEvent<HTMLImageElement>): void {\n    if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n        return;\n    }\n    const parentElement = event.currentTarget.parentElement!.parentElement;\n    const zoomImg = event.currentTarget;\n\n    const dataScale = parentElement && parentElement.getAttribute('data-scale') || '';\n    const inlineStyle = getInlineStyleOnMouseMove(zoomImg, dataScale, event);\n\n    zoomImg.removeAttribute('style');\n    zoomImg.setAttribute('style', inlineStyle);\n}\n\nfunction getInlineStyleOnMouseMove(zoomImg: EventTarget & HTMLImageElement, dataScale: string, event: React.MouseEvent<HTMLImageElement>): string {\n    zoomImg.removeAttribute('style');\n    const picImg = zoomImg.parentElement && zoomImg.parentElement.previousElementSibling && zoomImg.parentElement.previousElementSibling.querySelector('img');\n    const inlineStyle = `; width:` + `${picImg!.width * Number(dataScale)}` + `px`\n        + `; height:` + `${picImg!.height * Number(dataScale)}` + `px` + `; opacity: 1`;\n    zoomImg!.setAttribute('style', inlineStyle);\n\n    const targetWidth = picImg!.offsetWidth;\n    const targetHeight = picImg!.offsetHeight;\n    const sourceWidth = picImg!.offsetWidth;\n    const sourceHeight = picImg!.offsetHeight;\n    const xRatio = (zoomImg.width - targetWidth) / sourceWidth;\n    const yRatio = (zoomImg.height - targetHeight) / sourceHeight;\n\n    const imgArea = picImg!.getBoundingClientRect();\n\n    let left = 0;\n    let top = 0;\n\n    left = event.pageX - imgArea.left;\n    top = event.pageY - imgArea.top;\n    left = left - window.pageXOffset;\n    top = top - window.pageYOffset;\n    top = Math.max(Math.min(top, sourceHeight), 0);\n    left = Math.max(Math.min(left, sourceWidth), 0);\n    return `${inlineStyle}` + `; left:` + `${left * -xRatio}` + `px` + `; top:` + `${top * -yRatio}` + `px`;\n}\n\nexport function inlineZoomImageOnMouseOut(event: React.MouseEvent<HTMLImageElement>): void {\n    if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n        return;\n    }\n    event.currentTarget.removeAttribute('style');\n    event.currentTarget.style.height = '0';\n    event.currentTarget.style.width = '0';\n}\n\nexport function inlineZoomInit(event: React.MouseEvent<HTMLImageElement>, dataScale?: string): void {\n    if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n        return;\n    }\n\n    const zoomImg = event.currentTarget.parentElement?.nextElementSibling?.querySelector('img');\n    if (!zoomImg) {\n        return;\n    }\n\n    const inlineStyle = getInlineStyleOnMouseMove(zoomImg, dataScale || '1', event);\n    zoomImg.removeAttribute('style');\n    zoomImg.setAttribute('style', inlineStyle);\n}\n\n// tslint:disable-next-line:typedef\nfunction getXY(positionX: number, positionY: number, clientWidth: number, clientheight: number, eleOffsetWidth: number, eleOffsetHeight: number) {\n    let x = 0;\n    let y = 0;\n\n    x = positionX - (clientWidth / 2);\n    y = positionY - (clientheight / 2);\n\n    if (x > eleOffsetWidth - clientWidth) {\n        x = eleOffsetWidth - clientWidth;\n    }\n\n    if (x < 0) {\n        x = 0;\n    }\n    if (y > eleOffsetHeight - clientheight) {\n        y = eleOffsetHeight - clientheight;\n    }\n    if (y < 0) {\n        y = 0;\n    }\n    return {\n        x: x,\n        y: y\n    };\n}\n\n// tslint:disable-next-line:typedef\nfunction getCursorPosOfLens(event: React.MouseEvent) {\n    const img = event.currentTarget;\n    let x = 0;\n    let y = 0;\n    event = event || window.event;\n    const a = img!.getBoundingClientRect();\n    x = event.pageX - a.left;\n    y = event.pageY - a.top;\n    x = x - window.pageXOffset;\n    y = y - window.pageYOffset;\n    return {\n        x: x,\n        y: y\n    };\n}\n\n// tslint:disable-next-line:typedef\nfunction getCursorPos(event: React.MouseEvent, img?: HTMLImageElement) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    event = event || window.event;\n    const a = img!.getBoundingClientRect();\n    x = event.pageX - a.left;\n    y = event.pageY - a.top;\n    z = a.top;\n    x = x - window.pageXOffset;\n    y = y - window.pageYOffset;\n    return {\n        x: x,\n        y: y,\n        z: z\n    };\n}\n\nexport function removeInlineZoomStyle(): void {\n    const imgTag: HTMLImageElement | null  = document.body.querySelector('.ms-inline-zoom__zoomedImg');\n    const hasStyleAttr = imgTag && imgTag.hasAttribute('style');\n    if(hasStyleAttr) {\n        imgTag!.removeAttribute('style');\n        imgTag!.setAttribute('style','width: 0; height: 0;');\n    }\n}"]},"metadata":{},"sourceType":"script"}