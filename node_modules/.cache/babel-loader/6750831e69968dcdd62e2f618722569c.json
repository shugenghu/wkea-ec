{"ast":null,"code":"import\"core-js/modules/es.promise.js\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{createDataActionHook}from'@msdyn365-commerce/core';const beforeRead=async inputs=>{};const afterRead=async(_inputs,cart,actionContext)=>{try{const activeCart=await Promise.resolve(Array.isArray(cart)?cart[0]:cart);actionContext.requestContext.telemetryData[\"activeCart\"]=activeCart;}catch(e){actionContext.telemetry.debug('ReadCart post-data action hook failed.',e);}};createDataActionHook({actionId:'@msdyn365-commerce/retail-proxy/Carts/Read',postReaderHook:afterRead,preReaderHook:beforeRead});","map":{"version":3,"sources":["actions/readCart-telemetry.action.ts"],"names":[],"mappings":"sCAAA;;;AAGG,GAEH,OAAS,oBAAT,KAAmE,yBAAnE,CAGA,KAAM,CAAA,UAAU,CAAG,KAAO,CAAA,MAAP,EAAgD,CAElE,CAFD,CAIA,KAAM,CAAA,SAAS,CAAG,MAAO,OAAP,CAA+C,IAA/C,CAAoE,aAApE,GAAqG,CACnH,GAAI,CACA,KAAM,CAAA,UAAU,CAAG,KAAM,CAAA,OAAO,CAAC,OAAR,CAAgB,KAAK,CAAC,OAAN,CAAc,IAAd,EAAsB,IAAI,CAAC,CAAD,CAA1B,CAAgC,IAAhD,CAAzB,CACA,aAAa,CAAC,cAAd,CAA6B,aAA7B,eAA2D,UAA3D,CACH,CAAC,MAAO,CAAP,CAAU,CACR,aAAa,CAAC,SAAd,CAAwB,KAAxB,CAA8B,wCAA9B,CAAwE,CAAxE,EACH,CACJ,CAPD,CASA,oBAAoB,CAAC,CACjB,QAAQ,CAAE,4CADO,CAEjB,cAAc,CAAE,SAFC,CAGjB,aAAa,CAAE,UAHE,CAAD,CAApB","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { createDataActionHook, IActionContext, IActionInput } from '@msdyn365-commerce/core';\nimport { Cart } from '@msdyn365-commerce/retail-proxy';\n\nconst beforeRead = async (inputs: IActionInput | IActionInput[]) => {\n    // placeholder\n};\n\nconst afterRead = async (_inputs: IActionInput | IActionInput[], cart: Cart | Cart[], actionContext: IActionContext) => {\n    try {\n        const activeCart = await Promise.resolve(Array.isArray(cart) ? cart[0] : cart);\n        actionContext.requestContext.telemetryData[`activeCart`] = activeCart;\n    } catch (e) {\n        actionContext.telemetry.debug('ReadCart post-data action hook failed.', e);\n    }\n};\n\ncreateDataActionHook({\n    actionId: '@msdyn365-commerce/retail-proxy/Carts/Read',\n    postReaderHook: afterRead,\n    preReaderHook: beforeRead\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}