{"ast":null,"code":"import\"core-js/modules/web.dom-collections.for-each.js\";import\"core-js/modules/web.dom-collections.iterator.js\";import{getPayloadObject,getTelemetryAttributes,onTelemetryClick}from'@msdyn365-commerce-modules/utilities';import*as Msdyn365 from'@msdyn365-commerce/core';import*as React from'react';export class CookieComplianceLinks extends React.PureComponent{constructor(){super(...arguments);this._mapEditableLinks=linkdata=>{if(!linkdata||linkdata.length===0){return null;}const editableLinks=[];linkdata.forEach((link,index)=>{const payLoad=getPayloadObject('click',this.props.telemetryContent,'','');const linkText=link.linkText?link.linkText:'';payLoad.contentAction.etext=linkText;const attributes=getTelemetryAttributes(this.props.telemetryContent,payLoad);const editableLink={ariaLabel:link.ariaLabel,className:'link',linkText:link.linkText,linkUrl:link.linkUrl.destinationUrl,openInNewTab:link.openInNewTab,role:'button',additionalProperties:attributes,onClick:onTelemetryClick(this.props.telemetryContent,payLoad,linkText)};editableLinks.push(editableLink);});return editableLinks;};}render(){const editableLinks=this._mapEditableLinks(this.props.links);return/*#__PURE__*/React.createElement(\"span\",{className:'ms-cookie-compliance__cta-layer'},editableLinks&&editableLinks.length?/*#__PURE__*/React.createElement(Msdyn365.Links,{links:editableLinks,editProps:{onTextChange:this.props.onTextChange,requestContext:this.props.requestContext}}):null);}}export default CookieComplianceLinks;","map":{"version":3,"sources":["modules/cookie-compliance/components/links.tsx"],"names":[],"mappings":"gHAIA,OAAS,gBAAT,CAA2B,sBAA3B,CAAsE,gBAAtE,KAA8F,sCAA9F,CACA,MAAO,GAAK,CAAA,QAAZ,KAA0B,yBAA1B,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAeA,MAAM,MAAO,CAAA,qBAAP,QAAqC,CAAA,KAAK,CAAC,aAAqC,CAAtF,WAAA,EAAA,C,oBAiBY,KAAA,iBAAA,CAAqB,QAAD,EAA+D,CACvF,GAAG,CAAC,QAAD,EAAa,QAAQ,CAAC,MAAT,GAAoB,CAApC,CAAuC,CACnC,MAAO,KAAP,CACH,CACD,KAAM,CAAA,aAAa,CAA0B,EAA7C,CACA,QAAQ,CAAC,OAAT,CAAiB,CAAC,IAAD,CAAM,KAAN,GAAe,CAE5B,KAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,OAAD,CAAU,KAAK,KAAL,CAAW,gBAArB,CAAuC,EAAvC,CAA2C,EAA3C,CAAhC,CACA,KAAM,CAAA,QAAQ,CAAG,IAAI,CAAC,QAAL,CAAgB,IAAI,CAAC,QAArB,CAAgC,EAAjD,CACA,OAAO,CAAC,aAAR,CAAsB,KAAtB,CAA8B,QAA9B,CACA,KAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,KAAK,KAAL,CAAW,gBAAZ,CAA8B,OAA9B,CAAzC,CACA,KAAM,CAAA,YAAY,CAAwB,CACtC,SAAS,CAAE,IAAI,CAAC,SADsB,CAEtC,SAAS,CAAE,MAF2B,CAGtC,QAAQ,CAAE,IAAI,CAAC,QAHuB,CAItC,OAAO,CAAE,IAAI,CAAC,OAAL,CAAa,cAJgB,CAKtC,YAAY,CAAE,IAAI,CAAC,YALmB,CAMtC,IAAI,CAAE,QANgC,CAOtC,oBAAoB,CAAE,UAPgB,CAQtC,OAAO,CAAE,gBAAgB,CAAC,KAAK,KAAL,CAAW,gBAAZ,CAA8B,OAA9B,CAAuC,QAAvC,CARa,CAA1C,CAUA,aAAa,CAAC,IAAd,CAAmB,YAAnB,EACH,CAjBD,EAmBA,MAAO,CAAA,aAAP,CACH,CAzBO,CA0BX,CA1CU,MAAM,EAAA,CACT,KAAM,CAAA,aAAa,CAAG,KAAK,iBAAL,CAAuB,KAAK,KAAL,CAAW,KAAlC,CAAtB,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAM,SAAS,CAAC,iCAAhB,CAAA,CACK,aAAa,EAAI,aAAa,CAAC,MAA/B,cACG,KAAA,CAAA,aAAA,CAAC,QAAQ,CAAC,KAAV,CAAe,CACX,KAAK,CAAG,aADG,CAEX,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,KAAL,CAAW,YAA1B,CAAwC,cAAc,CAAE,KAAK,KAAL,CAAW,cAAnE,CAFA,CAAf,CADH,CAKK,IANV,CADJ,CAYH,CAfiF,CA6CtF,cAAe,CAAA,qBAAf","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport * as React from 'react';\nimport { IActionLinksData } from '../cookie-compliance.props.autogenerated';\n\nexport interface ICookieComplianceLinks {\n    links: IActionLinksData[];\n    requestContext: Msdyn365.IRequestContext;\n    telemetryContent: ITelemetryContent;\n    onTextChange?(index: number): (event: Msdyn365.ContentEditableEvent) => void;\n}\n\n/**\n *\n * ContentCardLinks component\n * @extends {React.PureComponent<IContentCardLinks>}\n */\nexport class CookieComplianceLinks extends React.PureComponent<ICookieComplianceLinks> {\n    public render(): JSX.Element {\n        const editableLinks = this._mapEditableLinks(this.props.links);\n        return(\n            <span className='ms-cookie-compliance__cta-layer'>\n                {editableLinks && editableLinks.length ?\n                    <Msdyn365.Links\n                        links= {editableLinks}\n                        editProps={{onTextChange: this.props.onTextChange, requestContext: this.props.requestContext}}\n                    />\n                    : null\n                }\n             </span>\n\n        );\n    }\n\n    private _mapEditableLinks = (linkdata: IActionLinksData[]): Msdyn365.ILinksData[] | null => {\n        if(!linkdata || linkdata.length === 0) {\n            return null;\n        }\n        const editableLinks: Msdyn365.ILinksData[] = [];\n        linkdata.forEach((link,index) => {\n            // Construct telemetry attribute to render\n            const payLoad = getPayloadObject('click', this.props.telemetryContent, '', '');\n            const linkText = link.linkText ? link.linkText : '';\n            payLoad.contentAction.etext = linkText;\n            const attributes = getTelemetryAttributes(this.props.telemetryContent, payLoad);\n            const editableLink: Msdyn365.ILinksData = {\n                ariaLabel: link.ariaLabel,\n                className: 'link',\n                linkText: link.linkText,\n                linkUrl: link.linkUrl.destinationUrl,\n                openInNewTab: link.openInNewTab,\n                role: 'button',\n                additionalProperties: attributes,\n                onClick: onTelemetryClick(this.props.telemetryContent, payLoad, linkText)\n            };\n            editableLinks.push(editableLink);\n        });\n\n        return editableLinks;\n    };\n}\n\nexport default CookieComplianceLinks;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}