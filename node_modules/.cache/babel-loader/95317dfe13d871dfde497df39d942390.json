{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{buildCacheKeyWithUrlTokens}from'@msdyn365-commerce-modules/retail-actions';import{createObservableDataAction}from'@msdyn365-commerce/core';export var PageSummaryInput=function PageSummaryInput(config,requestContext){var _this=this;_classCallCheck(this,PageSummaryInput);this.getCacheObjectType=function(){return'PageSummary';};this.getCacheKey=function(){return\"\".concat(buildCacheKeyWithUrlTokens('PageSummary',_this.requestContext),\"-\").concat(_this.config.title);};this.dataCacheType=function(){return'request';};this.config=config||{};this.requestContext=requestContext;};var action=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(input,context){var config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config=input.config;return _context.abrupt(\"return\",{title:config&&config.title,description:config&&config.description,keywords:config&&config.keywords,sharingImageUrl:config&&config.sharingImage&&config.sharingImage.src,canonicalUrl:context.requestContext&&context.requestContext.canonicalUrl,faviconUrl:config&&config.faviconUrl});case 2:case\"end\":return _context.stop();}}},_callee);}));return function action(_x,_x2){return _ref.apply(this,arguments);};}();export default createObservableDataAction({id:'@msdyn365-commerce-modules/page-summary/default-page-summary',action:action,input:function input(args){return new PageSummaryInput(args.config,args.requestContext);}});","map":{"version":3,"sources":["modules/default-page-summary/default-page-summary.action.ts"],"names":[],"mappings":"8MAAA;;;AAGG,GAEH,OAAS,0BAAT,KAA2C,2CAA3C,CACA,OAEI,0BAFJ,KAQO,yBARP,CAqBA,UAAa,CAAA,gBAAb,CAII,0BAAY,MAAZ,CAA+C,cAA/C,CAA8E,uDAKvE,KAAA,kBAAA,CAAqB,iBAAc,aAAd,EAArB,CACA,KAAA,WAAA,CAAc,2BAAiB,0BAA0B,CAAC,aAAD,CAAgB,KAAI,CAAC,cAArB,CAA3C,aAAmF,KAAI,CAAC,MAAL,CAAY,KAA/F,GAAd,CACA,KAAA,aAAA,CAAgB,iBAAiB,SAAjB,EAAhB,CANH,KAAK,MAAL,CAAc,MAAM,EAAI,EAAxB,CACA,KAAK,cAAL,CAAsB,cAAtB,CACH,CAPL,CAcA,GAAM,CAAA,MAAM,0FAAG,iBAAO,KAAP,CAAgC,OAAhC,6HACH,MADG,CACQ,KADR,CACH,MADG,iCAEJ,CACH,KAAK,CAAE,MAAM,EAAI,MAAM,CAAC,KADrB,CAEH,WAAW,CAAE,MAAM,EAAI,MAAM,CAAC,WAF3B,CAGH,QAAQ,CAAE,MAAM,EAAI,MAAM,CAAC,QAHxB,CAIH,eAAe,CAAE,MAAM,EAAI,MAAM,CAAC,YAAjB,EAAiC,MAAM,CAAC,YAAP,CAAoB,GAJnE,CAKH,YAAY,CAAE,OAAO,CAAC,cAAR,EAA0B,OAAO,CAAC,cAAR,CAAuB,YAL5D,CAMH,UAAU,CAAE,MAAM,EAAI,MAAM,CAAC,UAN1B,CAFI,wDAAH,kBAAN,CAAA,MAAM,gDAAZ,CAYA,cAAe,CAAA,0BAA0B,CAAC,CACtC,EAAE,CAAE,8DADkC,CAEtC,MAAM,CAA6B,MAFG,CAGtC,KAAK,CAAE,eAAC,IAAD,CAA+B,CAClC,MAAO,IAAI,CAAA,gBAAJ,CAAgD,IAAI,CAAC,MAArD,CAA6D,IAAI,CAAC,cAAlE,CAAP,CACH,CALqC,CAAD,CAAzC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { buildCacheKeyWithUrlTokens } from '@msdyn365-commerce-modules/retail-actions';\nimport {\n    CacheType,\n    createObservableDataAction,\n    IAction,\n    IActionContext,\n    IActionInput,\n    ICreateActionContext,\n    IRequestContext\n} from '@msdyn365-commerce/core';\nimport { IDefaultPageSummaryConfig } from './default-page-summary.props.autogenerated';\n\nexport interface IPageSummaryData {\n    title?: string;\n    description?: string;\n    keywords?: string;\n    sharingImageUrl?: string;\n    canonicalUrl?: string;\n    faviconUrl?: string;\n}\n\n/** Page Summary Input */\nexport class PageSummaryInput implements IActionInput {\n    public requestContext: IRequestContext;\n    public config: IDefaultPageSummaryConfig;\n\n    constructor(config: IDefaultPageSummaryConfig, requestContext: IRequestContext) {\n        this.config = config || {};\n        this.requestContext = requestContext;\n    }\n\n    public getCacheObjectType = (): string => 'PageSummary';\n    public getCacheKey = (): string => `${buildCacheKeyWithUrlTokens('PageSummary', this.requestContext)}-${this.config.title}`;\n    public dataCacheType = (): CacheType => 'request';\n}\n\nconst action = async (input: PageSummaryInput, context: IActionContext): Promise<IPageSummaryData> => {\n    const { config } = input;\n    return {\n        title: config && config.title,\n        description: config && config.description,\n        keywords: config && config.keywords,\n        sharingImageUrl: config && config.sharingImage && config.sharingImage.src,\n        canonicalUrl: context.requestContext && context.requestContext.canonicalUrl,\n        faviconUrl: config && config.faviconUrl\n    };\n};\n\nexport default createObservableDataAction({\n    id: '@msdyn365-commerce-modules/page-summary/default-page-summary',\n    action: <IAction<IPageSummaryData>>action,\n    input: (args: ICreateActionContext) => {\n        return new PageSummaryInput(<IDefaultPageSummaryConfig>args.config, args.requestContext);\n    }\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}