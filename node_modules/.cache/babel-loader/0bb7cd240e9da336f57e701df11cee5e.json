{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{format,getPayloadObject,getTelemetryAttributes,onTelemetryClick}from'@msdyn365-commerce-modules/utilities';import{getUrlSync,msdyn365Commerce}from'@msdyn365-commerce/core';import{observer}from'mobx-react';import*as React from'react';var CartIconComponentActions={};var CartIcon=observer(function(props){var cartLabel=props.cartLabel,cart=props.data.cart;var cartLink=getUrlSync('cart',props.context.actionContext);var cartItem=\"(\".concat(cart.totalItemsInCart,\")\");var label=format(cartLabel,cartItem)||\"Shopping bag, \".concat(cartItem,\" items\");var payLoad=getPayloadObject('click',props.telemetryContent,'cart-icon','');var attributes=getTelemetryAttributes(props.telemetryContent,payLoad);return/*#__PURE__*/React.createElement(\"a\",Object.assign({title:label,className:'msc-cart-icon msc-btn',href:cartLink,\"aria-label\":label},attributes,{onClick:onTelemetryClick(props.telemetryContent,payLoad,'cart-icon')}),/*#__PURE__*/React.createElement(\"div\",{className:'msc-cart-icon__count',\"aria-hidden\":true},cartItem));});export var CartIconComponent=msdyn365Commerce.createComponent('CartIcon',_objectSpread({component:CartIcon},CartIconComponentActions));","map":{"version":3,"sources":["cart-icon/cart-icon.component.tsx"],"names":[],"mappings":"m2BAKA,OAAS,MAAT,CAAiB,gBAAjB,CAAmC,sBAAnC,CAA8E,gBAA9E,KAAsG,sCAAtG,CACA,OAAS,UAAT,CAAkD,gBAAlD,KAA0E,yBAA1E,CAEA,OAAS,QAAT,KAAyB,YAAzB,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAeA,GAAM,CAAA,wBAAwB,CAAG,EAAjC,CAQA,GAAM,CAAA,QAAQ,CAAsC,QAAQ,CAAC,SAAC,KAAD,CAAmC,IACpF,CAAA,SADoF,CACxD,KADwD,CACpF,SADoF,CAClE,IADkE,CACxD,KADwD,CACzE,IADyE,CAClE,IADkE,CAE5F,GAAM,CAAA,QAAQ,CAAG,UAAU,CAAC,MAAD,CAAS,KAAK,CAAC,OAAN,CAAc,aAAvB,CAA3B,CACA,GAAM,CAAA,QAAQ,YAAO,IAAI,CAAC,gBAAZ,KAAd,CACA,GAAM,CAAA,KAAK,CAAG,MAAM,CAAC,SAAD,CAAY,QAAZ,CAAN,0BAAgD,QAAhD,UAAd,CAEA,GAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,OAAD,CAAU,KAAK,CAAC,gBAAhB,CAAmC,WAAnC,CAAgD,EAAhD,CAAhC,CACA,GAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,KAAK,CAAC,gBAAP,CAA0B,OAA1B,CAAzC,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,GAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAG,KAAK,CAAG,KAAX,CAAkB,SAAS,CAAC,uBAA5B,CAAoD,IAAI,CAAE,QAA1D,CAAkE,aAAc,KAAhF,CAAA,CAA2F,UAA3F,CAAqG,CAAE,OAAO,CAAG,gBAAgB,CAAC,KAAK,CAAC,gBAAP,CAA0B,OAA1B,CAAmC,WAAnC,CAA5B,CAArG,CAAA,cACI,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAK,SAAS,CAAC,sBAAf,CAAqC,cAAc,IAAnD,CAAA,CACK,QADL,CADJ,CADJ,CAOH,CAf2D,CAA5D,CAkBA,MAAO,IAAM,CAAA,iBAAiB,CAAqD,gBAAgB,CAAC,eAAjB,CAC/E,UAD+E,gBAE7E,SAAS,CAAE,QAFkE,EAErD,wBAFqD,EAA5E","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { format, getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport { getUrlSync, IComponent, IComponentProps, msdyn365Commerce } from '@msdyn365-commerce/core';\nimport { ICartState } from '@msdyn365-commerce/global-state';\nimport { observer } from 'mobx-react';\nimport * as React from 'react';\n\nexport interface ICartIconData {\n    cart: ICartState;\n}\n\nexport interface ICartIconComponentProps extends IComponentProps<ICartIconData> {\n    className?: string;\n    cartLabel: string;\n    telemetryContent?: ITelemetryContent;\n}\n\nexport interface ICartIconComponent extends IComponent<ICartIconComponentProps> {\n}\n\nconst CartIconComponentActions = {\n};\n\n/**\n *\n * CartIcon component\n * @extends {React.FC<ICartIconComponentProps>}\n */\nconst CartIcon: React.FC<ICartIconComponentProps> = observer((props: ICartIconComponentProps) => {\n    const { cartLabel, data: {cart} } = props;\n    const cartLink = getUrlSync('cart', props.context.actionContext);\n    const cartItem = `(${cart.totalItemsInCart})`;\n    const label = format(cartLabel, cartItem) || `Shopping bag, ${cartItem} items`;\n    // Construct telemetry attribute to render\n    const payLoad = getPayloadObject('click', props.telemetryContent!, 'cart-icon', '');\n    const attributes = getTelemetryAttributes(props.telemetryContent!, payLoad);\n    return (\n        <a title= {label} className='msc-cart-icon msc-btn' href={cartLink} aria-label={label} {...attributes} onClick={ onTelemetryClick(props.telemetryContent!, payLoad, 'cart-icon') }>\n            <div className='msc-cart-icon__count' aria-hidden={true}>\n                {cartItem}\n            </div>\n        </a>\n    );\n});\n\n// @ts-ignore\nexport const CartIconComponent: React.FunctionComponent<ICartIconComponentProps> = msdyn365Commerce.createComponent<ICartIconComponent>(\n    'CartIcon',\n    { component: CartIcon, ...CartIconComponentActions }\n);"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}