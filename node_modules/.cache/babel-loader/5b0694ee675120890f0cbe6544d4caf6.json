{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import{getPayloadObject,getTelemetryAttributes,onTelemetryClick}from'@msdyn365-commerce-modules/utilities';import*as Msdyn365 from'@msdyn365-commerce/core';import*as React from'react';export var CookieComplianceLinks=/*#__PURE__*/function(_React$PureComponent){_inherits(CookieComplianceLinks,_React$PureComponent);var _super=_createSuper(CookieComplianceLinks);function CookieComplianceLinks(){var _this;_classCallCheck(this,CookieComplianceLinks);_this=_super.apply(this,arguments);_this._mapEditableLinks=function(linkdata){if(!linkdata||linkdata.length===0){return null;}var editableLinks=[];linkdata.forEach(function(link,index){var payLoad=getPayloadObject('click',_this.props.telemetryContent,'','');var linkText=link.linkText?link.linkText:'';payLoad.contentAction.etext=linkText;var attributes=getTelemetryAttributes(_this.props.telemetryContent,payLoad);var editableLink={ariaLabel:link.ariaLabel,className:'link',linkText:link.linkText,linkUrl:link.linkUrl.destinationUrl,openInNewTab:link.openInNewTab,role:'button',additionalProperties:attributes,onClick:onTelemetryClick(_this.props.telemetryContent,payLoad,linkText)};editableLinks.push(editableLink);});return editableLinks;};return _this;}_createClass(CookieComplianceLinks,[{key:\"render\",value:function render(){var editableLinks=this._mapEditableLinks(this.props.links);return/*#__PURE__*/React.createElement(\"span\",{className:'ms-cookie-compliance__cta-layer'},editableLinks&&editableLinks.length?/*#__PURE__*/React.createElement(Msdyn365.Links,{links:editableLinks,editProps:{onTextChange:this.props.onTextChange,requestContext:this.props.requestContext}}):null);}}]);return CookieComplianceLinks;}(React.PureComponent);export default CookieComplianceLinks;","map":{"version":3,"sources":["modules/cookie-compliance/components/links.tsx"],"names":[],"mappings":"ohCAIA,OAAS,gBAAT,CAA2B,sBAA3B,CAAsE,gBAAtE,KAA8F,sCAA9F,CACA,MAAO,GAAK,CAAA,QAAZ,KAA0B,yBAA1B,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAeA,UAAa,CAAA,qBAAb,kJAAA,gCAAA,uD,mCAiBY,MAAA,iBAAA,CAAoB,SAAC,QAAD,CAA+D,CACvF,GAAG,CAAC,QAAD,EAAa,QAAQ,CAAC,MAAT,GAAoB,CAApC,CAAuC,CACnC,MAAO,KAAP,CACH,CACD,GAAM,CAAA,aAAa,CAA0B,EAA7C,CACA,QAAQ,CAAC,OAAT,CAAiB,SAAC,IAAD,CAAM,KAAN,CAAe,CAE5B,GAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,OAAD,CAAU,MAAK,KAAL,CAAW,gBAArB,CAAuC,EAAvC,CAA2C,EAA3C,CAAhC,CACA,GAAM,CAAA,QAAQ,CAAG,IAAI,CAAC,QAAL,CAAgB,IAAI,CAAC,QAArB,CAAgC,EAAjD,CACA,OAAO,CAAC,aAAR,CAAsB,KAAtB,CAA8B,QAA9B,CACA,GAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,MAAK,KAAL,CAAW,gBAAZ,CAA8B,OAA9B,CAAzC,CACA,GAAM,CAAA,YAAY,CAAwB,CACtC,SAAS,CAAE,IAAI,CAAC,SADsB,CAEtC,SAAS,CAAE,MAF2B,CAGtC,QAAQ,CAAE,IAAI,CAAC,QAHuB,CAItC,OAAO,CAAE,IAAI,CAAC,OAAL,CAAa,cAJgB,CAKtC,YAAY,CAAE,IAAI,CAAC,YALmB,CAMtC,IAAI,CAAE,QANgC,CAOtC,oBAAoB,CAAE,UAPgB,CAQtC,OAAO,CAAE,gBAAgB,CAAC,MAAK,KAAL,CAAW,gBAAZ,CAA8B,OAA9B,CAAuC,QAAvC,CARa,CAA1C,CAUA,aAAa,CAAC,IAAd,CAAmB,YAAnB,EACH,CAjBD,EAmBA,MAAO,CAAA,aAAP,CACH,CAzBO,CAjBZ,aA2CC,CA3CD,yEACiB,CACT,GAAM,CAAA,aAAa,CAAG,KAAK,iBAAL,CAAuB,KAAK,KAAL,CAAW,KAAlC,CAAtB,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAM,SAAS,CAAC,iCAAhB,CAAA,CACK,aAAa,EAAI,aAAa,CAAC,MAA/B,cACG,KAAA,CAAA,aAAA,CAAC,QAAQ,CAAC,KAAV,CAAe,CACX,KAAK,CAAG,aADG,CAEX,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,KAAL,CAAW,YAA1B,CAAwC,cAAc,CAAE,KAAK,KAAL,CAAW,cAAnE,CAFA,CAAf,CADH,CAKK,IANV,CADJ,CAYH,CAfL,mCAA2C,KAAK,CAAC,aAAjD,EA6CA,cAAe,CAAA,qBAAf","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport * as React from 'react';\nimport { IActionLinksData } from '../cookie-compliance.props.autogenerated';\n\nexport interface ICookieComplianceLinks {\n    links: IActionLinksData[];\n    requestContext: Msdyn365.IRequestContext;\n    telemetryContent: ITelemetryContent;\n    onTextChange?(index: number): (event: Msdyn365.ContentEditableEvent) => void;\n}\n\n/**\n *\n * ContentCardLinks component\n * @extends {React.PureComponent<IContentCardLinks>}\n */\nexport class CookieComplianceLinks extends React.PureComponent<ICookieComplianceLinks> {\n    public render(): JSX.Element {\n        const editableLinks = this._mapEditableLinks(this.props.links);\n        return(\n            <span className='ms-cookie-compliance__cta-layer'>\n                {editableLinks && editableLinks.length ?\n                    <Msdyn365.Links\n                        links= {editableLinks}\n                        editProps={{onTextChange: this.props.onTextChange, requestContext: this.props.requestContext}}\n                    />\n                    : null\n                }\n             </span>\n\n        );\n    }\n\n    private _mapEditableLinks = (linkdata: IActionLinksData[]): Msdyn365.ILinksData[] | null => {\n        if(!linkdata || linkdata.length === 0) {\n            return null;\n        }\n        const editableLinks: Msdyn365.ILinksData[] = [];\n        linkdata.forEach((link,index) => {\n            // Construct telemetry attribute to render\n            const payLoad = getPayloadObject('click', this.props.telemetryContent, '', '');\n            const linkText = link.linkText ? link.linkText : '';\n            payLoad.contentAction.etext = linkText;\n            const attributes = getTelemetryAttributes(this.props.telemetryContent, payLoad);\n            const editableLink: Msdyn365.ILinksData = {\n                ariaLabel: link.ariaLabel,\n                className: 'link',\n                linkText: link.linkText,\n                linkUrl: link.linkUrl.destinationUrl,\n                openInNewTab: link.openInNewTab,\n                role: 'button',\n                additionalProperties: attributes,\n                onClick: onTelemetryClick(this.props.telemetryContent, payLoad, linkText)\n            };\n            editableLinks.push(editableLink);\n        });\n\n        return editableLinks;\n    };\n}\n\nexport default CookieComplianceLinks;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}