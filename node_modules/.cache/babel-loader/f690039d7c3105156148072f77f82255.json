{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{getTelemetryObject}from'@msdyn365-commerce-modules/utilities';import{Player}from'@msdyn365-commerce/components';import*as MsDyn365 from'@msdyn365-commerce/core';import*as React from'react';class VideoPlayer extends React.PureComponent{constructor(props){super(props);this.telemetryContent=getTelemetryObject(this.props.context.request.telemetryPageName,this.props.friendlyName,this.props.telemetry);}render(){const options=this.props.config;const video=this.props.config.video;const playerResources={playAriaLabel:this.props.resources.playLabel,pauseAriaLabel:this.props.resources.pauseLabel,playingAriaLabel:this.props.resources.playingLabel,pausedAriaLabel:this.props.resources.pausedLabel,muteAriaLabel:this.props.resources.muteLabel,unMuteAriaLabel:this.props.resources.unMuteLabel,fullScreenAriaLabel:this.props.resources.fullScreenLabel,exitFullScreenAriaLabel:this.props.resources.exitFullScreenLabel,seekBarLabel:this.props.resources.seekBarLabel,videoTimeDurationLabel:this.props.resources.videoTimeDurationLabel,closedCaptionLabel:this.props.resources.closedCaptionLabel};const videoMetaData={};if(video){videoMetaData.videoId=video.id;videoMetaData.title=video.title;videoMetaData.duration=video.playTime;if(video.thumbnail){videoMetaData.posterframeUrl=video.thumbnail.src;}if(video._links&&video._links.binaryReferences){videoMetaData.videoBinaryReferences=video._links.binaryReferences;}}const videoPlayerData={options:options,metaData:videoMetaData};const viewProps=_objectSpread(_objectSpread({},this.props),{},{player:/*#__PURE__*/React.createElement(MsDyn365.Video,{className:'',editProps:{key:this.props.config.video,requestContext:this.props.context.request}},/*#__PURE__*/React.createElement(Player,{playerData:videoPlayerData,playerResources:playerResources,telemetryContent:this.telemetryContent,isEditor:this.props.context.request.params.isEditor}))});return this.props.renderView(viewProps);}}export default VideoPlayer;","map":{"version":3,"sources":["modules/video-player/video-player.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getTelemetryObject, ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport { IVideoMetadata, Player } from '@msdyn365-commerce/components';\nimport { IPlayerOptions } from '@msdyn365-commerce/components/dist/types/videoplayer/components/data/player-options';\nimport { IPlayerResources } from '@msdyn365-commerce/components/dist/types/videoplayer/components/data/player-resources';\nimport { IPlayerData } from '@msdyn365-commerce/components/dist/types/videoplayer/players/player/Player.props';\nimport * as MsDyn365 from '@msdyn365-commerce/core';\nimport * as React from 'react';\nimport { IVideoPlayerConfig, IVideoPlayerProps } from './video-player.props.autogenerated';\n\nexport interface IVideoPlayerViewProps extends IVideoPlayerProps<{}> {\n    player: React.ReactNode;\n}\n\n/**\n *\n * VideoPlayer component\n * @extends {React.PureComponent<IVideoPlayerProps<IVideoPlayerData>>}\n */\nclass VideoPlayer extends React.PureComponent<IVideoPlayerProps<IVideoPlayerConfig>> {\n    private telemetryContent: ITelemetryContent;\n    constructor(props: IVideoPlayerProps<IVideoPlayerConfig>) {\n        super(props);\n        this.telemetryContent = getTelemetryObject(this.props.context.request.telemetryPageName!,\n                                                   this.props.friendlyName,\n                                                   this.props.telemetry);\n    }\n\n    public render(): JSX.Element {\n        const options: IPlayerOptions = this.props.config;\n        const video: MsDyn365.IVideoData = this.props.config.video;\n        const playerResources: IPlayerResources = {\n            playAriaLabel: this.props.resources.playLabel,\n            pauseAriaLabel: this.props.resources.pauseLabel,\n            playingAriaLabel: this.props.resources.playingLabel,\n            pausedAriaLabel: this.props.resources.pausedLabel,\n            muteAriaLabel:this.props.resources.muteLabel,\n            unMuteAriaLabel:this.props.resources.unMuteLabel,\n            fullScreenAriaLabel:this.props.resources.fullScreenLabel,\n            exitFullScreenAriaLabel:this.props.resources.exitFullScreenLabel,\n            seekBarLabel:this.props.resources.seekBarLabel,\n            videoTimeDurationLabel:this.props.resources.videoTimeDurationLabel,\n            closedCaptionLabel:this.props.resources.closedCaptionLabel\n        };\n        const videoMetaData: IVideoMetadata = {};\n\n        if (video) {\n            videoMetaData.videoId = video.id;\n            videoMetaData.title = video.title;\n            videoMetaData.duration = video.playTime;\n\n            if (video.thumbnail) {\n                videoMetaData.posterframeUrl = video.thumbnail.src;\n            }\n\n            if (video._links\n                && video._links.binaryReferences) {\n                    videoMetaData.videoBinaryReferences = video._links.binaryReferences;\n            }\n        }\n        const videoPlayerData: IPlayerData = { options: options, metaData: videoMetaData };\n        const viewProps = {\n            // Context for telemetry and raw data for C1 to do customization\n            // Including computed data, state data and methods\n            ...this.props,\n            // tslint:disable-next-line: jsx-wrap-multiline\n            player: <MsDyn365.Video className='' editProps={{ key: this.props.config.video, requestContext: this.props.context.request }}>\n                        <Player playerData={videoPlayerData}  playerResources={playerResources} telemetryContent={this.telemetryContent} isEditor={this.props.context.request.params.isEditor} />\n                    </MsDyn365.Video>\n        };\n        return this.props.renderView(viewProps) as React.ReactElement;\n    }\n\n}\n\nexport default VideoPlayer;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}