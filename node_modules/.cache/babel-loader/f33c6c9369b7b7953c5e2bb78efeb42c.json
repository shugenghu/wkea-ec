{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import{getPayloadObject,getTelemetryAttributes,onTelemetryClick}from'@msdyn365-commerce-modules/utilities';import*as Msdyn365 from'@msdyn365-commerce/core';import*as React from'react';export var ContentCardLinks=/*#__PURE__*/function(_React$PureComponent){_inherits(ContentCardLinks,_React$PureComponent);var _super=_createSuper(ContentCardLinks);function ContentCardLinks(){var _this;_classCallCheck(this,ContentCardLinks);_this=_super.apply(this,arguments);_this._mapEditableLinks=function(linkdata){if(!linkdata||linkdata.length===0){return null;}var editableLinks=[];linkdata.forEach(function(link,index){var payLoad=getPayloadObject('click',_this.props.telemetryContent,'','');var linkText=link.linkText?link.linkText:'';payLoad.contentAction.etext=linkText;var attributes=getTelemetryAttributes(_this.props.telemetryContent,payLoad);var btnClass=index===0?'msc-cta__primary':'msc-cta__secondary';var editableLink={ariaLabel:link.ariaLabel,className:btnClass,linkText:link.linkText,linkUrl:link.linkUrl.destinationUrl,openInNewTab:link.openInNewTab,role:'button',additionalProperties:attributes,onClick:onTelemetryClick(_this.props.telemetryContent,payLoad,linkText)};editableLinks.push(editableLink);});return editableLinks;};return _this;}_createClass(ContentCardLinks,[{key:\"render\",value:function render(){var editableLinks=this._mapEditableLinks(this.props.links);return/*#__PURE__*/React.createElement(\"div\",{className:'ms-content-block__cta'},editableLinks&&editableLinks.length?/*#__PURE__*/React.createElement(Msdyn365.Links,{links:editableLinks,editProps:{onTextChange:this.props.onTextChange,requestContext:this.props.requestContext}}):null);}}]);return ContentCardLinks;}(React.PureComponent);export default ContentCardLinks;","map":{"version":3,"sources":["modules/content-block/components/links.tsx"],"names":[],"mappings":"ohCAAA,OAAS,gBAAT,CAA2B,sBAA3B,CAAsE,gBAAtE,KAA8F,sCAA9F,CACA,MAAO,GAAK,CAAA,QAAZ,KAA0B,yBAA1B,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAeA,UAAa,CAAA,gBAAb,wIAAA,2BAAA,kD,mCAgBY,MAAA,iBAAA,CAAoB,SAAC,QAAD,CAAyD,CACjF,GAAG,CAAC,QAAD,EAAa,QAAQ,CAAC,MAAT,GAAoB,CAApC,CAAuC,CACnC,MAAO,KAAP,CACH,CACD,GAAM,CAAA,aAAa,CAA0B,EAA7C,CACA,QAAQ,CAAC,OAAT,CAAiB,SAAC,IAAD,CAAM,KAAN,CAAe,CAE5B,GAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,OAAD,CAAU,MAAK,KAAL,CAAW,gBAArB,CAAuC,EAAvC,CAA2C,EAA3C,CAAhC,CACA,GAAM,CAAA,QAAQ,CAAG,IAAI,CAAC,QAAL,CAAgB,IAAI,CAAC,QAArB,CAAgC,EAAjD,CACA,OAAO,CAAC,aAAR,CAAsB,KAAtB,CAA8B,QAA9B,CACA,GAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,MAAK,KAAL,CAAW,gBAAZ,CAA8B,OAA9B,CAAzC,CACA,GAAM,CAAA,QAAQ,CAAG,KAAK,GAAK,CAAV,CAAc,kBAAd,CAAmC,oBAApD,CACA,GAAM,CAAA,YAAY,CAAwB,CACtC,SAAS,CAAE,IAAI,CAAC,SADsB,CAEtC,SAAS,CAAE,QAF2B,CAGtC,QAAQ,CAAE,IAAI,CAAC,QAHuB,CAItC,OAAO,CAAE,IAAI,CAAC,OAAL,CAAa,cAJgB,CAKtC,YAAY,CAAE,IAAI,CAAC,YALmB,CAMtC,IAAI,CAAE,QANgC,CAOtC,oBAAoB,CAAE,UAPgB,CAQtC,OAAO,CAAE,gBAAgB,CAAC,MAAK,KAAL,CAAW,gBAAZ,CAA8B,OAA9B,CAAuC,QAAvC,CARa,CAA1C,CAUA,aAAa,CAAC,IAAd,CAAmB,YAAnB,EACH,CAlBD,EAoBA,MAAO,CAAA,aAAP,CACH,CA1BO,CAhBZ,aA2CC,CA3CD,oEACiB,CACT,GAAM,CAAA,aAAa,CAAG,KAAK,iBAAL,CAAuB,KAAK,KAAL,CAAW,KAAlC,CAAtB,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAK,SAAS,CAAC,uBAAf,CAAA,CACM,aAAa,EAAI,aAAa,CAAC,MAA/B,cACE,KAAA,CAAA,aAAA,CAAC,QAAQ,CAAC,KAAV,CAAe,CACX,KAAK,CAAG,aADG,CAEX,SAAS,CAAE,CAAC,YAAY,CAAE,KAAK,KAAL,CAAW,YAA1B,CAAwC,cAAc,CAAE,KAAK,KAAL,CAAW,cAAnE,CAFA,CAAf,CADF,CAKI,IANV,CADJ,CAWH,CAdL,8BAAsC,KAAK,CAAC,aAA5C,EA4CA,cAAe,CAAA,gBAAf","sourcesContent":["import { getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport * as React from 'react';\nimport { ILinksData } from '../content-block.props.autogenerated';\n\nexport interface IContentCardLinks {\n    links: ILinksData[];\n    requestContext: Msdyn365.IRequestContext;\n    telemetryContent: ITelemetryContent;\n    onTextChange?(index: number): (event: Msdyn365.ContentEditableEvent) => void;\n}\n\n/**\n *\n * ContentCardLinks component\n * @extends {React.PureComponent<IContentCardLinks>}\n */\nexport class ContentCardLinks extends React.PureComponent<IContentCardLinks> {\n    public render(): JSX.Element {\n        const editableLinks = this._mapEditableLinks(this.props.links);\n        return(\n            <div className='ms-content-block__cta'>\n                { editableLinks && editableLinks.length ?\n                    <Msdyn365.Links\n                        links= {editableLinks}\n                        editProps={{onTextChange: this.props.onTextChange, requestContext: this.props.requestContext}}\n                    />\n                    : null\n                }\n            </div>\n        );\n    }\n\n    private _mapEditableLinks = (linkdata: ILinksData[]): Msdyn365.ILinksData[] | null => {\n        if(!linkdata || linkdata.length === 0) {\n            return null;\n        }\n        const editableLinks: Msdyn365.ILinksData[] = [];\n        linkdata.forEach((link,index) => {\n            // Construct telemetry attribute to render\n            const payLoad = getPayloadObject('click', this.props.telemetryContent, '', '');\n            const linkText = link.linkText ? link.linkText : '';\n            payLoad.contentAction.etext = linkText;\n            const attributes = getTelemetryAttributes(this.props.telemetryContent, payLoad);\n            const btnClass = index === 0 ? 'msc-cta__primary' : 'msc-cta__secondary';\n            const editableLink: Msdyn365.ILinksData = {\n                ariaLabel: link.ariaLabel,\n                className: btnClass,\n                linkText: link.linkText,\n                linkUrl: link.linkUrl.destinationUrl,\n                openInNewTab: link.openInNewTab,\n                role: 'button',\n                additionalProperties: attributes,\n                onClick: onTelemetryClick(this.props.telemetryContent, payLoad, linkText)\n            };\n            editableLinks.push(editableLink);\n        });\n\n        return editableLinks;\n    };\n}\nexport default ContentCardLinks;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}