{"ast":null,"code":"import{getFallbackImageUrl}from'@msdyn365-commerce-modules/retail-actions';import{Button}from'@msdyn365-commerce-modules/utilities';import{PriceComponent}from'@msdyn365-commerce/components';import{Image}from'@msdyn365-commerce/core';import*as React from'react';import OrderTemplateQuantity from'./common/order-template-quantity';var _addItemToBag=function _addItemToBag(props){var orderTemplateLine=props.orderTemplateLine,productListLine=props.productListLine,quantity=props.quantity,handlers=props.handlers;var LineId=productListLine.LineId;var onAddToBag=handlers.onAddToBag;onAddToBag&&orderTemplateLine&&LineId&&onAddToBag(orderTemplateLine.fullProduct.ProductDetails,quantity,LineId);};var _removeItemFromOrderTemplateLines=function _removeItemFromOrderTemplateLines(props){var onRemoveItem=props.handlers.onRemoveItem;var productListLine=props.productListLine;var LineId=productListLine.LineId;onRemoveItem&&LineId&&onRemoveItem(LineId);};var OrderTemplateLineActions={addToBag:_addItemToBag,removeItem:_removeItemFromOrderTemplateLines};export var OrderTemplateLineView=function OrderTemplateLineView(input){var orderTemplateLine=input.orderTemplateLine,productListLine=input.productListLine,price=input.price,context=input.context,imageSettings=input.imageSettings,quantity=input.quantity,resources=input.resources;var product=orderTemplateLine.fullProduct;var LineId=productListLine.LineId,UnitOfMeasure=productListLine.UnitOfMeasure;var removeFromOrderTemplateLinesText=resources.removeFromOrderTemplateLinesText,addToBagButtonText=resources.addToBagButtonText;if(!product){return null;}var addItemAction=function addItemAction(event){return OrderTemplateLineActions.addToBag(input);};var removeItemAction=function removeItemAction(event){return OrderTemplateLineActions.removeItem(input);};var onSelectLine=function onSelectLine(event){orderTemplateLine.isChecked=!orderTemplateLine.isChecked;input.handlers.onSelect(orderTemplateLine,event.target.checked);};var _product$ProductDetai=product.ProductDetails,ItemId=_product$ProductDetai.ItemId,Name=_product$ProductDetai.Name,PrimaryImageUrl=_product$ProductDetai.PrimaryImageUrl;var fallbackImage=getFallbackImageUrl(ItemId,context.actionContext.requestContext.apiSettings);return{selectLine:/*#__PURE__*/React.createElement(\"input\",{type:'checkbox',className:'bulk-selection-field',checked:orderTemplateLine.isChecked,\"aria-checked\":orderTemplateLine.isChecked,onChange:onSelectLine}),key:LineId,productImage:PrimaryImageUrl&&Name&&/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-image'},_renderProductImage(context,product.ProductDetails.Name,PrimaryImageUrl,fallbackImage,imageSettings)),productInfo:_renderProductInfo(input),productPrice:price&&_renderPrice(input),productNumber:product&&/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-number'},ItemId),productUnitOfMeasure:price?/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-unit-of-measure'},UnitOfMeasure||price.UnitOfMeasure):undefined,productListId:LineId,removeButton:/*#__PURE__*/React.createElement(Button,{className:'ms-order-template-table-line__product-remove-button',onClick:removeItemAction,title:removeFromOrderTemplateLinesText}),productQuantityView:/*#__PURE__*/React.createElement(\"div\",null,_generateQuantity(input,LineId)),productQuantity:quantity,addToBagButton:/*#__PURE__*/React.createElement(Button,{className:'ms-order-template-table-line__product-add-button',onClick:addItemAction,title:addToBagButtonText})};};var _generateQuantity=function _generateQuantity(props,itemKey){var handlers=props.handlers,resources=props.resources,quantity=props.quantity;var onChangeQuantity=handlers.onChangeQuantity;var onChange=function onChange(newValue){if(onChangeQuantity){onChangeQuantity(itemKey,newValue);}};return/*#__PURE__*/React.createElement(OrderTemplateQuantity,{currentCount:quantity,onChange:onChange,inputQuantityAriaLabel:resources.inputQuantityAriaLabel});};var _renderProductImage=function _renderProductImage(context,heading,image,fallbackImage,imageSettings){var defaultImageSettings={viewports:{xs:{q:\"w=64&h=64&m=6\",w:0,h:0},lg:{q:\"w=64&h=64&m=6\",w:0,h:0},xl:{q:\"w=64&h=64&m=6\",w:0,h:0}},lazyload:true};if(image){return/*#__PURE__*/React.createElement(Image,{className:'ms-order-template-table-line__product-image',altText:heading,title:heading,src:image,fallBackSrc:fallbackImage,gridSettings:context.request.gridSettings,imageSettings:imageSettings||defaultImageSettings,loadFailureBehavior:'empty'});}return null;};var _renderPrice=function _renderPrice(props){var price=props.price,context=props.context,moduleId=props.moduleId,moduleTypeName=props.moduleTypeName,resources=props.resources;if(price){return/*#__PURE__*/React.createElement(PriceComponent,{id:moduleId,typeName:moduleTypeName,data:{price:price},className:'ms-order-template-table-line__product-price',freePriceText:resources.freePriceText,originalPriceText:resources.originalPriceText,currentPriceText:resources.currentPriceText,context:context});}return null;};var _renderProductDimensions=function _renderProductDimensions(props){var orderTemplateLine=props.orderTemplateLine;if(!orderTemplateLine.fullProduct||!orderTemplateLine.fullProduct.ProductDetails.Dimensions){return[];}return orderTemplateLine.fullProduct.ProductDetails.Dimensions.map(function(dimension){if(!dimension.DimensionValue||!dimension.DimensionValue.Value){return undefined;}return dimension.DimensionValue.Value;});};var _renderProductInfo=function _renderProductInfo(props){var orderTemplateLine=props.orderTemplateLine,productUrl=props.productUrl;var Name=orderTemplateLine.fullProduct.ProductDetails.Name;var dimensions=_renderProductDimensions(props);if(!orderTemplateLine.fullProduct||!orderTemplateLine.fullProduct.ProductDetails.Dimensions){return[];}var productName=productUrl?/*#__PURE__*/React.createElement(\"a\",{className:'ms-order-template-table-line__product-info-name',href:productUrl},Name):/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-info-name'},Name);return/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-info'},/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-info-name'},productName),/*#__PURE__*/React.createElement(\"div\",{className:'ms-order-template-table-line__product-info-dimension'},dimensions.length&&dimensions.join(', ')));};","map":{"version":3,"sources":["modules/order-template/components/order-template-lines.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getFallbackImageUrl } from '@msdyn365-commerce-modules/retail-actions';\nimport { Button, INodeProps } from '@msdyn365-commerce-modules/utilities';\nimport { PriceComponent } from '@msdyn365-commerce/components';\nimport { ICoreContext, IImageSettings, Image, ITelemetry } from '@msdyn365-commerce/core';\nimport { ProductListLine } from '@msdyn365-commerce/retail-proxy';\nimport { ProductPrice, SimpleProduct } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\nimport * as React from 'react';\nimport { IOrderTemplateLineViewModel } from '../order-template';\nimport OrderTemplateQuantity from './common/order-template-quantity';\n\nexport interface IOrderTemplateLineProps extends ProductListLine {\n    orderTemplateLine: IOrderTemplateLineViewModel;\n    productListLine: ProductListLine;\n    price?: ProductPrice;\n    context: ICoreContext;\n    productUrl: string;\n    imageSettings?: IImageSettings;\n    telemetry: ITelemetry;\n    moduleId: string;\n    moduleTypeName: string;\n    quantity: number;\n    handlers: {\n        onAddToBag(product: SimpleProduct, quantity: number, itemKey: string): void;\n        onRemoveItem(itemKey: string): void | undefined;\n        onChangeQuantity(orderTemplateLineId: string, quantity: number): void;\n        onSelect(line: IOrderTemplateLineViewModel, isChecked: boolean): void;\n    };\n    resources: {\n        productDimensionTypeColor: string;\n        productDimensionTypeSize: string;\n        productDimensionTypeStyle: string;\n        originalPriceText: string;\n        currentPriceText: string;\n        freePriceText: string;\n        inputQuantityAriaLabel: string;\n        removeFromOrderTemplateLinesText: string;\n        addToBagButtonText: string;\n    };\n}\n\nexport interface IOrderTemplateLineViewProps {\n    key: string;\n    productImage: React.ReactNode;\n    productPrice?: React.ReactNode;\n    addToBagButton?: React.ReactNode;\n    removeButton?: React.ReactNode;\n    productName?: string;\n    productNumber?: React.ReactNode;\n    productInfo?: React.ReactNode;\n    productLabel?: React.ReactNode;\n    productUnitOfMeasure?: React.ReactNode;\n    productQuantity?: number;\n    productQuantityView?: React.ReactNode;\n    productListId: string;\n    selectLine: React.ReactNode;\n}\n\nconst _addItemToBag = (props: IOrderTemplateLineProps): void => {\n    const { orderTemplateLine, productListLine, quantity, handlers } = props;\n    const { LineId } = productListLine;\n    const { onAddToBag } = handlers;\n\n    onAddToBag && orderTemplateLine && LineId && onAddToBag(orderTemplateLine.fullProduct!.ProductDetails, quantity, LineId);\n};\n\nconst _removeItemFromOrderTemplateLines = (props: IOrderTemplateLineProps): void => {\n    const { onRemoveItem } = props.handlers;\n    const { productListLine } = props;\n    const { LineId } = productListLine;\n\n    onRemoveItem && LineId && onRemoveItem(LineId);\n};\n\nconst OrderTemplateLineActions = {\n    addToBag: _addItemToBag,\n    removeItem: _removeItemFromOrderTemplateLines\n};\n\nexport const OrderTemplateLineView = (input: IOrderTemplateLineProps): IOrderTemplateLineViewProps | null => {\n    const { orderTemplateLine, productListLine, price, context, imageSettings, quantity, resources } = input;\n    const product = orderTemplateLine.fullProduct;\n    const { LineId, UnitOfMeasure } = productListLine;\n    const { removeFromOrderTemplateLinesText, addToBagButtonText } = resources;\n    if (!product) {\n        return null;\n    }\n\n    const addItemAction = (event: React.MouseEvent<HTMLElement>) => {\n        return OrderTemplateLineActions.addToBag(input);\n    };\n    const removeItemAction = (event: React.MouseEvent<HTMLElement>) => {\n        return OrderTemplateLineActions.removeItem(input);\n    };\n    const onSelectLine = (event: React.ChangeEvent<HTMLInputElement>) => {\n        orderTemplateLine.isChecked = !orderTemplateLine.isChecked;\n\n        input.handlers.onSelect(orderTemplateLine, event.target.checked);\n    };\n    const { ItemId, Name, PrimaryImageUrl } = product.ProductDetails;\n    const fallbackImage = getFallbackImageUrl(ItemId, context.actionContext.requestContext.apiSettings);\n\n    return {\n        selectLine: (\n            <input type='checkbox' className='bulk-selection-field' checked={orderTemplateLine.isChecked} aria-checked={orderTemplateLine.isChecked} onChange={onSelectLine}/>\n        ),\n        key: LineId!,\n        productImage: PrimaryImageUrl && Name && (\n            <div className='ms-order-template-table-line__product-image'>\n                {_renderProductImage(context, product.ProductDetails.Name!, PrimaryImageUrl, fallbackImage, imageSettings)}\n            </div>\n        ),\n        productInfo: _renderProductInfo(input),\n        productPrice: price && _renderPrice(input),\n        productNumber: product && <div className='ms-order-template-table-line__product-number'>{ItemId}</div>,\n        productUnitOfMeasure: price ? (\n            <div className='ms-order-template-table-line__product-unit-of-measure'>{UnitOfMeasure || price.UnitOfMeasure}</div>\n        ) : (\n            undefined\n        ),\n        productListId: LineId!,\n        removeButton: (\n            <Button\n                className='ms-order-template-table-line__product-remove-button'\n                onClick={removeItemAction}\n                title={removeFromOrderTemplateLinesText}\n            />\n        ),\n        productQuantityView: <div>{_generateQuantity(input, LineId!)}</div>,\n        productQuantity: quantity,\n        addToBagButton: (\n            <Button className='ms-order-template-table-line__product-add-button' onClick={addItemAction} title={addToBagButtonText} />\n        )\n    };\n};\n\nexport interface IOrderTemplateProductQuantityViewProps {\n    ContainerProps: INodeProps;\n    input: React.ReactNode;\n}\n\nconst _generateQuantity = (props: IOrderTemplateLineProps, itemKey: string): React.ReactNode => {\n    const { handlers, resources, quantity } = props;\n\n    const { onChangeQuantity } = handlers;\n    const onChange = (newValue: number) => {\n        if (onChangeQuantity) {\n            onChangeQuantity(itemKey, newValue);\n        }\n    };\n    return (\n        <OrderTemplateQuantity\n            currentCount={quantity}\n            onChange={onChange}\n            inputQuantityAriaLabel={resources.inputQuantityAriaLabel}\n        />\n    );\n};\n\nconst _renderProductImage = (\n    context: ICoreContext,\n    heading: string,\n    image?: string,\n    fallbackImage?: string,\n    imageSettings?: IImageSettings\n): JSX.Element | null => {\n    const defaultImageSettings: IImageSettings = {\n        viewports: {\n            xs: { q: `w=64&h=64&m=6`, w: 0, h: 0 },\n            lg: { q: `w=64&h=64&m=6`, w: 0, h: 0 },\n            xl: { q: `w=64&h=64&m=6`, w: 0, h: 0 }\n        },\n        lazyload: true\n    };\n\n    if (image) {\n        return (\n            <Image\n                className='ms-order-template-table-line__product-image'\n                altText={heading}\n                title={heading}\n                src={image}\n                fallBackSrc={fallbackImage}\n                gridSettings={context.request.gridSettings!}\n                imageSettings={imageSettings || defaultImageSettings}\n                loadFailureBehavior='empty'\n            />\n        );\n    }\n    return null;\n};\n\nconst _renderPrice = (props: IOrderTemplateLineProps): JSX.Element | null => {\n    const { price, context, moduleId, moduleTypeName, resources } = props;\n\n    if (price) {\n        return (\n            <PriceComponent\n                id={moduleId}\n                typeName={moduleTypeName}\n                data={{ price: price }}\n                className='ms-order-template-table-line__product-price'\n                freePriceText={resources.freePriceText}\n                originalPriceText={resources.originalPriceText}\n                currentPriceText={resources.currentPriceText}\n                context={context}\n            />\n        );\n    }\n    return null;\n};\n\nconst _renderProductDimensions = (props: IOrderTemplateLineProps): (string | undefined)[] => {\n    const { orderTemplateLine } = props;\n\n    if (!orderTemplateLine.fullProduct || !orderTemplateLine.fullProduct.ProductDetails.Dimensions) {\n        return [];\n    }\n\n    return orderTemplateLine.fullProduct.ProductDetails.Dimensions.map((dimension) => {\n        if (!dimension.DimensionValue || !dimension.DimensionValue.Value) {\n            return undefined;\n        }\n\n        return dimension.DimensionValue.Value;\n    });\n};\n\nconst _renderProductInfo = (props: IOrderTemplateLineProps): React.ReactNode | undefined => {\n    const { orderTemplateLine, productUrl } = props;\n    const { Name } = orderTemplateLine.fullProduct!.ProductDetails;\n\n    const dimensions = _renderProductDimensions(props);\n    if (!orderTemplateLine.fullProduct || !orderTemplateLine.fullProduct.ProductDetails.Dimensions) {\n        return [];\n    }\n\n    const productName = productUrl ? (\n        <a className='ms-order-template-table-line__product-info-name' href={productUrl}>\n            {Name}\n        </a>\n    ) : (\n        <div className='ms-order-template-table-line__product-info-name'>{Name}</div>\n    );\n\n    return (\n        <div className='ms-order-template-table-line__product-info'>\n            <div className='ms-order-template-table-line__product-info-name'>{productName}</div>\n            <div className='ms-order-template-table-line__product-info-dimension'>\n                {dimensions.length && dimensions.join(', ')}\n            </div>\n        </div>\n    );\n};\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}