{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import{getTelemetryObject}from'@msdyn365-commerce-modules/utilities';import MsDyn365 from'@msdyn365-commerce/core';import classnames from'classnames';import*as React from'react';import{Link}from'./components/link';import{Separator}from'./components/separator';var Breadcrumb=/*#__PURE__*/function(_React$PureComponent){_inherits(Breadcrumb,_React$PureComponent);var _super=_createSuper(Breadcrumb);function Breadcrumb(){var _this;_classCallCheck(this,Breadcrumb);_this=_super.apply(this,arguments);_this._pageType=_this.props.context.request.urlTokens.pageType;_this.telemetryContent=getTelemetryObject(_this.props.context.request.telemetryPageName,_this.props.friendlyName,_this.props.telemetry);_this._getRootLink=function(){var root=_this.props.config.root;if(!root||!root.linkUrl||!root.linkUrl.destinationUrl){_this.props.context.telemetry.error('BreadCrumb link url content is empty, link wont render');return null;}return/*#__PURE__*/React.createElement(Link,{text:root.linkText,ariaLabel:root.ariaLabel||root.linkText,href:root.linkUrl&&root.linkUrl.destinationUrl,index:'1',className:'ms-breadcrumb_link',telemetryContent:_this.telemetryContent});};_this._getCustomBreadcrumbLinks=function(itemPosition){var links=_this.props.config.links;if(!links||!(links.length>0)){_this.props.context.telemetry.error('BreadCrumb links content is empty, links wont render');return null;}return links.map(function(value,index){itemPosition++;return/*#__PURE__*/React.createElement(Link,{key:index,text:value.linkText,ariaLabel:value.ariaLabel||value.linkText,href:value.linkUrl&&value.linkUrl.destinationUrl,index:{itemPosition:itemPosition}.toString(),className:'ms-breadcrumb_link',telemetryContent:_this.telemetryContent});});};_this._getCategoryHierarchy=function(itemPosition){var data=_this.props.data;var categoryHierarchy=data.categoryHierarchy.result;if(!categoryHierarchy){_this.props.context.telemetry.error('Category Hierarchy content is empty, module wont render');return null;}return categoryHierarchy.map(function(value,index){itemPosition++;return/*#__PURE__*/React.createElement(Link,{key:index,text:value.Name,ariaLabel:value.Name,href:value.Url,index:itemPosition.toString(),className:'ms-breadcrumb_link',noclick:index===categoryHierarchy.length-1,telemetryContent:_this.telemetryContent});});};_this._getPDPLinks=function(itemPosition){var _this$props=_this.props,data=_this$props.data,config=_this$props.config;var categoryHierarchy=data.categoryPaths.result;var product=data.product.result;var url=_this.props.context.request.url.requestUrl.href;if(!categoryHierarchy){_this.props.context.telemetry.error('Category path content is empty for the product');return null;}var links=[];categoryHierarchy.map(function(value,index){itemPosition++;links.push(/*#__PURE__*/React.createElement(Link,{key:index,text:value.Name,ariaLabel:value.Name,href:value.Url,index:itemPosition.toString(),className:'ms-breadcrumb_link',telemetryContent:_this.telemetryContent}));});if(product&&!config.hideProductName){itemPosition++;links.push(/*#__PURE__*/React.createElement(Link,{text:product.Name,ariaLabel:product.Name,href:url,index:itemPosition.toString(),noclick:true,className:'ms-breadcrumb_link',telemetryContent:_this.telemetryContent}));}return links;};_this._goBack=function(){window.history.back();};_this._getPDPBackButton=function(){var isBackAllowed=_this.props.context&&_this.props.context.request&&_this.props.context.request.query&&_this.props.context.request.query.back;if(MsDyn365.isBrowser&&(!isBackAllowed||document.referrer===''||window.history.length<2)){return null;}return/*#__PURE__*/React.createElement(\"a\",{className:'ms-breadcrumb-back-button',role:'button',href:'javascript:void(0);',onClick:_this._goBack,\"aria-label\":_this.props.resources.backToResultsText},_this.props.resources.backToResultsText);};return _this;}_createClass(Breadcrumb,[{key:\"render\",value:function render(){var className=this.props.config.className;var rootLink=null;var breadcrumbLinks=null;var backButtonComponent=null;rootLink=this._getRootLink();var itemPosition=rootLink?1:0;if(this._pageType==='Category'){breadcrumbLinks=this._getCustomBreadcrumbLinks(itemPosition);if(!breadcrumbLinks){breadcrumbLinks=this._getCategoryHierarchy(itemPosition);}}else if(this._pageType==='Product'){breadcrumbLinks=this._getCustomBreadcrumbLinks(itemPosition);if(!breadcrumbLinks){var breaCrumbType=this.props.context.app.config.breadcrumbType;if(breaCrumbType==='category'){breadcrumbLinks=this._getPDPLinks(itemPosition);}if(breaCrumbType==='categoryAndBack'){backButtonComponent=this._getPDPBackButton();breadcrumbLinks=this._getPDPLinks(itemPosition);}if(breaCrumbType==='back'){backButtonComponent=this._getPDPBackButton();if(backButtonComponent===null){breadcrumbLinks=this._getPDPLinks(itemPosition);}}}}else{breadcrumbLinks=this._getCustomBreadcrumbLinks(itemPosition);}var linkSeparator=/*#__PURE__*/React.createElement(Separator,{separator:'/'});var breadcrumbViewProps=_objectSpread(_objectSpread({},this.props),{},{BreadcrumbContainer:{moduleProps:this.props,className:classnames('ms-breadcrumb',className),tag:'nav',role:'navigation'},BreadcrumbList:{tag:'ol',className:'ms-breadcrumb_list'},BreadcrumbListItem:{tag:'li',className:'ms-breadcrumb_item'},root:rootLink,links:breadcrumbLinks,backButton:backButtonComponent,separator:linkSeparator});return this.props.renderView(breadcrumbViewProps);}}]);return Breadcrumb;}(React.PureComponent);export default Breadcrumb;","map":{"version":3,"sources":["modules/breadcrumb/breadcrumb.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getTelemetryObject, IModuleProps, INodeProps, ITelemetryContent, NodeTag } from '@msdyn365-commerce-modules/utilities';\nimport { CategoryHierarchy } from '@msdyn365-commerce/commerce-entities';\nimport MsDyn365 from '@msdyn365-commerce/core';\nimport { ICategoryUrl } from '@msdyn365-commerce/core-internal/dist/types/interfaces/ICategoryPathInterfaces';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { IBreadcrumbData } from './breadcrumb.data';\nimport { IBreadcrumbProps, ILinksData } from './breadcrumb.props.autogenerated';\nimport { Link } from './components/link';\nimport { Separator } from './components/separator';\n\nexport interface IBreadcrumbViewProps extends IBreadcrumbProps<IBreadcrumbData> {\n    root?: React.ReactNode;\n    links?: React.ReactNode[];\n    backButton?: React.ReactNode;\n    separator?: React.ReactNode;\n    BreadcrumbContainer: IModuleProps;\n    BreadcrumbList: INodeProps;\n    BreadcrumbListItem: INodeProps;\n}\n\n/**\n *\n * Breadcrumb component\n * @extends {React.PureComponent<IBreadcrumbProps<IBreadcrumbData>>}\n */\nclass Breadcrumb extends React.PureComponent<IBreadcrumbProps<IBreadcrumbData>> {\n    private _pageType: string | undefined = this.props.context.request.urlTokens.pageType;\n    private telemetryContent: ITelemetryContent = getTelemetryObject(this.props.context.request.telemetryPageName!,\n                                                                     this.props.friendlyName,\n                                                                     this.props.telemetry);\n    public render(): JSX.Element | null {\n\n        const { className } = this.props.config;\n        let rootLink = null;\n        let breadcrumbLinks = null;\n        let backButtonComponent = null;\n        rootLink = this._getRootLink();\n        const itemPosition = rootLink ? 1 : 0;\n        if (this._pageType === 'Category') {\n            breadcrumbLinks = this._getCustomBreadcrumbLinks(itemPosition);\n            if (!breadcrumbLinks) {\n                breadcrumbLinks = this._getCategoryHierarchy(itemPosition);\n            }\n        } else if (this._pageType === 'Product') {\n            breadcrumbLinks = this._getCustomBreadcrumbLinks(itemPosition);\n            if (!breadcrumbLinks) {\n                const breaCrumbType = this.props.context.app.config.breadcrumbType;\n                if (breaCrumbType === 'category') {\n                    breadcrumbLinks = this._getPDPLinks(itemPosition);\n                }\n                if (breaCrumbType === 'categoryAndBack') {\n                    backButtonComponent = this._getPDPBackButton();\n                    breadcrumbLinks = this._getPDPLinks(itemPosition);\n                }\n                if (breaCrumbType === 'back') {\n                    backButtonComponent = this._getPDPBackButton();\n                    if(backButtonComponent === null) {\n                        breadcrumbLinks = this._getPDPLinks(itemPosition);\n                    }\n                }\n            }\n\n        } else {\n            breadcrumbLinks = this._getCustomBreadcrumbLinks(itemPosition);\n        }\n        const linkSeparator = <Separator separator='/' />;\n\n        const breadcrumbViewProps = {\n            ...this.props,\n            BreadcrumbContainer: {\n                moduleProps: this.props,\n                className: classnames('ms-breadcrumb', className),\n                tag: 'nav',\n                role: 'navigation',\n            },\n            BreadcrumbList: {\n                tag: 'ol' as NodeTag,\n                className: 'ms-breadcrumb_list'\n            },\n            BreadcrumbListItem: {\n                tag: 'li',\n                className: 'ms-breadcrumb_item'\n            },\n            root: rootLink,\n            links: breadcrumbLinks,\n            backButton: backButtonComponent,\n            separator: linkSeparator\n        };\n        return this.props.renderView(breadcrumbViewProps) as React.ReactElement;\n    }\n    private _getRootLink = (): JSX.Element | null => {\n        const { root } = this.props.config;\n        if (!root || !root.linkUrl || !root.linkUrl.destinationUrl) {\n            this.props.context.telemetry.error('BreadCrumb link url content is empty, link wont render');\n            return null;\n        }\n        return (\n            <Link\n                text={root.linkText}\n                ariaLabel={root.ariaLabel || root.linkText}\n                href={root.linkUrl && root.linkUrl.destinationUrl}\n                index='1'\n                className='ms-breadcrumb_link'\n                telemetryContent={this.telemetryContent}\n            />);\n\n    }\n\n    private _getCustomBreadcrumbLinks = (itemPosition: number): JSX.Element[] | null => {\n        const { links } = this.props.config;\n\n        if (!links || !(links.length > 0)) {\n            this.props.context.telemetry.error('BreadCrumb links content is empty, links wont render');\n            return null;\n        }\n        return (\n            links.map((value: ILinksData, index: number) => {\n                itemPosition++;\n                return (\n                    <Link\n                        key={index}\n                        text={value.linkText}\n                        ariaLabel={value.ariaLabel || value.linkText}\n                        href={value.linkUrl && value.linkUrl.destinationUrl}\n                        index={{ itemPosition }.toString()}\n                        className='ms-breadcrumb_link'\n                        telemetryContent={this.telemetryContent}\n                    />\n                );\n            }));\n    }\n\n    private _getCategoryHierarchy = (itemPosition: number): JSX.Element[] | null => {\n        const { data } = this.props;\n        const categoryHierarchy = data.categoryHierarchy.result;\n        if (!categoryHierarchy) {\n            this.props.context.telemetry.error('Category Hierarchy content is empty, module wont render');\n            return null;\n        }\n        return (\n            categoryHierarchy.map((value: CategoryHierarchy, index: number) => {\n                itemPosition++;\n                return (\n                    <Link\n                        key={index}\n                        text={value.Name}\n                        ariaLabel={value.Name}\n                        href={value.Url}\n                        index={itemPosition.toString()}\n                        className='ms-breadcrumb_link'\n                        noclick={index === categoryHierarchy.length -1}\n                        telemetryContent={this.telemetryContent}\n                    />\n                );\n            }));\n\n    }\n\n    private _getPDPLinks = (itemPosition: number): JSX.Element[] | null => {\n        const { data, config } = this.props;\n        const categoryHierarchy = data.categoryPaths.result;\n        const product = data.product.result;\n        const url = this.props.context.request.url.requestUrl.href;\n        if (!categoryHierarchy) {\n            this.props.context.telemetry.error('Category path content is empty for the product');\n            return null;\n        }\n        const links: JSX.Element[] = [];\n\n        categoryHierarchy.map((value: ICategoryUrl, index: number) => {\n            itemPosition++;\n            links.push(\n                <Link\n                    key={index}\n                    text={value.Name}\n                    ariaLabel={value.Name}\n                    href={value.Url}\n                    index={itemPosition.toString()}\n                    className='ms-breadcrumb_link'\n                    telemetryContent={this.telemetryContent}\n                />\n            );\n        });\n        if (product && !config.hideProductName) {\n            itemPosition++;\n            links.push(\n                <Link\n                    text={product.Name}\n                    ariaLabel={product.Name}\n                    href= {url}\n                    index={itemPosition.toString()}\n                    noclick={true}\n                    className='ms-breadcrumb_link'\n                    telemetryContent={this.telemetryContent}\n                />\n            );\n        }\n        return links;\n\n    }\n\n    private _goBack = (): void => {\n        window.history.back();\n    }\n\n    private _getPDPBackButton = (): JSX.Element | null => {\n        const isBackAllowed = this.props.context && this.props.context.request && this.props.context.request.query && this.props.context.request.query.back;\n        if (MsDyn365.isBrowser && (!isBackAllowed || document.referrer === '' || window.history.length < 2)) {\n            return null;\n        }\n        return (\n            <a\n                className='ms-breadcrumb-back-button'\n                role='button'\n                href='javascript:void(0);'\n                onClick={this._goBack}\n                aria-label={this.props.resources.backToResultsText}\n            >\n                {this.props.resources.backToResultsText}\n            </a>\n        );\n\n    }\n}\n\nexport default Breadcrumb;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}