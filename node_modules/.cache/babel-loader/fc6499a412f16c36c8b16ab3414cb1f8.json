{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import{__decorate}from\"tslib\";import classnames from'classnames';import{observable}from'mobx';import{observer}from'mobx-react';import*as React from'react';import{StoreSelectorLocationLineItemComponent}from'./store-selector-location-line-item';var StoreSelectorLocationLines=/*#__PURE__*/function(_React$PureComponent){_inherits(StoreSelectorLocationLines,_React$PureComponent);var _super=_createSuper(StoreSelectorLocationLines);function StoreSelectorLocationLines(props){var _this;_classCallCheck(this,StoreSelectorLocationLines);_this=_super.call(this,props);_this._scrollIntoView=function(){var selectedLocationDiv=_this.selectedLocationRef.current;var parent=selectedLocationDiv===null||selectedLocationDiv===void 0?void 0:selectedLocationDiv.parentElement;if(selectedLocationDiv&&parent){if(parent.scrollTop>selectedLocationDiv.offsetTop){parent.scrollTop=selectedLocationDiv.offsetTop;}else if(selectedLocationDiv.offsetTop+selectedLocationDiv.clientHeight>parent.scrollTop+parent.clientHeight){parent.scrollTop=selectedLocationDiv.offsetTop+selectedLocationDiv.clientHeight-parent.clientHeight;}}};_this._isCurrentLocation=function(location){return _this.props.alreadySelectedLocation&&location&&_this.props.alreadySelectedLocation.OrgUnitNumber===location.OrgUnitNumber||false;};_this._isProductInStock=function(ItemAvailabilities){if(!_this.props.enableOutOfStockCheck){return true;}if(ItemAvailabilities&&ItemAvailabilities.length>0){return ItemAvailabilities[0].AvailableQuantity?ItemAvailabilities[0].AvailableQuantity>0:false;}return false;};_this._stockInventoryLabel=function(availabilityWithHours){if(availabilityWithHours!==null&&availabilityWithHours!==void 0&&availabilityWithHours.ProductInventoryInformation&&(availabilityWithHours===null||availabilityWithHours===void 0?void 0:availabilityWithHours.ProductInventoryInformation.length)>0){for(var i=0;i<availabilityWithHours.ProductInventoryInformation.length;i++){var _availabilityWithHour,_availabilityWithHour2;if(((_availabilityWithHour=availabilityWithHours.OrgUnitAvailability)===null||_availabilityWithHour===void 0?void 0:(_availabilityWithHour2=_availabilityWithHour.OrgUnitLocation)===null||_availabilityWithHour2===void 0?void 0:_availabilityWithHour2.InventoryLocationId)===availabilityWithHours.ProductInventoryInformation[i].InventLocationId){return availabilityWithHours.ProductInventoryInformation[i].StockLevelLabel;}}}return undefined;};_this._mapResources=function(resources){return{contactInfoHeader:resources.contactText,storeHoursHeader:resources.timeText,availabilityInfoHeader:resources.availabilityText,closedText:resources.storeHoursClosedText,outOfStock:resources.outOfStockText,inStock:resources.inStockText,currentLocation:resources.selectedStoreLocationText,selectLocation:resources.selectStoreText,selectLocationAriaLabelFormat:resources.selectStoreAriaFormatText,setAsPreferredStoreText:resources.setAsPreferredStoreText,setAsPreferredStoreTextAriaLabel:resources.setAsPreferredStoreTextAriaLabel,preferredStoreText:resources.preferredStoreText,preferredStoreAriaLabel:resources.preferredStoreAriaLabel,days:{monday:resources.storeHoursMondayText,tuesday:resources.storeHoursTuesdayText,wednesday:resources.storeHoursWednesdayText,thursday:resources.storeHoursThursdayText,friday:resources.storeHoursFridayText,saturday:resources.storeHoursSaturdayText,sunday:resources.storeHoursSundayText,mondayFull:resources.storeHoursMondayFullText,tuesdayFull:resources.storeHoursTuesdayFullText,wednesdayFull:resources.storeHoursWednesdayFullText,thursdayFull:resources.storeHoursThursdayFullText,fridayFull:resources.storeHoursFridayFullText,saturdayFull:resources.storeHoursSaturdayFullText,sundayFull:resources.storeHoursSundayFullText}};};_this.selectedLocationRef=/*#__PURE__*/React.createRef();return _this;}_createClass(StoreSelectorLocationLines,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.selectedStoreLocationId!==prevProps.selectedStoreLocationId){this._scrollIntoView();}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.locations){this._stores=this._sortStores(this.props.locations);}}},{key:\"render\",value:function render(){var _this2=this;if(!this._stores||this._stores.length===0){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:classnames('ms-store-select__locations',{show:this.props.displayList}),role:'tablist'},this._stores.map(function(store,index){return _this2._renderStoreLocation(store,index);}));}},{key:\"_renderStoreLocation\",value:function _renderStoreLocation(store,index){var _store$OrgUnitAvailab,_this3=this,_store$OrgUnitAvailab2;var orgUnitLocation=store===null||store===void 0?void 0:(_store$OrgUnitAvailab=store.OrgUnitAvailability)===null||_store$OrgUnitAvailab===void 0?void 0:_store$OrgUnitAvailab.OrgUnitLocation;var selectedStoreLocationId=this.props.selectedStoreLocationId;return orgUnitLocation&&/*#__PURE__*/React.createElement(\"div\",{className:classnames('ms-store-select__location',{selected:selectedStoreLocationId===orgUnitLocation.OrgUnitNumber}),key:index,role:'tab',onClick:function onClick(){return _this3.props.onClick(orgUnitLocation.OrgUnitNumber);},ref:selectedStoreLocationId===orgUnitLocation.OrgUnitNumber?this.selectedLocationRef:undefined},/*#__PURE__*/React.createElement(StoreSelectorLocationLineItemComponent,{location:orgUnitLocation,storeHours:store.StoreHours,resources:this._mapResources(this.props.resources),preferredDistanceUnit:this.props.preferredDistanceUnit,isCurrentLocation:this._isCurrentLocation(orgUnitLocation),isInStock:this._isProductInStock(store===null||store===void 0?void 0:(_store$OrgUnitAvailab2=store.OrgUnitAvailability)===null||_store$OrgUnitAvailab2===void 0?void 0:_store$OrgUnitAvailab2.ItemAvailabilities),handlers:{onSelected:this.props.onLocationSelected,onSetAsPreferredStore:this.props.onSetAsPreferredStore,onRemovePreferredStore:this.props.onRemovePreferredStore},stockStatusLabel:this._stockInventoryLabel(store),storeLocatorView:this.props.storeLocatorView,index:(index+1).toString(),preferredStoreLocationId:this.props.preferredStoreLocationId,isPreferredStoreEnabled:this.props.isPreferredStoreEnabled,telemetryContent:this.props.telemetryContent,isLocationDisabled:this.props.isLocationDisabled}));}},{key:\"_sortStores\",value:function _sortStores(stores){var _this4=this;var isPreferredStore=function isPreferredStore(value){var _value$OrgUnitAvailab,_value$OrgUnitAvailab2;return _this4.props.isPreferredStoreEnabled&&_this4.props.preferredStoreLocationId&&(value===null||value===void 0?void 0:(_value$OrgUnitAvailab=value.OrgUnitAvailability)===null||_value$OrgUnitAvailab===void 0?void 0:(_value$OrgUnitAvailab2=_value$OrgUnitAvailab.OrgUnitLocation)===null||_value$OrgUnitAvailab2===void 0?void 0:_value$OrgUnitAvailab2.OrgUnitNumber)===_this4.props.preferredStoreLocationId;};return[].concat(_toConsumableArray(stores.filter(isPreferredStore)),_toConsumableArray(stores.filter(function(store){return!isPreferredStore(store);})));}}]);return StoreSelectorLocationLines;}(React.PureComponent);__decorate([observable],StoreSelectorLocationLines.prototype,\"_stores\",void 0);StoreSelectorLocationLines=__decorate([observer],StoreSelectorLocationLines);export{StoreSelectorLocationLines};","map":{"version":3,"sources":["modules/store-selector/components/store-selector-location-lines.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IFullOrgUnitAvailability } from '@msdyn365-commerce-modules/retail-actions';\nimport { ITelemetryContent } from '@msdyn365-commerce-modules/utilities';\nimport { ItemAvailability, OrgUnitLocation } from '@msdyn365-commerce/retail-proxy';\nimport classnames from 'classnames';\nimport { observable } from 'mobx';\nimport { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { IStoreSelectorResources } from '../store-selector.props.autogenerated';\nimport { IStoreSelectorLocationLineItemResources, StoreSelectorLocationLineItemComponent } from './store-selector-location-line-item';\n\nexport interface IStoreSelectorLocationLinesProps {\n    locations?: IFullOrgUnitAvailability[];\n    resources: IStoreSelectorResources;\n    preferredDistanceUnit?: string;\n\n    alreadySelectedLocation?: OrgUnitLocation;\n    outOfStockThreshold: number;\n    enableOutOfStockCheck: boolean;\n    storeLocatorView?: boolean;\n    selectedStoreLocationId?: string;\n    isPreferredStoreEnabled?: boolean;\n    displayList?: boolean;\n    isLocationDisabled?: boolean;\n    onClick: ((locationId: string | undefined) => void);\n    preferredStoreLocationId: string | null;\n    onSetAsPreferredStore: ((locationId: string | undefined) => void);\n    onRemovePreferredStore: (() => void);\n    /** The telemetry content */\n    telemetryContent?: ITelemetryContent;\n    onLocationSelected(location: OrgUnitLocation | undefined): void;\n}\n\n/**\n * Displays all the location line items, or null if none exists\n */\n@observer\nexport class StoreSelectorLocationLines extends React.PureComponent<IStoreSelectorLocationLinesProps> {\n    private selectedLocationRef: React.RefObject<HTMLDivElement>;\n\n    @observable private _stores: IFullOrgUnitAvailability[] | undefined;\n\n    constructor(props: IStoreSelectorLocationLinesProps) {\n        super(props);\n        this.selectedLocationRef = React.createRef();\n    }\n\n    public componentDidUpdate(prevProps: IStoreSelectorLocationLinesProps): void {\n        if (this.props.selectedStoreLocationId !== prevProps.selectedStoreLocationId) {\n            this._scrollIntoView();\n        }\n    }\n\n    public componentDidMount(): void {\n        if (this.props.locations) {\n            this._stores = this._sortStores(this.props.locations);\n        }\n    }\n\n    public render(): JSX.Element | null {\n        if (!this._stores || this._stores.length === 0) {\n            return null;\n        }\n\n        return (\n            <div className={classnames('ms-store-select__locations', { show: this.props.displayList })} role='tablist'>\n                {\n                    this._stores.map((store, index) => {\n                        return this._renderStoreLocation(store, index);\n                    })\n                }\n            </div>\n        );\n    }\n\n    private _renderStoreLocation(store: IFullOrgUnitAvailability, index: number): JSX.Element | undefined {\n        const orgUnitLocation = store?.OrgUnitAvailability?.OrgUnitLocation;\n        const selectedStoreLocationId = this.props.selectedStoreLocationId;\n        return orgUnitLocation && (\n            <div\n                className={classnames('ms-store-select__location', { selected: selectedStoreLocationId === orgUnitLocation.OrgUnitNumber })}\n                key={index}\n                role='tab'\n                // tslint:disable-next-line:jsx-no-lambda react-this-binding-issue\n                onClick={() => this.props.onClick(orgUnitLocation.OrgUnitNumber)}\n                ref={selectedStoreLocationId === orgUnitLocation.OrgUnitNumber ? this.selectedLocationRef : undefined}\n            >\n                <StoreSelectorLocationLineItemComponent\n                    location={orgUnitLocation}\n                    storeHours={store.StoreHours}\n                    resources={this._mapResources(this.props.resources)}\n                    preferredDistanceUnit= {this.props.preferredDistanceUnit!}\n                    isCurrentLocation={this._isCurrentLocation(orgUnitLocation)}\n                    isInStock={this._isProductInStock(store?.OrgUnitAvailability?.ItemAvailabilities)}\n                    handlers={{ onSelected: this.props.onLocationSelected, onSetAsPreferredStore: this.props.onSetAsPreferredStore, onRemovePreferredStore:  this.props.onRemovePreferredStore}}\n                    stockStatusLabel={this._stockInventoryLabel(store)}\n                    storeLocatorView={this.props.storeLocatorView}\n                    index={(index + 1).toString()}\n                    preferredStoreLocationId={this.props.preferredStoreLocationId}\n                    isPreferredStoreEnabled={this.props.isPreferredStoreEnabled}\n                    telemetryContent={this.props.telemetryContent}\n                    isLocationDisabled={this.props.isLocationDisabled}\n                />\n            </div>\n        );\n    }\n\n    private _sortStores(stores: IFullOrgUnitAvailability[]): IFullOrgUnitAvailability[] {\n        const isPreferredStore = (value: IFullOrgUnitAvailability) => this.props.isPreferredStoreEnabled && this.props.preferredStoreLocationId &&\n            value?.OrgUnitAvailability?.OrgUnitLocation?.OrgUnitNumber === this.props.preferredStoreLocationId;\n\n        return [\n            ...stores.filter(isPreferredStore),\n            ...stores.filter(store => !isPreferredStore(store))\n        ];\n    }\n\n    private _scrollIntoView = () => {\n        const selectedLocationDiv = this.selectedLocationRef.current;\n        const parent = selectedLocationDiv?.parentElement;\n        if (selectedLocationDiv && parent) {\n            if (parent.scrollTop > selectedLocationDiv.offsetTop) {\n                parent.scrollTop = selectedLocationDiv.offsetTop;\n            } else if (selectedLocationDiv.offsetTop + selectedLocationDiv.clientHeight > parent.scrollTop + parent.clientHeight) {\n                parent.scrollTop = selectedLocationDiv.offsetTop + selectedLocationDiv.clientHeight - parent.clientHeight;\n            }\n        }\n    }\n\n    private _isCurrentLocation = (location: OrgUnitLocation | undefined): boolean =>\n        (this.props.alreadySelectedLocation && location && this.props.alreadySelectedLocation.OrgUnitNumber === location.OrgUnitNumber) || false;\n\n    private _isProductInStock = (ItemAvailabilities: ItemAvailability[] | undefined): boolean => {\n        if (!this.props.enableOutOfStockCheck) {\n            return true;\n        }\n\n        if (ItemAvailabilities && ItemAvailabilities.length > 0) {\n            return ItemAvailabilities[0].AvailableQuantity ? ItemAvailabilities[0].AvailableQuantity > 0 : false;\n        }\n\n        return false;\n    };\n\n    private _stockInventoryLabel = (availabilityWithHours: IFullOrgUnitAvailability | undefined): string | undefined => {\n        if (availabilityWithHours?.ProductInventoryInformation\n            && availabilityWithHours?.ProductInventoryInformation.length > 0) {\n            for(let i=0; i<availabilityWithHours.ProductInventoryInformation.length; i++) {\n                if(availabilityWithHours.OrgUnitAvailability?.OrgUnitLocation?.InventoryLocationId === availabilityWithHours.ProductInventoryInformation[i].InventLocationId) {\n                    return availabilityWithHours.ProductInventoryInformation[i].StockLevelLabel;\n                }\n\n            }\n        }\n\n        return undefined;\n    };\n\n    private _mapResources = (resources: IStoreSelectorResources): IStoreSelectorLocationLineItemResources => {\n        return {\n            contactInfoHeader: resources.contactText,\n            storeHoursHeader: resources.timeText,\n            availabilityInfoHeader: resources.availabilityText,\n\n            closedText: resources.storeHoursClosedText,\n            outOfStock: resources.outOfStockText,\n            inStock: resources.inStockText,\n\n            currentLocation: resources.selectedStoreLocationText,\n            selectLocation: resources.selectStoreText,\n            selectLocationAriaLabelFormat: resources.selectStoreAriaFormatText,\n            setAsPreferredStoreText: resources.setAsPreferredStoreText,\n            setAsPreferredStoreTextAriaLabel: resources.setAsPreferredStoreTextAriaLabel,\n            preferredStoreText: resources.preferredStoreText,\n            preferredStoreAriaLabel: resources.preferredStoreAriaLabel,\n\n            days: {\n                monday: resources.storeHoursMondayText,\n                tuesday: resources.storeHoursTuesdayText,\n                wednesday: resources.storeHoursWednesdayText,\n                thursday: resources.storeHoursThursdayText,\n                friday: resources.storeHoursFridayText,\n                saturday: resources.storeHoursSaturdayText,\n                sunday: resources.storeHoursSundayText,\n                mondayFull: resources.storeHoursMondayFullText,\n                tuesdayFull: resources.storeHoursTuesdayFullText,\n                wednesdayFull: resources.storeHoursWednesdayFullText,\n                thursdayFull: resources.storeHoursThursdayFullText,\n                fridayFull: resources.storeHoursFridayFullText,\n                saturdayFull: resources.storeHoursSaturdayFullText,\n                sundayFull: resources.storeHoursSundayFullText\n            }\n        };\n    }\n}"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}