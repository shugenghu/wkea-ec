{"ast":null,"code":"import{Module,Node}from'@msdyn365-commerce-modules/utilities';import*as React from'react';var ReviewsListview=function ReviewsListview(props){var averageRating=props.averageRating,filterByDropdown=props.filterByDropdown,heading=props.heading,moduleProps=props.moduleProps,noReviewsMessage=props.noReviewsMessage,noReviewsWithFilterMessage=props.noReviewsWithFilterMessage,pageControls=props.pageControls,refineReviewsProps=props.refineReviewsProps,reportReviewModal=props.reportReviewModal,reviewsListProps=props.reviewsListProps,reviewCards=props.reviewCards,reviewCount=props.reviewCount,reviewModal=props.reviewModal,sortByDropdown=props.sortByDropdown,state=props.state,userReview=props.userReview;if(!userReview&&reviewCards.length===0&&!state.isFilterApplied){return/*#__PURE__*/React.createElement(Module,Object.assign({},moduleProps),noReviewsMessage);}return/*#__PURE__*/React.createElement(Module,Object.assign({},moduleProps),heading,averageRating,reviewCount,/*#__PURE__*/React.createElement(Node,Object.assign({},refineReviewsProps),sortByDropdown,filterByDropdown),/*#__PURE__*/React.createElement(Node,Object.assign({},reviewsListProps),userReview&&buildReviewCard(userReview),reviewCards.map(function(review){return buildReviewCard(review);})),reviewCards.length===0&&state.isFilterApplied&&noReviewsWithFilterMessage,pageControls,createReviewModal(reviewModal,moduleProps),createReportModal(reportReviewModal,state));};var buildReviewCard=function buildReviewCard(props){return/*#__PURE__*/React.createElement(Node,Object.assign({},props.cardProps),/*#__PURE__*/React.createElement(Node,Object.assign({},props.headerProps),props.rating,props.name),/*#__PURE__*/React.createElement(Node,Object.assign({},props.cardBodyProps),/*#__PURE__*/React.createElement(Node,Object.assign({},props.reviewProps),props.reviewTitle,props.date,props.reviewText),/*#__PURE__*/React.createElement(Node,Object.assign({},props.responseProps),props.responseName,props.responseDate,props.responseText),/*#__PURE__*/React.createElement(Node,Object.assign({},props.controlsProps),props.ratingHelpfulLabel,props.like,props.dislike,props.edit,props.report)));};var createReviewModal=function createReviewModal(props,moduleProps){return/*#__PURE__*/React.createElement(Module,Object.assign({},props.modal,moduleProps),props.modalHeader,/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalBody),/*#__PURE__*/React.createElement(Node,Object.assign({},props.form),/*#__PURE__*/React.createElement(Node,Object.assign({},props.inputRow),props.rating,props.ratingLabel),/*#__PURE__*/React.createElement(Node,Object.assign({},props.inputRow),props.titleLabel,props.titleInput),/*#__PURE__*/React.createElement(Node,Object.assign({},props.inputRow),props.textLabel,props.textInput),props.privacyPolicyUrl,props.error)),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalFooter),props.submitButton,props.cancelButton));};var createReportModal=function createReportModal(props,state){return/*#__PURE__*/React.createElement(Node,Object.assign({},props.modal),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalHeader),state.reported?props.headerSubmitted:props.header),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalBody),state.reported?props.reportSubmittedMessage:[props.reportMessage,props.radioButtons,props.error]),/*#__PURE__*/React.createElement(Node,Object.assign({},props.modalFooter),state.reported?props.succesfulButton:[props.submitButton,props.cancelButton]));};export default ReviewsListview;","map":{"version":3,"sources":["modules/reviews-list/reviews-list.view.tsx"],"names":[],"mappings":"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","sourcesContent":["import {  IModuleProps, Module, Node } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\nimport {IReviewModalViewProps} from '../../common/review-modal';\nimport {IReportReviewModalViewProps} from './components/report-review-modal';\nimport {IReviewCardViewProps} from './components/review-card';\nimport { IReviewsListState, IReviewsListViewProps } from './reviews-list';\n\nconst ReviewsListview: React.FC<IReviewsListViewProps> = props => {\n    const {\n        averageRating,\n        filterByDropdown,\n        heading,\n        moduleProps,\n        noReviewsMessage,\n        noReviewsWithFilterMessage,\n        pageControls,\n        refineReviewsProps,\n        reportReviewModal,\n        reviewsListProps,\n        reviewCards,\n        reviewCount,\n        reviewModal,\n        sortByDropdown,\n        state,\n        userReview\n    } = props;\n\n    if (!userReview && reviewCards.length === 0 && !state.isFilterApplied) {\n        return  <Module {...moduleProps}>{noReviewsMessage}</Module>;\n    }\n\n    return (\n        <Module {...moduleProps}>\n            {heading}\n            {averageRating}\n            {reviewCount}\n            <Node {...refineReviewsProps} >\n                {sortByDropdown}\n                {filterByDropdown}\n            </Node>\n            <Node {...reviewsListProps}>\n                {userReview && buildReviewCard(userReview)}\n                {reviewCards.map(review => {\n                    return buildReviewCard(review);\n                })}\n            </Node>\n            { reviewCards.length === 0 && state.isFilterApplied && noReviewsWithFilterMessage}\n            {pageControls}\n            {createReviewModal(reviewModal, moduleProps)}\n            {createReportModal(reportReviewModal, state)}\n        </Module>\n    );\n};\n\nconst buildReviewCard = (props: IReviewCardViewProps) => {\n    return (\n        <Node {...props.cardProps}>\n            <Node {...props.headerProps}>\n                {props.rating}\n                {props.name}\n            </Node>\n            <Node {...props.cardBodyProps}>\n                <Node {...props.reviewProps}>\n                    {props.reviewTitle}\n                    {props.date}\n                    {props.reviewText}\n                </Node>\n                <Node {...props.responseProps}>\n                    {props.responseName}\n                    {props.responseDate}\n                    {props.responseText}\n                </Node>\n                <Node {...props.controlsProps}>\n                    {props.ratingHelpfulLabel}\n                    {props.like}\n                    {props.dislike}\n                    {props.edit}\n                    {props.report}\n                </Node>\n            </Node>\n        </Node>\n    );\n};\n\nconst createReviewModal = (props: IReviewModalViewProps, moduleProps: IModuleProps): JSX.Element => {\n    return (\n        <Module {...props.modal} {...moduleProps}>\n            {props.modalHeader}\n            <Node {...props.modalBody}>\n                <Node {...props.form}>\n                    <Node {...props.inputRow}>\n                        {props.rating}\n                        {props.ratingLabel}\n                    </Node>\n                    <Node {...props.inputRow}>\n                        {props.titleLabel}\n                        {props.titleInput}\n                    </Node>\n                    <Node {...props.inputRow}>\n                        {props.textLabel}\n                        {props.textInput}\n                    </Node>\n                    {props.privacyPolicyUrl}\n                    {props.error}\n                </Node>\n            </Node>\n            <Node {...props.modalFooter}>\n                {props.submitButton}\n                {props.cancelButton}\n            </Node>\n        </Module>\n    );\n};\n\nconst createReportModal = (props: IReportReviewModalViewProps, state: IReviewsListState): JSX.Element => {\n    return (\n        <Node {...props.modal}>\n            <Node {...props.modalHeader}>\n                {state.reported ? props.headerSubmitted : props.header}\n            </Node>\n            <Node {...props.modalBody}>\n                {state.reported ? props.reportSubmittedMessage : [props.reportMessage, props.radioButtons, props.error]}\n            </Node>\n            <Node {...props.modalFooter}>\n                {state.reported ? props.succesfulButton : [props.submitButton, props.cancelButton]}\n            </Node>\n        </Node>\n    );\n};\n\nexport default ReviewsListview;"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}