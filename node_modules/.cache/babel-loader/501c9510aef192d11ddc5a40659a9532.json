{"ast":null,"code":"import{getFallbackImageUrl,getProductPageUrlSync}from'@msdyn365-commerce-modules/retail-actions';import{getPayloadObject,getTelemetryAttributes,onTelemetryClick}from'@msdyn365-commerce-modules/utilities';import{Image}from'@msdyn365-commerce/core';import*as React from'react';export var FeatureSearchResultItem=function FeatureSearchResultItem(_ref){var product=_ref.product,context=_ref.context,imageSettings=_ref.imageSettings,resources=_ref.resources,telemetryContent=_ref.telemetryContent;if(product===null){return null;}var productName=product.Name;var productRecordId=product&&product.RecordId?product.RecordId:0;var productUrl=getProductPageUrlSync(product.Name||'',productRecordId,context&&context.actionContext,undefined);var fallbackImage=getFallbackImageUrl(product.ItemId,context.actionContext.requestContext.apiSettings);var payLoad=getPayloadObject('click',telemetryContent,productName,productRecordId.toString());var attribute=getTelemetryAttributes(telemetryContent,payLoad);return/*#__PURE__*/React.createElement(\"div\",{className:'ms-feature-search-result__item'},/*#__PURE__*/React.createElement(\"a\",Object.assign({href:productUrl,onClick:onTelemetryClick(telemetryContent,payLoad,product.Name)},attribute,{\"aria-label\":product.Name}),/*#__PURE__*/React.createElement(\"div\",{className:'msc-feature-search-result__item__image'},renderProductPlacementImage(imageSettings,context.request.gridSettings,product.PrimaryImageUrl,product.Name,fallbackImage))),/*#__PURE__*/React.createElement(\"div\",{className:'msc-feature-search-result__item__detail'},/*#__PURE__*/React.createElement(\"p\",{className:'msc-feature-search-result__item__heading'},resources.featureSimilarLooksTitle),renderProductTitle(product===null||product===void 0?void 0:product.Name)));};function renderProductPlacementImage(imageSettings,gridSettings,imageUrl,altText,fallbackImage){if(!imageUrl||!gridSettings||!imageSettings){return null;}var img={src:imageUrl,altText:altText?altText:''};var imageProps={gridSettings:gridSettings,imageSettings:imageSettings,fallBackSrc:fallbackImage};return/*#__PURE__*/React.createElement(Image,Object.assign({},img,imageProps,{loadFailureBehavior:'empty'}));}function renderProductTitle(title){return/*#__PURE__*/React.createElement(\"h1\",{className:'msc-feature-search-result__item__product-title'},title);}","map":{"version":3,"sources":["modules/search-result-container/components/feature-search-result-item.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getFallbackImageUrl, getProductPageUrlSync } from '@msdyn365-commerce-modules/retail-actions';\nimport { getPayloadObject, getTelemetryAttributes, ITelemetryContent ,onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport { ICoreContext, IGridSettings, IImageData, IImageSettings, Image} from '@msdyn365-commerce/core';\nimport { SimpleProduct } from '@msdyn365-commerce/retail-proxy';\nimport * as React from 'react';\nimport { ISearchResultContainerResources } from '../search-result-container.props.autogenerated';\n// import { IComponent, IComponentProps, ICoreContext, IGridSettings, IImageData, IImageSettings, Image, msdyn365Commerce } from '@msdyn365-commerce/core';\n\ninterface IFeatureSearchResultItem {\n    product: SimpleProduct | null;\n    context: ICoreContext;\n    resources: ISearchResultContainerResources;\n    imageSettings?: IImageSettings;\n    moduleType: string;\n    moduleId: string;\n    telemetryContent?: ITelemetryContent;\n}\n\nexport const FeatureSearchResultItem: React.FC<IFeatureSearchResultItem> = ({\n    product,\n    context,\n    imageSettings,\n    resources,\n    telemetryContent\n}) => {\n    if(product === null) {\n        return null;\n    }\n\n    const productName = product.Name;\n    const productRecordId = product && product.RecordId ? product.RecordId: 0;\n    const productUrl = getProductPageUrlSync(product.Name || '', productRecordId, context && context.actionContext, undefined);\n    const fallbackImage = getFallbackImageUrl(product.ItemId, context.actionContext.requestContext.apiSettings);\n\n    // Construct telemetry attribute to render\n    const payLoad = getPayloadObject('click', telemetryContent!, productName!, productRecordId.toString());\n\n    const attribute = getTelemetryAttributes(telemetryContent!, payLoad);\n    return (\n            <div className='ms-feature-search-result__item'>\n                <a href={productUrl} onClick={onTelemetryClick(telemetryContent!, payLoad, product.Name!)}{...attribute} aria-label={product.Name}>\n                <div className='msc-feature-search-result__item__image'>\n                    {renderProductPlacementImage(imageSettings, context.request.gridSettings, product.PrimaryImageUrl, product.Name, fallbackImage)}\n                </div>\n                </a>\n                <div className='msc-feature-search-result__item__detail'>\n                    <p className='msc-feature-search-result__item__heading'>{resources.featureSimilarLooksTitle}</p>\n                    {renderProductTitle(product?.Name)}\n                </div>\n            </div>\n    );\n\n};\n\nfunction renderProductPlacementImage(imageSettings?: IImageSettings, gridSettings?: IGridSettings, imageUrl?: string, altText?: string, fallbackImage?: string,): JSX.Element | null {\n    if (!imageUrl || !gridSettings || !imageSettings) {\n        return null;\n    }\n    const img: IImageData = {\n        src: imageUrl,\n        altText: altText ? altText : ''\n    };\n    const imageProps = {\n        gridSettings: gridSettings,\n        imageSettings: imageSettings,\n        fallBackSrc: fallbackImage\n    };\n    return (\n        <Image {...img} {...imageProps} loadFailureBehavior='empty' />\n    );\n}\n\nfunction renderProductTitle(title?: string): JSX.Element | null {\nreturn <h1 className='msc-feature-search-result__item__product-title'>{title}</h1>;\n}"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}