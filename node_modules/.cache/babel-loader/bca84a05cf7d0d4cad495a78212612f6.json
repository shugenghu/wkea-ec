{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';var ActionToggle=/*#__PURE__*/function(_React$PureComponent){_inherits(ActionToggle,_React$PureComponent);var _super=_createSuper(ActionToggle);function ActionToggle(props){var _this;_classCallCheck(this,ActionToggle);_this=_super.call(this,props);_this.ref=/*#__PURE__*/React.createRef();_this.focusElement=null;_this._onClick=_this._onClick.bind(_assertThisInitialized(_this));return _this;}_createClass(ActionToggle,[{key:\"getSnapshotBeforeUpdate\",value:function getSnapshotBeforeUpdate(){this.focusElement=null;if(this.ref.current&&this.ref.current.contains(document.activeElement)){this.focusElement=document.activeElement;}return null;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.ref.current&&this.focusElement){var focusTarget=this.ref.current.children[!!this.props.toggled?1:0];if(focusTarget!==document.activeElement){focusTarget.focus();}}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,className=_this$props.className,children=_this$props.children,toggled=_this$props.toggled,onChange=_this$props.onChange,props=_objectWithoutProperties(_this$props,[\"className\",\"children\",\"toggled\",\"onChange\"]);var classes=\"action-toggle\".concat(className?' ':'').concat(className||'');return React.Children.count(children)!==2?null:/*#__PURE__*/React.createElement(\"div\",Object.assign({className:classes},props,{ref:this.ref}),React.Children.map(children,function(child,index){var hidden=!index&&!!_this2.props.toggled||!!index&&!_this2.props.toggled;return/*#__PURE__*/React.cloneElement(child,{'aria-hidden':hidden,onClick:_this2._onClick});}));}},{key:\"_onClick\",value:function _onClick(e){e.stopPropagation();if(this.props.onChange){this.props.onChange({id:this.props.id,actionToggle:this,toggled:!!this.props.toggled,event:e});}}}]);return ActionToggle;}(React.PureComponent);export{ActionToggle as default};","map":{"version":3,"sources":["videoplayer/components/action-toggle/ActionToggle.tsx"],"names":[],"mappings":"ksCAAA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,C,GAQqB,CAAA,Y,gIAIjB,sBAAY,KAAZ,CAA+C,8CAC3C,uBAAM,KAAN,EAJI,MAAA,GAAA,cAAuC,KAAK,CAAC,SAAN,EAAvC,CACA,MAAA,YAAA,CAAmC,IAAnC,CAIJ,MAAK,QAAL,CAAgB,MAAK,QAAL,CAAc,IAAd,+BAAhB,CAF2C,aAG9C,C,kGAE6B,CAC1B,KAAK,YAAL,CAAoB,IAApB,CACA,GAAI,KAAK,GAAL,CAAS,OAAT,EAAoB,KAAK,GAAL,CAAS,OAAT,CAAiB,QAAjB,CAA0B,QAAQ,CAAC,aAAnC,CAAxB,CAA2E,CACvE,KAAK,YAAL,CAAoB,QAAQ,CAAC,aAA7B,CACH,CACD,MAAO,KAAP,CACH,C,+DAEwB,CACrB,GAAI,KAAK,GAAL,CAAS,OAAT,EAAoB,KAAK,YAA7B,CAA2C,CACvC,GAAM,CAAA,WAAW,CAAG,KAAK,GAAL,CAAS,OAAT,CAAiB,QAAjB,CAA0B,CAAC,CAAC,KAAK,KAAL,CAAW,OAAb,CAAuB,CAAvB,CAA2B,CAArD,CAApB,CACA,GAAI,WAAW,GAAK,QAAQ,CAAC,aAA7B,CAA4C,CACxC,WAAW,CAAC,KAAZ,GACH,CACJ,CACJ,C,uCAEY,iCACoD,KAAK,KADzD,CACD,SADC,aACD,SADC,CACU,QADV,aACU,QADV,CACoB,OADpB,aACoB,OADpB,CAC6B,QAD7B,aAC6B,QAD7B,CAC0C,KAD1C,qFAET,GAAM,CAAA,OAAO,wBAAmB,SAAS,CAAG,GAAH,CAAS,EAArC,SAA0C,SAAS,EAAI,EAAvD,CAAb,CACA,MAAO,CAAA,KAAK,CAAC,QAAN,CAAe,KAAf,CAAqB,QAArB,IAAmC,CAAnC,CAAuC,IAAvC,cACH,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAK,SAAS,CAAE,OAAhB,CAAA,CAA6B,KAA7B,CAAkC,CAAE,GAAG,CAAE,KAAK,GAAZ,CAAlC,CAAA,CACK,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,QAAnB,CAA6B,SAAC,KAAD,CAAyB,KAAzB,CAA0C,CACpE,GAAM,CAAA,MAAM,CAAI,CAAC,KAAD,EAAU,CAAC,CAAC,MAAI,CAAC,KAAL,CAAW,OAAxB,EAAqC,CAAC,CAAC,KAAF,EAAW,CAAC,MAAI,CAAC,KAAL,CAAW,OAA3E,CAEA,mBAAO,KAAK,CAAC,YAAN,CAAmB,KAAnB,CAAiC,CAAE,cAAe,MAAjB,CAAyB,OAAO,CAAE,MAAI,CAAC,QAAvC,CAAjC,CAAP,CACH,CAJA,CADL,CADJ,CASH,C,0CAEgB,C,CAAsB,CACnC,CAAC,CAAC,eAAF,GACA,GAAI,KAAK,KAAL,CAAW,QAAf,CAAyB,CACrB,KAAK,KAAL,CAAW,QAAX,CAAoB,CAAE,EAAE,CAAE,KAAK,KAAL,CAAW,EAAjB,CAAqB,YAAY,CAAE,IAAnC,CAAyC,OAAO,CAAE,CAAC,CAAC,KAAK,KAAL,CAAW,OAA/D,CAAwE,KAAK,CAAE,CAA/E,CAApB,EACH,CACJ,C,0BA7CqC,KAAK,CAAC,a,SAA3B,Y","sourcesContent":["import * as React from 'react';\n\nimport { IActionToggleProps } from './ActionToggle.props';\n\n/**\n * ActionToggle - This component is toggle button which switches between states\n * and for accessibility reasons are 2 different buttons\n */\nexport default class ActionToggle extends React.PureComponent<IActionToggleProps> {\n    private ref: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n    private focusElement: HTMLElement | null = null;\n\n    constructor(props: Readonly<IActionToggleProps>) {\n        super(props);\n        this._onClick = this._onClick.bind(this);\n    }\n\n    public getSnapshotBeforeUpdate(): null {\n        this.focusElement = null;\n        if (this.ref.current && this.ref.current.contains(document.activeElement)) {\n            this.focusElement = document.activeElement as HTMLElement;\n        }\n        return null;\n    }\n\n    public componentDidUpdate(): void {\n        if (this.ref.current && this.focusElement) {\n            const focusTarget = this.ref.current.children[!!this.props.toggled ? 1 : 0] as HTMLElement;\n            if (focusTarget !== document.activeElement) {\n                focusTarget.focus();\n            }\n        }\n    }\n\n    public render(): JSX.Element | null {\n        const { className, children, toggled, onChange, ...props } = this.props;\n        const classes = `action-toggle${className ? ' ' : ''}${className || ''}`;\n        return React.Children.count(children) !== 2 ? null : (\n            <div className={classes} {...props} ref={this.ref}>\n                {React.Children.map(children, (child: React.ReactNode, index: number) => {\n                    const hidden = (!index && !!this.props.toggled) || (!!index && !this.props.toggled);\n                    // tslint:disable-next-line:no-any\n                    return React.cloneElement(child as any, { 'aria-hidden': hidden, onClick: this._onClick });\n                })}\n            </div>\n        );\n    }\n\n    private _onClick(e: React.KeyboardEvent): void {\n        e.stopPropagation();\n        if (this.props.onChange) {\n            this.props.onChange({ id: this.props.id, actionToggle: this, toggled: !!this.props.toggled, event: e });\n        }\n    }\n}\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}