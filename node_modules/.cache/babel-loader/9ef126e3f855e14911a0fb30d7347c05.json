{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{EXCEPTION_HTTP_TIMEOUT}from'@msdyn365-commerce/telemetry-internal';import{DEFAULT_REQUEST_TIMEOUT}from'../../consts';import{safeRoute}from'../../utils/helpers';export var requestTimeout=safeRoute(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(req,res,next){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// one minute timeout error\nres.setTimeout(DEFAULT_REQUEST_TIMEOUT,function(){next(new Error(EXCEPTION_HTTP_TIMEOUT));});next();case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}());","map":{"version":3,"sources":["../../../../src/_server/middleware/route-timeout.ts"],"names":[],"mappings":"uIAAA;;;AAGG,GAEH,OAAS,sBAAT,KAAuC,uCAAvC,CAEA,OAAS,uBAAT,KAAwC,cAAxC,CACA,OAAS,SAAT,KAA0B,qBAA1B,CAEA,MAAO,IAAM,CAAA,cAAc,CAAG,SAAS,0FAAC,iBAAO,GAAP,CAAqB,GAArB,CAAoC,IAApC,kHACpC;AACA,GAAG,CAAC,UAAJ,CAAe,uBAAf,CAAwC,UAAK,CACzC,IAAI,CAAC,GAAI,CAAA,KAAJ,CAAU,sBAAV,CAAD,CAAJ,CACH,CAFD,EAGA,IAAI,GALgC,sDAAD,uEAAhC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { EXCEPTION_HTTP_TIMEOUT } from '@msdyn365-commerce/telemetry-internal';\nimport { NextFunction, Request, Response } from 'express';\nimport { DEFAULT_REQUEST_TIMEOUT } from '../../consts';\nimport { safeRoute } from '../../utils/helpers';\n\nexport const requestTimeout = safeRoute(async (req: Request, res: Response, next: NextFunction) => {\n    // one minute timeout error\n    res.setTimeout(DEFAULT_REQUEST_TIMEOUT, () => {\n        next(new Error(EXCEPTION_HTTP_TIMEOUT));\n    });\n    next();\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}