{"ast":null,"code":"import{QueryResultSettingsProxy}from'./QueryResultSettingsProxy';export var parseSearchData=function parseSearchData(inputData){// query is of type 'IDictionary<string> | undefined', so that q and skip are not recognized by tsc\n// @ts-ignore:2339\nvar _inputData$requestCon=inputData.requestContext,_inputData$requestCon2=_inputData$requestCon.query,q=_inputData$requestCon2.q,top=_inputData$requestCon2.top,skip=_inputData$requestCon2.skip,channelId=_inputData$requestCon.apiSettings.channelId,_inputData$config=inputData.config,maxItems=_inputData$config.maxItems,itemsPerPage=_inputData$config.itemsPerPage;var queryResultSettings=QueryResultSettingsProxy.fromInputData(inputData).QueryResultSettings;return{q:q,skip:skip&&Number(skip)||0,top:top&&Number(top)||50,itemsPerPage:itemsPerPage,maxItems:maxItems,channelId:channelId,queryResultSettings:queryResultSettings};};","map":{"version":3,"sources":["../../../src/utilities/input-data-parser.ts"],"names":[],"mappings":"AAEA,OAAS,wBAAT,KAAyC,4BAAzC,CAYA,MAAO,IAAM,CAAA,eAAe,CAAG,QAAlB,CAAA,eAAkB,CAAC,SAAD,CAAiE,CAC5F;AACA;AAF4F,0BAGmB,SAHnB,CAGpF,cAHoF,8CAGnE,KAHmE,CAG3D,CAH2D,wBAG3D,CAH2D,CAGxD,GAHwD,wBAGxD,GAHwD,CAGnD,IAHmD,wBAGnD,IAHmD,CAG9B,SAH8B,uBAG5C,WAH4C,CAG9B,SAH8B,mBAGmB,SAHnB,CAGjB,MAHiB,CAGR,QAHQ,mBAGR,QAHQ,CAGE,YAHF,mBAGE,YAHF,CAI5F,GAAM,CAAA,mBAAmB,CAAG,wBAAwB,CAAC,aAAzB,CAAuC,SAAvC,EAAkD,mBAA9E,CACA,MAAO,CACH,CAAC,CAAD,CADG,CAEH,IAAI,CAAG,IAAI,EAAI,MAAM,CAAC,IAAD,CAAd,EAAwB,CAF5B,CAGH,GAAG,CAAG,GAAG,EAAI,MAAM,CAAC,GAAD,CAAb,EAAsB,EAHzB,CAIH,YAAY,CAAZ,YAJG,CAKH,QAAQ,CAAR,QALG,CAMH,SAAS,CAAT,SANG,CAOH,mBAAmB,CAAnB,mBAPG,CAAP,CASH,CAdM","sourcesContent":["import { IAny, ICreateActionContext, IGeneric } from '@msdyn365-commerce/core';\nimport { QueryResultSettings } from '@msdyn365-commerce/retail-proxy';\nimport { QueryResultSettingsProxy } from './QueryResultSettingsProxy';\n\nexport interface ISearchData {\n    q: string;\n    skip: number;\n    top: number;\n    itemsPerPage: string;\n    maxItems: string;\n    channelId: number;\n    queryResultSettings: QueryResultSettings;\n}\n\nexport const parseSearchData = (inputData: ICreateActionContext<IGeneric<IAny>>): ISearchData => {\n    // query is of type 'IDictionary<string> | undefined', so that q and skip are not recognized by tsc\n    // @ts-ignore:2339\n    const { requestContext: {query: {q, top, skip}, apiSettings: {channelId}}, config: {maxItems, itemsPerPage}} = inputData;\n    const queryResultSettings = QueryResultSettingsProxy.fromInputData(inputData).QueryResultSettings;\n    return {\n        q,\n        skip: (skip && Number(skip) || 0),\n        top: (top && Number(top) || 50),\n        itemsPerPage, // TODO BUGBUG 21667361\n        maxItems, // TODO BUGBUG 21667361\n        channelId,\n        queryResultSettings\n    };\n};"],"sourceRoot":""},"metadata":{},"sourceType":"module"}