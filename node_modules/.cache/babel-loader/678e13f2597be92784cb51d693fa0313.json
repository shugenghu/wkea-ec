{"ast":null,"code":"import\"core-js/modules/es.symbol.description.js\";import*as React from'react';import{HtmlHeadInclude}from'@msdyn365-commerce/core';class DefaultPageSummary extends React.PureComponent{render(){if(this.props.data.pageSummary.result===undefined){throw new Error('PageSummaryData input to page-summary is undefined. Unable to generate page-summary');}let{data:{pageSummary:{result:{title,description,keywords,sharingImageUrl,faviconUrl}}}}=this.props;const{config,context,data:{pageSummary:{result:{canonicalUrl}}}}=this.props;title=config.title||title;description=config.description||description;keywords=config.keywords||keywords;sharingImageUrl=config.sharingImage&&config.sharingImage.src||sharingImageUrl;faviconUrl=config.faviconUrl||faviconUrl;const pageTitle=this._constructPageTitle(title,context&&context.request&&context.request.app);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HtmlHeadInclude,null,pageTitle&&/*#__PURE__*/React.createElement(\"title\",null,pageTitle),description&&/*#__PURE__*/React.createElement(\"meta\",{name:'description',content:description}),keywords&&/*#__PURE__*/React.createElement(\"meta\",{name:'keywords',content:keywords}),canonicalUrl&&/*#__PURE__*/React.createElement(\"link\",{rel:'canonical',href:canonicalUrl}),faviconUrl&&/*#__PURE__*/React.createElement(\"link\",{rel:'shortcut icon',href:faviconUrl})),!config.disableOgTags&&this._renderOgTags(pageTitle,description,sharingImageUrl),!config.disableTwitterTags&&this._renderTwitterTags(pageTitle,description,sharingImageUrl));}_renderOgTags(title,description,sharingImageUrl){return/*#__PURE__*/React.createElement(HtmlHeadInclude,null,title&&/*#__PURE__*/React.createElement(\"meta\",{property:'og:title',content:title}),description&&/*#__PURE__*/React.createElement(\"meta\",{property:'og:description',content:description}),sharingImageUrl&&/*#__PURE__*/React.createElement(\"meta\",{property:'og:image',content:sharingImageUrl}),/*#__PURE__*/React.createElement(\"meta\",{property:'og:type',content:'website'}));}_renderTwitterTags(title,description,sharingImageUrl){return/*#__PURE__*/React.createElement(HtmlHeadInclude,null,title&&/*#__PURE__*/React.createElement(\"meta\",{name:'twitter:title',content:title}),description&&/*#__PURE__*/React.createElement(\"meta\",{name:'twitter:description',content:description}),sharingImageUrl&&/*#__PURE__*/React.createElement(\"meta\",{name:'twitter:image',content:sharingImageUrl}),/*#__PURE__*/React.createElement(\"meta\",{name:'twitter:card',content:'summary'}));}_constructPageTitle(title,app){if(!title){title='';}const moduleConfig=this.props.config;if(moduleConfig&&moduleConfig.ignoreTitleSuffixPrefix){return title;}const appConfig=app&&app.platform;if(appConfig){if(appConfig.pageTitlePrefix){title=appConfig.pageTitlePrefix+title;}if(appConfig.pageTitleSuffix){title=title+appConfig.pageTitleSuffix;}}return title;}}export default DefaultPageSummary;","map":{"version":3,"sources":["modules/default-page-summary/default-page-summary.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as React from 'react';\n\nimport { HtmlHeadInclude, IAny, IGeneric } from '@msdyn365-commerce/core';\nimport { IDefaultPageSummaryData } from './default-page-summary.data';\nimport { IDefaultPageSummaryProps } from './default-page-summary.props.autogenerated';\n\n/**\n *\n * DefaultPageSummaryMetadata component\n * @extends {React.PureComponent<DefaultPageSummaryProps>}\n */\nclass DefaultPageSummary extends React.PureComponent<IDefaultPageSummaryProps<IDefaultPageSummaryData>> {\n    public render(): JSX.Element {\n        if (this.props.data.pageSummary.result === undefined) {\n            throw new Error('PageSummaryData input to page-summary is undefined. Unable to generate page-summary');\n        }\n        let {\n            data: {\n                pageSummary: {\n                    result: { title, description, keywords, sharingImageUrl, faviconUrl }\n                }\n            },\n        } = this.props;\n\n        const {\n            config,\n            context,\n            data: {\n                pageSummary: {\n                    result: { canonicalUrl }\n                }\n            },\n        } = this.props;\n\n        // Override values coming from data action if config values are provided\n        title = config.title || title;\n        description = config.description || description;\n        keywords = config.keywords || keywords;\n        sharingImageUrl = (config.sharingImage && config.sharingImage.src) || sharingImageUrl;\n        faviconUrl = config.faviconUrl || faviconUrl;\n\n        const pageTitle = this._constructPageTitle(title, context && context.request && context.request.app);\n        return (\n            <React.Fragment>\n                <HtmlHeadInclude>\n                    {pageTitle && <title>{pageTitle}</title>}\n                    {description && <meta name='description' content={description} />}\n                    {keywords && <meta name='keywords' content={keywords} />}\n                    {canonicalUrl && <link rel='canonical' href={canonicalUrl} />}\n                    {faviconUrl && <link rel='shortcut icon' href={faviconUrl} />}\n                </HtmlHeadInclude>\n                {!config.disableOgTags && this._renderOgTags(pageTitle, description, sharingImageUrl)}\n                {!config.disableTwitterTags && this._renderTwitterTags(pageTitle, description, sharingImageUrl)}\n            </React.Fragment>\n        );\n    }\n\n    private _renderOgTags(title: string | undefined, description: string | undefined, sharingImageUrl: string | undefined): JSX.Element {\n        return (\n            <HtmlHeadInclude>\n                {title && <meta property='og:title' content={title} />}\n                {description && <meta property='og:description' content={description} />}\n                {sharingImageUrl && <meta property='og:image' content={sharingImageUrl} />}\n                <meta property='og:type' content='website' />\n            </HtmlHeadInclude>\n        );\n    }\n\n    private _renderTwitterTags(\n        title: string | undefined,\n        description: string | undefined,\n        sharingImageUrl: string | undefined\n    ): JSX.Element {\n        return (\n            <HtmlHeadInclude>\n                {title && <meta name='twitter:title' content={title} />}\n                {description && <meta name='twitter:description' content={description} />}\n                {sharingImageUrl && <meta name='twitter:image' content={sharingImageUrl} />}\n                {<meta name='twitter:card' content='summary' />}\n            </HtmlHeadInclude>\n        );\n    }\n\n    private _constructPageTitle(title: string | undefined, app: IGeneric<IAny>): string | undefined {\n        if(!title) {\n            title = '';\n        }\n\n        const moduleConfig = this.props.config;\n        if (moduleConfig && moduleConfig.ignoreTitleSuffixPrefix) {\n            return title;\n        }\n\n        const appConfig = app && app.platform;\n        if (appConfig) {\n            if (appConfig.pageTitlePrefix) {\n                title = (appConfig.pageTitlePrefix as string) + title;\n            }\n            if (appConfig.pageTitleSuffix) {\n                title = title + (appConfig.pageTitleSuffix as string);\n            }\n        }\n\n        return title;\n    }\n}\n\nexport default DefaultPageSummary;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}