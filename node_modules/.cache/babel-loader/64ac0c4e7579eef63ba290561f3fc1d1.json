{"ast":null,"code":"import\"core-js/modules/es.promise.js\";import\"core-js/modules/web.dom-collections.for-each.js\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{createDataActionHook}from'@msdyn365-commerce/core';import{getProductInfoFromSimpleProduct}from'./telemetry.action.helper';const beforeGetByIds=async inputs=>{};const afterGetByIds=async(_inputs,simpleProducts,actionContext)=>{if(Array.isArray(simpleProducts)&&simpleProducts.length){simpleProducts.forEach(simpleProduct=>{const productInfo=getProductInfoFromSimpleProduct(simpleProduct,actionContext.requestContext);actionContext.requestContext.telemetryData[productInfo.productSku]=productInfo;});}else if(simpleProducts){const productInfo=getProductInfoFromSimpleProduct(simpleProducts,actionContext.requestContext);actionContext.requestContext.telemetryData[productInfo.productSku]=productInfo;}};createDataActionHook({actionId:'@msdyn365-commerce/retail-proxy/Products/GetByIds',postReaderHook:afterGetByIds,preReaderHook:beforeGetByIds});","map":{"version":3,"sources":["actions/getByIds-product-telemetry.action.ts"],"names":[],"mappings":"8FAAA;;;AAGG,GAEH,OAAS,oBAAT,KAAmE,yBAAnE,CAEA,OAAS,+BAAT,KAAgD,2BAAhD,CAEA,KAAM,CAAA,cAAc,CAAG,KAAO,CAAA,MAAP,EAAgD,CAEtE,CAFD,CAIA,KAAM,CAAA,aAAa,CAAG,MAClB,OADkB,CAElB,cAFkB,CAGlB,aAHkB,GAIlB,CACA,GAAI,KAAK,CAAC,OAAN,CAAc,cAAd,GAAiC,cAAc,CAAC,MAApD,CAA4D,CACxD,cAAc,CAAC,OAAf,CAAwB,aAAD,EAAiC,CACpD,KAAM,CAAA,WAAW,CAAG,+BAA+B,CAAC,aAAD,CAAgB,aAAa,CAAC,cAA9B,CAAnD,CACA,aAAa,CAAC,cAAd,CAA6B,aAA7B,CAA2C,WAAW,CAAC,UAAvD,EAAqE,WAArE,CACH,CAHD,EAIH,CALD,IAKO,IAAI,cAAJ,CAAoB,CACvB,KAAM,CAAA,WAAW,CAAG,+BAA+B,CAAC,cAAD,CAAiB,aAAa,CAAC,cAA/B,CAAnD,CACA,aAAa,CAAC,cAAd,CAA6B,aAA7B,CAA2C,WAAW,CAAC,UAAvD,EAAqE,WAArE,CACH,CACJ,CAdD,CAgBA,oBAAoB,CAAC,CACjB,QAAQ,CAAE,mDADO,CAEjB,cAAc,CAAE,aAFC,CAGjB,aAAa,CAAE,cAHE,CAAD,CAApB","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { createDataActionHook, IActionContext, IActionInput } from '@msdyn365-commerce/core';\nimport { SimpleProduct } from '@msdyn365-commerce/retail-proxy';\nimport { getProductInfoFromSimpleProduct } from './telemetry.action.helper';\n\nconst beforeGetByIds = async (inputs: IActionInput | IActionInput[]) => {\n    // placeholder\n};\n\nconst afterGetByIds = async (\n    _inputs: IActionInput | IActionInput[],\n    simpleProducts: SimpleProduct | SimpleProduct[],\n    actionContext: IActionContext\n) => {\n    if (Array.isArray(simpleProducts) && simpleProducts.length) {\n        simpleProducts.forEach((simpleProduct: SimpleProduct) => {\n            const productInfo = getProductInfoFromSimpleProduct(simpleProduct, actionContext.requestContext);\n            actionContext.requestContext.telemetryData[productInfo.productSku] = productInfo;\n        });\n    } else if (simpleProducts) {\n        const productInfo = getProductInfoFromSimpleProduct(simpleProducts, actionContext.requestContext);\n        actionContext.requestContext.telemetryData[productInfo.productSku] = productInfo;\n    }\n};\n\ncreateDataActionHook({\n    actionId: '@msdyn365-commerce/retail-proxy/Products/GetByIds',\n    postReaderHook: afterGetByIds,\n    preReaderHook: beforeGetByIds\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}