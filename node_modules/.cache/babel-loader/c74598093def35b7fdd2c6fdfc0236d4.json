{"ast":null,"code":"import\"core-js/modules/es.promise.js\";import{updateAsync}from'@msdyn365-commerce/retail-proxy/dist/DataActions/CartsDataActions.g';export default async function updateLoyaltyCardId(cart,newLoyaltyCardId,actionContext){if(!cart){return{cart:undefined,status:'FAILED'};}return updateAsync({callerContext:actionContext},{Id:cart.Id,LoyaltyCardId:newLoyaltyCardId}).then(newCart=>{return{cart:newCart,status:'SUCCESS'};}).catch(error=>{actionContext.telemetry.warning(error);actionContext.telemetry.debug('Unable to update loyalty card id');return{cart:undefined,status:'FAILED'};});}","map":{"version":3,"sources":["cart-state/update-loyalty-card-id.ts"],"names":[],"mappings":"sCACA,OAAS,WAAT,KAA4B,qEAA5B,CAIA,cAAe,eAAe,CAAA,mBAAf,CAAmC,IAAnC,CAAqE,gBAArE,CAA+F,aAA/F,CAA4H,CACvI,GAAI,CAAC,IAAL,CAAW,CACP,MAAO,CAAE,IAAI,CAAE,SAAR,CAAmB,MAAM,CAAE,QAA3B,CAAP,CACH,CAED,MAAO,CAAA,WAAW,CACd,CAAE,aAAa,CAAE,aAAjB,CADc,CAEd,CACI,EAAE,CAAE,IAAI,CAAC,EADb,CAEI,aAAa,CAAE,gBAFnB,CAFc,CAAX,CAON,IAPM,CAOD,OAAO,EAAG,CACZ,MAAmC,CAAE,IAAI,CAAE,OAAR,CAAiB,MAAM,CAAE,SAAzB,CAAnC,CACH,CATM,EAUN,KAVM,CAUA,KAAK,EAAG,CACX,aAAa,CAAC,SAAd,CAAwB,OAAxB,CAAgC,KAAhC,EACA,aAAa,CAAC,SAAd,CAAwB,KAAxB,CAA8B,kCAA9B,EAEA,MAAmC,CAAE,IAAI,CAAE,SAAR,CAAmB,MAAM,CAAE,QAA3B,CAAnC,CACH,CAfM,CAAP,CAgBH","sourcesContent":["import { IActionContext } from '@msdyn365-commerce/core';\nimport { updateAsync } from '@msdyn365-commerce/retail-proxy/dist/DataActions/CartsDataActions.g';\nimport { Cart } from '@msdyn365-commerce/retail-proxy/dist/Entities/CommerceTypes.g';\nimport { ICartActionResultWithCart } from './cart-action-result';\n\nexport default async function updateLoyaltyCardId(cart: Readonly<Cart | undefined>, newLoyaltyCardId: string, actionContext: IActionContext): Promise<ICartActionResultWithCart> {\n    if (!cart) {\n        return { cart: undefined, status: 'FAILED'};\n    }\n\n    return updateAsync(\n        { callerContext: actionContext},\n        {\n            Id: cart.Id,\n            LoyaltyCardId: newLoyaltyCardId\n        }\n    )\n    .then(newCart => {\n        return <ICartActionResultWithCart> { cart: newCart, status: 'SUCCESS'};\n    })\n    .catch(error => {\n        actionContext.telemetry.warning(error);\n        actionContext.telemetry.debug('Unable to update loyalty card id');\n\n        return <ICartActionResultWithCart> { cart: undefined, status: 'FAILED'};\n    });\n}"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}