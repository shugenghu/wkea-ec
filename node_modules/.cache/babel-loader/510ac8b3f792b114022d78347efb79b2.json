{"ast":null,"code":"import*as React from'react';import{Module,Node}from'@msdyn365-commerce-modules/utilities';import{Quantity}from'../utilities/quantity';var BuyboxView=function BuyboxView(props){var _props$slots;var ModuleProps=props.ModuleProps,MediaGalleryContainerProps=props.MediaGalleryContainerProps,ProductInfoContainerProps=props.ProductInfoContainerProps,addToCart=props.addToCart,addToOrderTemplate=props.addToOrderTemplate,addToWishlist=props.addToWishlist,telemetryContent=props.telemetryContent,configure=props.configure,description=props.description,findInStore=props.findInStore,quantity=props.quantity,price=props.price,title=props.title,rating=props.rating,callbacks=props.callbacks,state=props.state,resources=props.resources,inventoryLabel=props.inventoryLabel,shopSimilarLook=props.shopSimilarLook;return/*#__PURE__*/React.createElement(Module,Object.assign({},ModuleProps),/*#__PURE__*/React.createElement(Node,Object.assign({},MediaGalleryContainerProps),props.mediaGallery),/*#__PURE__*/React.createElement(Node,Object.assign({},ProductInfoContainerProps),title,price,description,_renderTextBlock(props.slots.textBlocks),rating,configure&&_renderConfigure(configure),quantity&&_renderQuantity(quantity,callbacks,props,state,resources,telemetryContent),inventoryLabel,_renderCartAndActions(addToCart,addToOrderTemplate,addToWishlist),findInStore&&_renderFindInStore(findInStore),_renderSocialShare(props.slots&&((_props$slots=props.slots)===null||_props$slots===void 0?void 0:_props$slots.socialShare)),shopSimilarLook&&_renderShopSimilarLook(shopSimilarLook)));};var _renderTextBlock=function _renderTextBlock(textBlocks){if(!textBlocks||textBlocks.length===0){return undefined;}return/*#__PURE__*/React.createElement(React.Fragment,null,textBlocks[0]);};var _renderSocialShare=function _renderSocialShare(socialShare){if(!socialShare||socialShare.length===0){return undefined;}return/*#__PURE__*/React.createElement(React.Fragment,null,socialShare[0]);};var _renderCartAndActions=function _renderCartAndActions(addToCart,addToOrderTemplate,addToWishlist){if(!addToCart&&!addToWishlist){return undefined;}return/*#__PURE__*/React.createElement(\"div\",{className:'product-add-to-cart'},addToCart&&addToCart.errorBlock,addToOrderTemplate&&addToOrderTemplate.errorBlock,addToWishlist&&addToWishlist.errorBlock,/*#__PURE__*/React.createElement(\"div\",{className:'buttons'},addToCart&&addToCart.button,addToOrderTemplate&&addToOrderTemplate.button,addToWishlist&&addToWishlist.button));};var _renderConfigure=function _renderConfigure(configure){var ContainerProps=configure.ContainerProps,dropdowns=configure.dropdowns;return/*#__PURE__*/React.createElement(Node,Object.assign({},ContainerProps),dropdowns.map(_renderConfigureDropdown));};var _renderConfigureDropdown=function _renderConfigureDropdown(dropdown){var ContainerProps=dropdown.ContainerProps,LabelContainerProps=dropdown.LabelContainerProps,heading=dropdown.heading,errors=dropdown.errors,select=dropdown.select;return/*#__PURE__*/React.createElement(Node,Object.assign({},ContainerProps),/*#__PURE__*/React.createElement(Node,Object.assign({},LabelContainerProps),heading,errors),select);};var _renderFindInStore=function _renderFindInStore(findInStore){var ContainerProps=findInStore.ContainerProps,storeSelector=findInStore.storeSelector,heading=findInStore.heading,description=findInStore.description,errors=findInStore.errors,button=findInStore.button,modal=findInStore.modal;return/*#__PURE__*/React.createElement(Node,Object.assign({},ContainerProps),storeSelector,heading,description,errors,button,modal);};var _renderQuantity=function _renderQuantity(quantityComponent,callbacks,props,state,extentionResources,telemetryContent){var ContainerProps=quantityComponent.ContainerProps,LabelContainerProps=quantityComponent.LabelContainerProps,heading=quantityComponent.heading,errors=quantityComponent.errors;var resources=props.resources,maxQuantityForCartLineItem=props.context.app.config.maxQuantityForCartLineItem;var quantity=state.quantity;var onChange=function onChange(newValue){if(callbacks.updateQuantity){callbacks.updateQuantity(newValue);}};return/*#__PURE__*/React.createElement(Node,Object.assign({},ContainerProps),/*#__PURE__*/React.createElement(Node,Object.assign({},LabelContainerProps),heading,errors),/*#__PURE__*/React.createElement(Quantity,{id:'ms-buybox__product-quantity-input',max:maxQuantityForCartLineItem||10,currentCount:quantity,onChange:onChange,inputQuantityAriaLabel:resources.inputQuantityAriaLabel,decrementButtonAriaLabel:extentionResources.decrementButtonAriaLabel,incrementButtonAriaLabel:extentionResources.incrementButtonAriaLabel,telemetryContent:telemetryContent}));};var _renderShopSimilarLook=function _renderShopSimilarLook(shopSimilarItem){var ContainerProps=shopSimilarItem.ContainerProps,errors=shopSimilarItem.errors,input=shopSimilarItem.input;return/*#__PURE__*/React.createElement(Node,Object.assign({},ContainerProps),errors,input);};export default BuyboxView;","map":{"version":3,"sources":["modules/fabrikam/views/buybox.view.tsx"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as React from 'react';\n\nimport {\n    IBuyboxAddToCartViewProps,\n    IBuyboxAddToOrderTemplateViewProps,\n    IBuyboxAddToWishlistViewProps,\n    IBuyboxCallbacks,\n    IBuyboxData,\n    IBuyboxFindInStoreViewProps,\n    IBuyboxProductConfigureDropdownViewProps,\n    IBuyboxProductConfigureViewProps,\n    IBuyboxProductQuantityViewProps,\n    IBuyboxProps,\n    IBuyboxShopSimilarLookViewProps,\n    IBuyboxState,\n    IBuyboxViewProps\n } from '@msdyn365-commerce-modules/buybox';\n\nimport { ITelemetryContent, Module, Node } from '@msdyn365-commerce-modules/utilities';\n\nimport { IBuyboxProps as IBuyboxExtentionProps, IBuyboxResources as IBuyboxExtentionResources } from '../definition-extensions/buybox.ext.props.autogenerated';\nimport { Quantity } from '../utilities/quantity';\n\nconst BuyboxView: React.FC<IBuyboxViewProps & IBuyboxExtentionProps<IBuyboxData>> = props => {\n    const { ModuleProps, MediaGalleryContainerProps, ProductInfoContainerProps,\n        addToCart, addToOrderTemplate, addToWishlist,\n        telemetryContent, configure, description, findInStore,\n        quantity, price, title, rating, callbacks, state, resources, inventoryLabel, shopSimilarLook } = props;\n\n    return (\n        <Module {...ModuleProps}>\n            <Node {...MediaGalleryContainerProps}>\n                {props.mediaGallery}\n            </Node>\n            <Node {...ProductInfoContainerProps}>\n                {title}\n                {price}\n                {description}\n                { _renderTextBlock(props.slots.textBlocks)}\n                {rating}\n                {configure && _renderConfigure(configure)}\n                {quantity && _renderQuantity(quantity, callbacks, props, state, resources, telemetryContent)}\n                {inventoryLabel}\n                { _renderCartAndActions(addToCart, addToOrderTemplate, addToWishlist)}\n                {findInStore && _renderFindInStore(findInStore)}\n                { _renderSocialShare(props.slots && props.slots?.socialShare)}\n                {shopSimilarLook && _renderShopSimilarLook(shopSimilarLook)}\n            </Node>\n        </Module>\n    );\n};\n\nconst _renderTextBlock = (textBlocks: React.ReactNode[]): JSX.Element | undefined => {\n    if (!textBlocks || textBlocks.length === 0) {\n        return undefined;\n    }\n\n    return (\n        <>\n            {textBlocks[0]}\n        </>\n    );\n};\n\nconst _renderSocialShare = (socialShare: React.ReactNode[]): JSX.Element | undefined => {\n    if (!socialShare || socialShare.length === 0) {\n        return undefined;\n    }\n\n    return (\n        <>\n            {socialShare[0]}\n        </>\n    );\n};\n\nconst _renderCartAndActions = (\n    addToCart?: IBuyboxAddToCartViewProps,\n    addToOrderTemplate?: IBuyboxAddToOrderTemplateViewProps,\n    addToWishlist?: IBuyboxAddToWishlistViewProps): JSX.Element | undefined => {\n    if (!addToCart && !addToWishlist) {\n        return undefined;\n    }\n\n    return (\n        <div className='product-add-to-cart'>\n            {addToCart && addToCart.errorBlock}\n            {addToOrderTemplate && addToOrderTemplate.errorBlock}\n            {addToWishlist && addToWishlist.errorBlock}\n            <div className='buttons'>\n                {addToCart && addToCart.button}\n                {addToOrderTemplate && addToOrderTemplate.button}\n                {addToWishlist && addToWishlist.button}\n            </div>\n        </div>\n    );\n};\n\nconst _renderConfigure = (configure: IBuyboxProductConfigureViewProps): JSX.Element => {\n    const { ContainerProps, dropdowns } = configure;\n\n    return (\n        <Node {...ContainerProps}>\n            {dropdowns.map(_renderConfigureDropdown)}\n        </Node>\n    );\n};\n\nconst _renderConfigureDropdown = (dropdown: IBuyboxProductConfigureDropdownViewProps): JSX.Element => {\n    const { ContainerProps, LabelContainerProps, heading, errors, select } = dropdown;\n\n    return (\n        <Node {...ContainerProps}>\n            <Node {...LabelContainerProps}>\n                {heading}\n                {errors}\n            </Node>\n            {select}\n        </Node>\n    );\n};\n\nconst _renderFindInStore = (findInStore: IBuyboxFindInStoreViewProps): JSX.Element => {\n    const { ContainerProps, storeSelector, heading, description, errors, button, modal } = findInStore;\n\n    return (\n        <Node {...ContainerProps}>\n            {storeSelector}\n            {heading}\n            {description}\n            {errors}\n            {button}\n            {modal}\n        </Node>\n    );\n};\n\nconst _renderQuantity = (quantityComponent: IBuyboxProductQuantityViewProps, callbacks: IBuyboxCallbacks, props: IBuyboxProps<IBuyboxData>, state: IBuyboxState, extentionResources: IBuyboxExtentionResources,\n                         telemetryContent?: ITelemetryContent): JSX.Element => {\n    const { ContainerProps, LabelContainerProps, heading, errors } = quantityComponent;\n\n    const {\n        resources,\n        context: {\n            app: {\n                config: {\n                    maxQuantityForCartLineItem\n                }\n            }\n        }\n    } = props;\n\n    const\n    {\n        quantity,\n    } = state;\n\n    const onChange = (newValue: number) => {\n        if (callbacks.updateQuantity) {\n            callbacks.updateQuantity(newValue);\n        }\n    };\n\n    return (\n        <Node {...ContainerProps}>\n            <Node {...LabelContainerProps}>\n                {heading}\n                {errors}\n            </Node>\n\n            <Quantity\n                id='ms-buybox__product-quantity-input'\n                max={maxQuantityForCartLineItem || 10}\n                currentCount={quantity}\n                onChange={onChange}\n                inputQuantityAriaLabel={resources.inputQuantityAriaLabel}\n                decrementButtonAriaLabel={extentionResources.decrementButtonAriaLabel}\n                incrementButtonAriaLabel={extentionResources.incrementButtonAriaLabel}\n                telemetryContent={telemetryContent}\n            />\n        </Node>\n    );\n};\n\nconst _renderShopSimilarLook = (shopSimilarItem: IBuyboxShopSimilarLookViewProps): JSX.Element => {\n    const { ContainerProps, errors, input } = shopSimilarItem;\n\n    return (\n        <Node {...ContainerProps}>\n            {errors}\n            {input}\n        </Node>\n    );\n};\n\nexport default BuyboxView;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}