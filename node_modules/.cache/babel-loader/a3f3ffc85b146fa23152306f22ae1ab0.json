{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import classnames from'classnames';import*as React from'react';var SocialShare=/*#__PURE__*/function(_React$PureComponent){_inherits(SocialShare,_React$PureComponent);var _super=_createSuper(SocialShare);function SocialShare(props){_classCallCheck(this,SocialShare);return _super.call(this,props);}_createClass(SocialShare,[{key:\"render\",value:function render(){var slots=this.props.slots;if(slots&&slots.socialShareItems.length===0){this.props.context.telemetry.error('No social media is enable for sharing, module wont render');return null;}var isConsentGiven=this.props.context.request&&this.props.context.request.cookies&&this.props.context.request.cookies.isConsentGiven&&this.props.context.request.cookies.isConsentGiven();if(isConsentGiven===false){return null;}var viewprops=_objectSpread(_objectSpread({},this.props),{},{SocialShare:{moduleProps:this.props,className:classnames('ms-social-share',this.props.config.className)},SocialShareList:{'data-title':this.props.config.caption,className:\"ms-social-share-ul \".concat(this.props.config.caption&&'caption',\" \").concat(this.props.config.orientation===\"vertical\"?'vertical':''),tag:'ul'},SocialShareItem:{className:'ms-social-share-li',tag:'li',tabIndex:'0'},SocialShareItemElements:slots&&slots.socialShareItems.length>0&&slots.socialShareItems});return this.props.renderView(viewprops);}}]);return SocialShare;}(React.PureComponent);export default SocialShare;","map":{"version":3,"sources":["modules/social-share/social-share.tsx"],"names":[],"mappings":"u3DAMA,MAAO,CAAA,UAAP,KAAuB,YAAvB,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,C,GAiBM,CAAA,W,8HACF,qBAAY,KAAZ,CAAwD,2DAC9C,KAD8C,EAEvD,C,+DAEY,IACD,CAAA,KADC,CACS,KAAK,KADd,CACD,KADC,CAGT,GAAI,KAAK,EAAI,KAAK,CAAC,gBAAN,CAAuB,MAAvB,GAAkC,CAA/C,CAAkD,CAC9C,KAAK,KAAL,CAAW,OAAX,CAAmB,SAAnB,CAA6B,KAA7B,CAAmC,2DAAnC,EACA,MAAO,KAAP,CACH,CAED,GAAM,CAAA,cAAc,CACpB,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,EACA,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,CAA2B,OAD3B,EAEA,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,CAA2B,OAA3B,CAAmC,cAFnC,EAGA,KAAK,KAAL,CAAW,OAAX,CAAmB,OAAnB,CAA2B,OAA3B,CAAmC,cAAnC,EAJA,CAMA,GAAI,cAAc,GAAK,KAAvB,CAA8B,CAC1B,MAAO,KAAP,CACH,CAED,GAAM,CAAA,SAAS,gCACR,KAAK,KADG,MAEX,WAAW,CAAE,CACT,WAAW,CAAE,KAAK,KADT,CAET,SAAS,CAAE,UAAU,CAAC,iBAAD,CAAoB,KAAK,KAAL,CAAW,MAAX,CAAkB,SAAtC,CAFZ,CAFF,CAMX,eAAe,CAAE,CACb,aAAc,KAAK,KAAL,CAAW,MAAX,CAAkB,OADnB,CAEb,SAAS,8BAAwB,KAAK,KAAL,CAAW,MAAX,CAAkB,OAAlB,EAA6B,SAArD,aAAkE,KAAK,KAAL,CAAW,MAAX,CAAkB,WAAlB,GAA6B,UAA7B,CAAyD,UAAzD,CAAsE,EAAxI,CAFI,CAGb,GAAG,CAAE,IAHQ,CANN,CAWX,eAAe,CAAE,CACb,SAAS,CAAE,oBADE,CAEb,GAAG,CAAE,IAFQ,CAGb,QAAQ,CAAE,GAHG,CAXN,CAgBX,uBAAuB,CAAE,KAAK,EAAI,KAAK,CAAC,gBAAN,CAAuB,MAAvB,CAAgC,CAAzC,EAA8C,KAAK,CAAC,gBAhBlE,EAAf,CAmBA,MAAO,MAAK,KAAL,CAAW,UAAX,CAAsB,SAAtB,CAAP,CACH,C,yBA3CqB,KAAK,CAAC,a,EA8ChC,cAAe,CAAA,WAAf","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IModuleProps, INodeProps } from '@msdyn365-commerce-modules/utilities';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport { ISocialShareConfig, ISocialShareProps, orientation } from './social-share.props.autogenerated';\n\nexport interface ISocialShareViewProps extends ISocialShareProps<ISocialShareConfig> {\n    isConsentGiven: boolean;\n    SocialShareItemElements: React.ReactNode[];\n    SocialShare: IModuleProps;\n    SocialShareList: INodeProps;\n    SocialShareItem: INodeProps;\n    SocialShareItemCustomization: INodeProps;\n}\n\n/**\n *\n * SocialShare component\n * @extends {React.PureComponent<ISocialShareProps<ISocialShareConfig>>}\n */\nclass SocialShare extends React.PureComponent<ISocialShareProps<ISocialShareConfig>> {\n    constructor(props: ISocialShareProps<ISocialShareConfig>) {\n        super(props);\n    }\n\n    public render(): JSX.Element | null {\n        const { slots } = this.props;\n\n        if (slots && slots.socialShareItems.length === 0) {\n            this.props.context.telemetry.error('No social media is enable for sharing, module wont render');\n            return null;\n        }\n\n        const isConsentGiven =\n        this.props.context.request &&\n        this.props.context.request.cookies &&\n        this.props.context.request.cookies.isConsentGiven &&\n        this.props.context.request.cookies.isConsentGiven();\n\n        if (isConsentGiven === false) {\n            return null;\n        }\n\n        const viewprops = {\n            ...this.props,\n            SocialShare: {\n                moduleProps: this.props,\n                className: classnames('ms-social-share', this.props.config.className)\n            },\n            SocialShareList: {\n                'data-title': this.props.config.caption,\n                className: `ms-social-share-ul ${this.props.config.caption && 'caption'} ${this.props.config.orientation === orientation.vertical ? 'vertical' : ''}`,\n                tag: 'ul'\n            },\n            SocialShareItem: {\n                className: 'ms-social-share-li',\n                tag: 'li',\n                tabIndex: '0'\n            },\n            SocialShareItemElements: slots && slots.socialShareItems.length > 0 && slots.socialShareItems\n        };\n\n        return this.props.renderView(viewprops) as React.ReactElement;\n    }\n}\n\nexport default SocialShare;\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}