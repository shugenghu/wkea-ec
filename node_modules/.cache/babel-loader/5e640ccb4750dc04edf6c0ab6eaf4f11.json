{"ast":null,"code":"import\"core-js/modules/es.promise.js\";/*!\r\n * Copyright (c) Microsoft Corporation.\r\n * All rights reserved. See LICENSE in the project root for license information.\r\n */import{createDataActionHook}from'@msdyn365-commerce/core';import{TelemetryEvent}from'@msdyn365-commerce/telemetry-internal';import{getProductInfoFromSimpleProduct}from'./telemetry.action.helper';const beforeGetById=async inputs=>{};const afterGetById=async(_inputs,simpleProduct,actionContext)=>{if(simpleProduct){const productInfo=getProductInfoFromSimpleProduct(simpleProduct,actionContext.requestContext);actionContext.requestContext.telemetryData[productInfo.productSku]=productInfo;actionContext.requestContext.telemetryData[TelemetryEvent.ProductPageView]=productInfo?[productInfo]:[];}};createDataActionHook({actionId:'@msdyn365-commerce/retail-proxy/Products/GetById',postReaderHook:afterGetById,preReaderHook:beforeGetById});","map":{"version":3,"sources":["actions/getById-product-telemetry.action.ts"],"names":[],"mappings":"sCAAA;;;AAGG,GAEH,OAAS,oBAAT,KAAmE,yBAAnE,CAEA,OAAS,cAAT,KAA+B,uCAA/B,CACA,OAAS,+BAAT,KAAgD,2BAAhD,CAEA,KAAM,CAAA,aAAa,CAAG,KAAO,CAAA,MAAP,EAAgD,CAErE,CAFD,CAIA,KAAM,CAAA,YAAY,CAAG,MACjB,OADiB,CAEjB,aAFiB,CAGjB,aAHiB,GAIjB,CAEA,GAAI,aAAJ,CAAmB,CACf,KAAM,CAAA,WAAW,CAAG,+BAA+B,CAAC,aAAD,CAAgB,aAAa,CAAC,cAA9B,CAAnD,CACA,aAAa,CAAC,cAAd,CAA6B,aAA7B,CAA2C,WAAW,CAAC,UAAvD,EAAqE,WAArE,CACA,aAAa,CAAC,cAAd,CAA6B,aAA7B,CAA2C,cAAc,CAAC,eAA1D,EAA6E,WAAW,CAAG,CAAC,WAAD,CAAH,CAAmB,EAA3G,CACH,CACJ,CAXD,CAaA,oBAAoB,CAAC,CACjB,QAAQ,CAAE,kDADO,CAEjB,cAAc,CAAE,YAFC,CAGjB,aAAa,CAAE,aAHE,CAAD,CAApB","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation.\n * All rights reserved. See LICENSE in the project root for license information.\n */\n\nimport { createDataActionHook, IActionContext, IActionInput } from '@msdyn365-commerce/core';\nimport { SimpleProduct } from '@msdyn365-commerce/retail-proxy';\nimport { TelemetryEvent } from '@msdyn365-commerce/telemetry-internal';\nimport { getProductInfoFromSimpleProduct } from './telemetry.action.helper';\n\nconst beforeGetById = async (inputs: IActionInput | IActionInput[]) => {\n    // placeholder\n};\n\nconst afterGetById = async (\n    _inputs: IActionInput | IActionInput[],\n    simpleProduct: SimpleProduct | SimpleProduct[],\n    actionContext: IActionContext\n) => {\n    // If simple product result is defined run the post hook\n    if (simpleProduct) {\n        const productInfo = getProductInfoFromSimpleProduct(simpleProduct, actionContext.requestContext);\n        actionContext.requestContext.telemetryData[productInfo.productSku] = productInfo;\n        actionContext.requestContext.telemetryData[TelemetryEvent.ProductPageView] = productInfo ? [productInfo] : [];\n    }\n};\n\ncreateDataActionHook({\n    actionId: '@msdyn365-commerce/retail-proxy/Products/GetById',\n    postReaderHook: afterGetById,\n    preReaderHook: beforeGetById\n});\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}