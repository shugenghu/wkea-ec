{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _asyncToGenerator from\"@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import{getPayloadObject,getTelemetryAttributes}from'@msdyn365-commerce-modules/utilities';import*as React from'react';export var Dropdown=/*#__PURE__*/function(_React$PureComponent){_inherits(Dropdown,_React$PureComponent);var _super=_createSuper(Dropdown);function Dropdown(props,state){var _this;_classCallCheck(this,Dropdown);_this=_super.call(this,props);_this.selectMenu=/*#__PURE__*/React.createRef();_this._onChanged=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({selectedIndex:event.target.value});if(!_this.props.onChange){_context.next=4;break;}_context.next=4;return _this.props.onChange({dropdownId:_this.props.dropdownId,selectId:event.target.value,selectedValue:event.target.innerText});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={selectedIndex:''};_this.payLoad=getPayloadObject('click',props.telemetryContent,_this.props.dropdownName);return _this;}_createClass(Dropdown,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.selectMenu.current){this.selectMenu.current.selectedIndex=0;}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,dropdownId=_this$props.dropdownId,dropdownList=_this$props.dropdownList,dropdownName=_this$props.dropdownName,dropdownToggleName=_this$props.dropdownToggleName;var attribute=getTelemetryAttributes(this.props.telemetryContent,this.payLoad);return/*#__PURE__*/React.createElement(\"select\",Object.assign({id:\"msc-dropdown__entry-\".concat(dropdownId),ref:this.selectMenu,\"aria-label\":dropdownName,className:'msc-dropdown__select',onChange:this._onChanged},attribute),/*#__PURE__*/React.createElement(\"option\",{value:'',\"aria-selected\":this.state.selectedIndex==='',selected:this.state.selectedIndex==='',hidden:true,disabled:true},dropdownToggleName),dropdownList.map(function(item){return item&&/*#__PURE__*/React.createElement(\"option\",{value:item.id,key:item.id,selected:_this2.state.selectedIndex===item.id.toString(),\"aria-selected\":_this2.state.selectedIndex===item.id.toString()},item.value);}));}}]);return Dropdown;}(React.PureComponent);","map":{"version":3,"sources":["modules/buybox/components/dropdown/dropdown.tsx"],"names":[],"mappings":"2pCAGA,OAAS,gBAAT,CAA2B,sBAA3B,KAAmE,sCAAnE,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAiBA,UAAa,CAAA,QAAb,wHAII,kBAAY,KAAZ,CAAmC,KAAnC,CAAwD,0CACpD,uBAAM,KAAN,EAJI,MAAA,UAAA,cAAiD,KAAK,CAAC,SAAN,EAAjD,CAqCA,MAAA,UAAA,0FAAa,iBAAO,KAAP,kHACjB,MAAK,QAAL,CAAc,CAAC,aAAa,CAAE,KAAK,CAAC,MAAN,CAAa,KAA7B,CAAd,EADiB,IAGb,MAAK,KAAL,CAAW,QAHE,+CAIP,OAAK,KAAL,CAAW,QAAX,CAAoB,CACtB,UAAU,CAAE,MAAK,KAAL,CAAW,UADD,CAEtB,QAAQ,CAAE,KAAK,CAAC,MAAN,CAAa,KAFD,CAGtB,aAAa,CAAE,KAAK,CAAC,MAAN,CAAa,SAHN,CAApB,CAJO,uDAAb,+DAhCJ,MAAK,KAAL,CAAa,CACT,aAAa,CAAE,EADN,CAAb,CAGA,MAAK,OAAL,CAAe,gBAAgB,CAAC,OAAD,CAAU,KAAK,CAAC,gBAAhB,CAAmC,MAAK,KAAL,CAAW,YAA9C,CAA/B,CALoD,aAMvD,CAVL,kFAY4B,CACpB,GAAI,KAAK,UAAL,CAAgB,OAApB,CAA6B,CACzB,KAAK,UAAL,CAAgB,OAAhB,CAAwB,aAAxB,CAAwC,CAAxC,CACH,CACJ,CAhBL,uCAkBiB,iCAC4D,KAAK,KADjE,CACF,UADE,aACF,UADE,CACU,YADV,aACU,YADV,CACwB,YADxB,aACwB,YADxB,CACsC,kBADtC,aACsC,kBADtC,CAET,GAAM,CAAA,SAAS,CAAG,sBAAsB,CAAC,KAAK,KAAL,CAAW,gBAAZ,CAA+B,KAAK,OAApC,CAAxC,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CACI,EAAE,+BAAyB,UAAzB,CADN,CAEI,GAAG,CAAE,KAAK,UAFd,CAEwB,aACR,YAHhB,CAII,SAAS,CAAC,sBAJd,CAKI,QAAQ,CAAE,KAAK,UALnB,CAAA,CAMQ,SANR,CAAA,cAQI,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CAAQ,KAAK,CAAC,EAAd,CAAgB,gBAAgB,KAAK,KAAL,CAAW,aAAX,GAA6B,EAA7D,CAAiE,QAAQ,CAAE,KAAK,KAAL,CAAW,aAAX,GAA6B,EAAxG,CAA4G,MAAM,CAAA,IAAlH,CAAmH,QAAQ,CAAA,IAA3H,CAAA,CAA6H,kBAA7H,CARJ,CASK,YAAY,CAAC,GAAb,CACG,SAAC,IAAD,QAA8B,CAAA,IAAI,eAAI,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CAAQ,KAAK,CAAE,IAAI,CAAC,EAApB,CAAwB,GAAG,CAAE,IAAI,CAAC,EAAlC,CAAsC,QAAQ,CAAE,MAAI,CAAC,KAAL,CAAW,aAAX,GAA6B,IAAI,CAAC,EAAL,CAAQ,QAAR,EAA7E,CAA+F,gBAAiB,MAAI,CAAC,KAAL,CAAW,aAAX,GAA6B,IAAI,CAAC,EAAL,CAAQ,QAAR,EAA7I,CAAA,CAAkK,IAAI,CAAC,KAAvK,CAAtC,EADH,CATL,CADJ,CAeH,CApCL,sBAA8B,KAAK,CAAC,aAApC","sourcesContent":["/**\n * Copyright (c) 2018 Microsoft Corporation\n */\nimport { getPayloadObject, getTelemetryAttributes, IPayLoad } from '@msdyn365-commerce-modules/utilities';\nimport * as React from 'react';\nimport { IDropdownProps } from './';\nimport { IDropdownItemProps } from './dropdown.props';\n\ntype IDropdownState = {\n    /**\n     * @friendlyName selectedIndex\n     * @description selected index\n     */\n    selectedIndex: string;\n};\n\n/**\n *\n * DropDown component\n * @extends {React.PureComponent<IDropdownProps, IDropdownState>}\n */\nexport class Dropdown extends React.PureComponent<IDropdownProps, IDropdownState> {\n    private selectMenu: React.RefObject<HTMLSelectElement> = React.createRef<HTMLSelectElement>();\n    private payLoad: IPayLoad;\n\n    constructor(props: IDropdownProps, state: IDropdownState) {\n        super(props);\n        this.state = {\n            selectedIndex: ''\n        };\n        this.payLoad = getPayloadObject('click', props.telemetryContent!, this.props.dropdownName);\n    }\n\n    public componentDidMount(): void {\n        if (this.selectMenu.current) {\n            this.selectMenu.current.selectedIndex = 0;\n        }\n    }\n\n    public render(): JSX.Element {\n        const {dropdownId, dropdownList, dropdownName, dropdownToggleName} = this.props;\n        const attribute = getTelemetryAttributes(this.props.telemetryContent!, this.payLoad);\n        return (\n            <select\n                id={`msc-dropdown__entry-${dropdownId}`}\n                ref={this.selectMenu}\n                aria-label={dropdownName}\n                className='msc-dropdown__select'\n                onChange={this._onChanged}\n                {...attribute}\n            >\n                <option value='' aria-selected={this.state.selectedIndex === ''} selected={this.state.selectedIndex === ''} hidden disabled>{dropdownToggleName}</option>\n                {dropdownList.map(\n                    (item: IDropdownItemProps) => item && <option value={item.id} key={item.id} selected={this.state.selectedIndex === item.id.toString()} aria-selected={this.state.selectedIndex === item.id.toString()}>{item.value}</option>\n                )}\n            </select>\n        );\n    }\n\n    private _onChanged = async (event: React.ChangeEvent<HTMLSelectElement>) => {\n        this.setState({selectedIndex: event.target.value});\n\n        if (this.props.onChange) {\n            await this.props.onChange({\n                dropdownId: this.props.dropdownId,\n                selectId: event.target.value,\n                selectedValue: event.target.innerText\n            });\n        }\n    };\n}"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}