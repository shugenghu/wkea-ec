{"ast":null,"code":"import\"core-js/modules/web.dom-collections.for-each.js\";import{getPayloadObject,getTelemetryAttributes,onTelemetryClick}from'@msdyn365-commerce-modules/utilities';import*as Msdyn365 from'@msdyn365-commerce/core';import*as React from'react';export const PromoBannerLinks=(_ref)=>{let{links,requestContext,onTextChange,telemetryContent}=_ref;const editableLinks=_mapEditableLinks(links,telemetryContent);return/*#__PURE__*/React.createElement(\"span\",{className:'ms-promo-banner__links'},editableLinks&&editableLinks.length?/*#__PURE__*/React.createElement(Msdyn365.Links,{links:editableLinks,editProps:{onTextChange:onTextChange,requestContext:requestContext}}):null);};const _mapEditableLinks=(linkdata,telemetryContent)=>{if(!linkdata||linkdata.length===0){return null;}const editableLinks=[];linkdata.forEach((link,index)=>{const payLoad=getPayloadObject('click',telemetryContent,'','');const linkText=link.linkText?link.linkText:'';payLoad.contentAction.etext=linkText;const attributes=getTelemetryAttributes(telemetryContent,payLoad);const editableLink={ariaLabel:link.ariaLabel,className:'ms-promo-banner__link',linkText:link.linkText,linkUrl:link.linkUrl.destinationUrl,openInNewTab:link.openInNewTab,role:'button',additionalProperties:attributes,onClick:onTelemetryClick(telemetryContent,payLoad,linkText)};editableLinks.push(editableLink);});return editableLinks;};","map":{"version":3,"sources":["modules/promo-banner/components/links.tsx"],"names":[],"mappings":"wDAIA,OAAS,gBAAT,CAA2B,sBAA3B,CAAsE,gBAAtE,KAA8F,sCAA9F,CACA,MAAO,GAAK,CAAA,QAAZ,KAA0B,yBAA1B,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CAUA,MAAO,MAAM,CAAA,gBAAgB,CAAgC,QAA8D,IAA7D,CAAE,KAAF,CAAS,cAAT,CAAyB,YAAzB,CAAuC,gBAAvC,CAA6D,MACvH,KAAM,CAAA,aAAa,CAAG,iBAAiB,CAAC,KAAD,CAAQ,gBAAR,CAAvC,CACA,mBACI,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAM,SAAS,CAAC,wBAAhB,CAAA,CACK,aAAa,EAAI,aAAa,CAAC,MAA/B,cACG,KAAA,CAAA,aAAA,CAAC,QAAQ,CAAC,KAAV,CAAe,CACX,KAAK,CAAG,aADG,CAEX,SAAS,CAAE,CAAC,YAAY,CAAE,YAAf,CAA6B,cAAc,CAAE,cAA7C,CAFA,CAAf,CADH,CAKK,IANV,CADJ,CAWH,CAbM,CAeP,KAAM,CAAA,iBAAiB,CAAG,CAAC,QAAD,CAAyB,gBAAzB,GAA8F,CACpH,GAAG,CAAC,QAAD,EAAa,QAAQ,CAAC,MAAT,GAAoB,CAApC,CAAuC,CACnC,MAAO,KAAP,CACH,CACD,KAAM,CAAA,aAAa,CAA0B,EAA7C,CACA,QAAQ,CAAC,OAAT,CAAiB,CAAC,IAAD,CAAM,KAAN,GAAe,CAE5B,KAAM,CAAA,OAAO,CAAG,gBAAgB,CAAC,OAAD,CAAU,gBAAV,CAA4B,EAA5B,CAAgC,EAAhC,CAAhC,CACA,KAAM,CAAA,QAAQ,CAAG,IAAI,CAAC,QAAL,CAAgB,IAAI,CAAC,QAArB,CAAgC,EAAjD,CACA,OAAO,CAAC,aAAR,CAAsB,KAAtB,CAA8B,QAA9B,CACA,KAAM,CAAA,UAAU,CAAG,sBAAsB,CAAC,gBAAD,CAAmB,OAAnB,CAAzC,CACA,KAAM,CAAA,YAAY,CAAwB,CACtC,SAAS,CAAE,IAAI,CAAC,SADsB,CAEtC,SAAS,CAAE,uBAF2B,CAGtC,QAAQ,CAAE,IAAI,CAAC,QAHuB,CAItC,OAAO,CAAE,IAAI,CAAC,OAAL,CAAa,cAJgB,CAKtC,YAAY,CAAE,IAAI,CAAC,YALmB,CAMtC,IAAI,CAAE,QANgC,CAOtC,oBAAoB,CAAE,UAPgB,CAQtC,OAAO,CAAE,gBAAgB,CAAC,gBAAD,CAAmB,OAAnB,CAA4B,QAA5B,CARa,CAA1C,CAUA,aAAa,CAAC,IAAd,CAAmB,YAAnB,EACH,CAjBD,EAmBA,MAAO,CAAA,aAAP,CACH,CAzBD","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getPayloadObject, getTelemetryAttributes, ITelemetryContent, onTelemetryClick } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport * as React from 'react';\nimport { ILinksData } from '../promo-banner.props.autogenerated';\n\nexport interface IPromoBannerLinks {\n    links: ILinksData[];\n    requestContext: Msdyn365.IRequestContext;\n    telemetryContent: ITelemetryContent;\n    onTextChange?(index: number): (event: Msdyn365.ContentEditableEvent) => void;\n}\n\nexport const PromoBannerLinks: React.FC<IPromoBannerLinks> = ({ links, requestContext, onTextChange, telemetryContent }) => {\n    const editableLinks = _mapEditableLinks(links, telemetryContent);\n    return(\n        <span className='ms-promo-banner__links'>\n            {editableLinks && editableLinks.length ?\n                <Msdyn365.Links\n                    links= {editableLinks}\n                    editProps={{onTextChange: onTextChange, requestContext: requestContext}}\n                />\n                : null\n            }\n    </span>\n    );\n};\n\nconst _mapEditableLinks = (linkdata: ILinksData[], telemetryContent: ITelemetryContent): Msdyn365.ILinksData[] | null => {\n    if(!linkdata || linkdata.length === 0) {\n        return null;\n    }\n    const editableLinks: Msdyn365.ILinksData[] = [];\n    linkdata.forEach((link,index) => {\n        // Construct telemetry attribute to render\n        const payLoad = getPayloadObject('click', telemetryContent, '', '');\n        const linkText = link.linkText ? link.linkText : '';\n        payLoad.contentAction.etext = linkText;\n        const attributes = getTelemetryAttributes(telemetryContent, payLoad);\n        const editableLink: Msdyn365.ILinksData = {\n            ariaLabel: link.ariaLabel,\n            className: 'ms-promo-banner__link',\n            linkText: link.linkText,\n            linkUrl: link.linkUrl.destinationUrl,\n            openInNewTab: link.openInNewTab,\n            role: 'button',\n            additionalProperties: attributes,\n            onClick: onTelemetryClick(telemetryContent, payLoad, linkText)\n        };\n        editableLinks.push(editableLink);\n    });\n\n    return editableLinks;\n};\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}