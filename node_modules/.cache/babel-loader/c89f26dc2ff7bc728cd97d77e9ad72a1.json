{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var tslib_1=require(\"tslib\");var classnames_1=tslib_1.__importDefault(require(\"classnames\"));var React=tslib_1.__importStar(require(\"react\"));var react_popper_1=require(\"react-popper\");var utilities_1=require(\"../common/utilities\");var PopperContent=function(_super){tslib_1.__extends(PopperContent,_super);function PopperContent(props){var _this=_super.call(this,props)||this;_this._handlePlacementChange=_this._handlePlacementChange.bind(_this);_this.state={isOpen:props.isOpen};return _this;}PopperContent.prototype.componentDidMount=function(){this._handleProps();};PopperContent.prototype.componentDidUpdate=function(prevProps){if(this.props.isOpen!==prevProps.isOpen){this._handleProps();}};PopperContent.prototype.render=function(){return this.props.isOpen?this._renderChildren():null;};PopperContent.prototype._handlePlacementChange=function(data){if(this.state.placement!==data.placement){this.setState({placement:data.placement});}return data;};PopperContent.prototype._handleProps=function(){if(this.props.container!=='inline'){if(this.props.isOpen){this._show();}else{this._hide();}}};PopperContent.prototype._hide=function(){this.setState({isOpen:false});};PopperContent.prototype._show=function(){this.setState({isOpen:true});};PopperContent.prototype._renderChildren=function(){var _a=this.props,cssModule=_a.cssModule,children=_a.children,isOpen=_a.isOpen,flip=_a.flip,offset=_a.offset,target=_a.target,fallbackPlacement=_a.fallbackPlacement,focusOut=_a.focusOut,placementPrefix=_a.placementPrefix,arrowClassNameOrUndefined=_a.arrowClassName,hideArrow=_a.hideArrow,className=_a.className,tag=_a.tag,modifiers=_a.modifiers,boundariesElement=_a.boundariesElement,attrs=tslib_1.__rest(_a,[\"cssModule\",\"children\",\"isOpen\",\"flip\",\"offset\",\"target\",\"fallbackPlacement\",\"focusOut\",\"placementPrefix\",\"arrowClassName\",\"hideArrow\",\"className\",\"tag\",\"modifiers\",\"boundariesElement\"]);var arrowClassName=utilities_1.mapToCssModules(classnames_1[\"default\"]('msc-arrow',arrowClassNameOrUndefined),cssModule);var placement=(this.state.placement||attrs.placement||'auto').split('-')[0];var popperClassName=utilities_1.mapToCssModules(classnames_1[\"default\"](className,placementPrefix?placementPrefix+\"-\"+placement:placement),this.props.cssModule);var extendedModifiers=tslib_1.__assign({offset:{offset:offset},flip:{enabled:flip,behavior:fallbackPlacement},preventOverflow:{boundariesElement:boundariesElement},update:{enabled:true,order:950,fn:this._handlePlacementChange}},modifiers);var targetElement=utilities_1.getTargetElement(target);if(targetElement===null){return null;}return React.createElement(react_popper_1.Popper,tslib_1.__assign({},attrs,{modifiers:extendedModifiers,target:targetElement,component:tag,onBlur:focusOut,className:popperClassName,\"x-placement\":this.state.placement||attrs.placement,style:{display:this.state.isOpen?'block':'none'}}),children,!hideArrow&&React.createElement(react_popper_1.Arrow,{className:arrowClassName}));};PopperContent.defaultProps={boundariesElement:'scrollParent',placement:'auto',hideArrow:false,isOpen:false,offset:0,fallbackPlacement:'flip',flip:true,container:'body',modifiers:{}};return PopperContent;}(React.Component);exports[\"default\"]=PopperContent;","map":{"version":3,"sources":["/Users/User/Documents/wkea-ec/Msdyn365.Commerce.Online/node_modules/@msdyn365-commerce-modules/utilities/src/popper-content/PopperContent.tsx"],"names":[],"mappings":"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","sourcesContent":["import classNames from 'classnames';\nimport { Data } from 'popper.js';\nimport * as React from 'react';\nimport { Arrow, Popper as ReactPopper } from 'react-popper';\nimport { getTargetElement, mapToCssModules } from '../common/utilities';\nimport { IPopperContentProps } from './PopperContent.props';\n\nexport interface IPopperContentState {\n    placement?: string;\n    isOpen: boolean;\n}\n\n/**\n * Renders popper content. This is an internal helper class shared between components.\n */\nexport default class PopperContent extends React.Component<IPopperContentProps, IPopperContentState> {\n\n    public static defaultProps: Partial<IPopperContentProps> = {\n        boundariesElement: 'scrollParent',\n        placement: 'auto',\n        hideArrow: false,\n        isOpen: false,\n        offset: 0,\n        fallbackPlacement: 'flip',\n        flip: true,\n        container: 'body',\n        modifiers: {}\n    };\n\n    constructor(props: IPopperContentProps) {\n        super(props);\n\n        this._handlePlacementChange = this._handlePlacementChange.bind(this);\n        this.state = { isOpen: props.isOpen };\n    }\n\n    public componentDidMount(): void {\n        this._handleProps();\n    }\n    public componentDidUpdate(prevProps: IPopperContentProps): void {\n        if (this.props.isOpen !== prevProps.isOpen) {\n            this._handleProps();\n        }\n    }\n\n    public render(): JSX.Element | null {\n        return this.props.isOpen ? this._renderChildren() : null;\n    }\n\n    private _handlePlacementChange(data: Data): Data {\n        if (this.state.placement !== data.placement) {\n            this.setState({ placement: data.placement });\n        }\n\n        return data;\n    }\n\n    private _handleProps(): void {\n        if (this.props.container !== 'inline') {\n            if (this.props.isOpen) {\n                this._show();\n            } else {\n                this._hide();\n            }\n        }\n    }\n\n    private _hide(): void {\n        this.setState({ isOpen: false });\n    }\n\n    private _show(): void {\n        this.setState({ isOpen: true });\n    }\n\n    private _renderChildren(): JSX.Element | null {\n        const {\n            cssModule,\n            children,\n            isOpen,\n            flip,\n            offset,\n            target,\n            fallbackPlacement,\n            focusOut,\n            placementPrefix,\n            arrowClassName: arrowClassNameOrUndefined,\n            hideArrow,\n            className,\n            tag,\n            modifiers,\n            boundariesElement,\n            ...attrs\n        } = this.props;\n\n        const arrowClassName = mapToCssModules(\n            classNames(\n                'msc-arrow',\n                arrowClassNameOrUndefined\n            ),\n            cssModule\n        );\n\n        const placement = (this.state.placement || attrs.placement || 'auto').split('-')[0];\n        const popperClassName = mapToCssModules(\n            classNames(\n                className,\n                placementPrefix ? `${placementPrefix}-${placement}` : placement\n            ),\n            this.props.cssModule\n        );\n\n        const extendedModifiers = {\n            offset: { offset },\n            flip: { enabled: flip, behavior: fallbackPlacement },\n            preventOverflow: { boundariesElement },\n            update: {\n                enabled: true,\n                order: 950,\n                fn: this._handlePlacementChange\n            },\n            ...modifiers\n        };\n\n        const targetElement = getTargetElement(target);\n        if (targetElement === null) {\n            return null;\n        }\n\n        return (\n            <ReactPopper\n                {...attrs}\n                modifiers={extendedModifiers}\n                target={targetElement}\n                component={tag}\n                onBlur={focusOut}\n                className={popperClassName}\n                x-placement={this.state.placement || attrs.placement}\n                style={{ display: this.state.isOpen ? 'block' : 'none' }}\n            >\n                {children}\n                {!hideArrow && <Arrow className={arrowClassName} />}\n            </ReactPopper>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"script"}