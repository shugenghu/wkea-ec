{"ast":null,"code":"import\"core-js/modules/es.object.assign.js\";import{OrderSummary}from'@msdyn365-commerce-modules/order-summary-utilities';import*as Msdyn365 from'@msdyn365-commerce/core';import get from'lodash/get';import*as React from'react';export const getOrderSummary=input=>{const{config:{orderSummaryHeading},data:{checkout},resources:{subTotalLabel,shippingLabel,taxLabel,orderTotalLabel,loyaltyLabel,giftcardLabel,totalDiscountsLabel,freeText,toBeCalculatedText,otherCharges},context,typeName,id,telemetry}=input;const checkoutState=get(checkout,'result');const cart=get(checkout,'result.checkoutCart.cart');const showLineItems=cart.CartLines&&cart.CartLines.length>0;const channelConfiguration=context.request.channel;const handleOrderSummaryHeadingChange=event=>{const{config:{orderSummaryHeading}}=input;orderSummaryHeading.text=event.target.value;};return{orderSummaryProps:{className:'ms-checkout-guest-profile__selected-item'},heading:orderSummaryHeading&&orderSummaryHeading.text&&/*#__PURE__*/React.createElement(Msdyn365.Text,Object.assign({className:'msc-order-summary__heading'},orderSummaryHeading,{tag:orderSummaryHeading.tag||'h2',text:orderSummaryHeading.text,editProps:{onEdit:handleOrderSummaryHeadingChange,requestContext:context.request}})),lines:showLineItems?OrderSummary({checkoutState,cart,subTotalLabel,shippingLabel,taxLabel,orderTotalLabel,loyaltyLabel,giftcardLabel,totalDiscountsLabel,freeText,toBeCalculatedText,context,typeName,id,channelConfiguration,telemetry,otherChargeLabel:otherCharges}):undefined};};","map":{"version":3,"sources":["modules/checkout/components/get-order-summary.tsx"],"names":[],"mappings":"4CAIA,OAA6B,YAA7B,KAAiD,oDAAjD,CAEA,MAAO,GAAK,CAAA,QAAZ,KAA0B,yBAA1B,CACA,MAAO,CAAA,GAAP,KAAgB,YAAhB,CACA,MAAO,GAAK,CAAA,KAAZ,KAAuB,OAAvB,CASA,MAAO,MAAM,CAAA,eAAe,CAAI,KAAD,EAAwD,CACnF,KAAM,CACF,MAAM,CAAE,CAAE,mBAAF,CADN,CAEF,IAAI,CAAE,CAAE,QAAF,CAFJ,CAGF,SAAS,CAAE,CACP,aADO,CAEP,aAFO,CAGP,QAHO,CAIP,eAJO,CAKP,YALO,CAMP,aANO,CAOP,mBAPO,CAQP,QARO,CASP,kBATO,CAUP,YAVO,CAHT,CAeF,OAfE,CAgBF,QAhBE,CAiBF,EAjBE,CAkBF,SAlBE,EAmBF,KAnBJ,CAqBA,KAAM,CAAA,aAAa,CAAG,GAAG,CAAC,QAAD,CAAW,QAAX,CAAzB,CACA,KAAM,CAAA,IAAI,CAAG,GAAG,CAAC,QAAD,CAAW,0BAAX,CAAhB,CACA,KAAM,CAAA,aAAa,CAAG,IAAI,CAAC,SAAL,EAAkB,IAAI,CAAC,SAAL,CAAe,MAAf,CAAwB,CAAhE,CACA,KAAM,CAAA,oBAAoB,CAAG,OAAO,CAAC,OAAR,CAAgB,OAA7C,CAEA,KAAM,CAAA,+BAA+B,CAAI,KAAD,EAAyC,CAC7E,KAAM,CAEF,MAAM,CAAE,CAAE,mBAAF,CAFN,EAGF,KAHJ,CAIA,mBAAoB,CAAC,IAArB,CAA4B,KAAK,CAAC,MAAN,CAAa,KAAzC,CACH,CAND,CAQA,MAAO,CACH,iBAAiB,CAAE,CAAE,SAAS,CAAE,0CAAb,CADhB,CAEH,OAAO,CAAE,mBAAmB,EAAI,mBAAmB,CAAC,IAA3C,eACT,KAAA,CAAA,aAAA,CAAC,QAAQ,CAAC,IAAV,CAAc,MAAA,CAAA,MAAA,CAAA,CACV,SAAS,CAAC,4BADA,CAAA,CAEN,mBAFM,CAEa,CACvB,GAAG,CAAE,mBAAmB,CAAC,GAApB,EAA2B,IADT,CAEvB,IAAI,CAAE,mBAAmB,CAAC,IAFH,CAGvB,SAAS,CAAE,CAAE,MAAM,CAAE,+BAAV,CAA2C,cAAc,CAAE,OAAO,CAAC,OAAnE,CAHY,CAFb,CAAd,CAHG,CAWH,KAAK,CAAE,aAAa,CACd,YAAY,CAAC,CACT,aADS,CAET,IAFS,CAGT,aAHS,CAIT,aAJS,CAKT,QALS,CAMT,eANS,CAOT,YAPS,CAQT,aARS,CAST,mBATS,CAUT,QAVS,CAWT,kBAXS,CAYT,OAZS,CAaT,QAbS,CAcT,EAdS,CAeT,oBAfS,CAgBT,SAhBS,CAiBT,gBAAgB,CAAE,YAjBT,CAAD,CADE,CAoBd,SA/BH,CAAP,CAkCH,CArEM","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IOrderSummaryLines, OrderSummary } from '@msdyn365-commerce-modules/order-summary-utilities';\nimport { INodeProps } from '@msdyn365-commerce-modules/utilities';\nimport * as Msdyn365 from '@msdyn365-commerce/core';\nimport get from 'lodash/get';\nimport * as React from 'react';\nimport { ICheckoutData } from '../checkout.data';\nimport { ICheckoutProps } from '../checkout.props.autogenerated';\n\nexport interface IOrderSummary {\n    orderSummaryProps: INodeProps;\n    heading?: React.ReactNode;\n    lines?: IOrderSummaryLines;\n}\nexport const getOrderSummary = (input: ICheckoutProps<ICheckoutData>): IOrderSummary => {\n    const {\n        config: { orderSummaryHeading },\n        data: { checkout },\n        resources: {\n            subTotalLabel,\n            shippingLabel,\n            taxLabel,\n            orderTotalLabel,\n            loyaltyLabel,\n            giftcardLabel,\n            totalDiscountsLabel,\n            freeText,\n            toBeCalculatedText,\n            otherCharges\n        },\n        context,\n        typeName,\n        id,\n        telemetry\n    } = input;\n\n    const checkoutState = get(checkout, 'result');\n    const cart = get(checkout, 'result.checkoutCart.cart');\n    const showLineItems = cart.CartLines && cart.CartLines.length > 0;\n    const channelConfiguration = context.request.channel!;\n\n    const handleOrderSummaryHeadingChange = (event: Msdyn365.ContentEditableEvent) => {\n        const {\n            // tslint:disable-next-line: no-shadowed-variable\n            config: { orderSummaryHeading }\n        } = input;\n        orderSummaryHeading!.text = event.target.value;\n    };\n\n    return {\n        orderSummaryProps: { className: 'ms-checkout-guest-profile__selected-item' },\n        heading: orderSummaryHeading && orderSummaryHeading.text && (\n        <Msdyn365.Text\n            className='msc-order-summary__heading'\n            {...orderSummaryHeading}\n            tag={orderSummaryHeading.tag || 'h2'}\n            text={orderSummaryHeading.text}\n            editProps={{ onEdit: handleOrderSummaryHeadingChange, requestContext: context.request }}\n        />\n        ),\n        lines: showLineItems\n            ? OrderSummary({\n                  checkoutState,\n                  cart,\n                  subTotalLabel,\n                  shippingLabel,\n                  taxLabel,\n                  orderTotalLabel,\n                  loyaltyLabel,\n                  giftcardLabel,\n                  totalDiscountsLabel,\n                  freeText,\n                  toBeCalculatedText,\n                  context,\n                  typeName,\n                  id,\n                  channelConfiguration,\n                  telemetry,\n                  otherChargeLabel: otherCharges\n              })\n            : undefined\n    };\n\n};\n"],"sourceRoot":"./src/"},"metadata":{},"sourceType":"module"}