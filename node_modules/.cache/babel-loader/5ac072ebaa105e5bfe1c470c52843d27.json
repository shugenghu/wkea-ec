{"ast":null,"code":"import{QueryResultSettingsProxy}from'./QueryResultSettingsProxy';export const parseSearchData=inputData=>{// query is of type 'IDictionary<string> | undefined', so that q and skip are not recognized by tsc\n// @ts-ignore:2339\nconst{requestContext:{query:{q,top,skip},apiSettings:{channelId}},config:{maxItems,itemsPerPage}}=inputData;const queryResultSettings=QueryResultSettingsProxy.fromInputData(inputData).QueryResultSettings;return{q,skip:skip&&Number(skip)||0,top:top&&Number(top)||50,itemsPerPage,maxItems,channelId,queryResultSettings};};","map":{"version":3,"sources":["../../../src/utilities/input-data-parser.ts"],"names":[],"mappings":"AAEA,OAAS,wBAAT,KAAyC,4BAAzC,CAYA,MAAO,MAAM,CAAA,eAAe,CAAI,SAAD,EAAiE,CAC5F;AACA;AACA,KAAM,CAAE,cAAc,CAAE,CAAC,KAAK,CAAE,CAAC,CAAD,CAAI,GAAJ,CAAS,IAAT,CAAR,CAAwB,WAAW,CAAE,CAAC,SAAD,CAArC,CAAlB,CAAqE,MAAM,CAAE,CAAC,QAAD,CAAW,YAAX,CAA7E,EAAyG,SAA/G,CACA,KAAM,CAAA,mBAAmB,CAAG,wBAAwB,CAAC,aAAzB,CAAuC,SAAvC,EAAkD,mBAA9E,CACA,MAAO,CACH,CADG,CAEH,IAAI,CAAG,IAAI,EAAI,MAAM,CAAC,IAAD,CAAd,EAAwB,CAF5B,CAGH,GAAG,CAAG,GAAG,EAAI,MAAM,CAAC,GAAD,CAAb,EAAsB,EAHzB,CAIH,YAJG,CAKH,QALG,CAMH,SANG,CAOH,mBAPG,CAAP,CASH,CAdM","sourcesContent":["import { IAny, ICreateActionContext, IGeneric } from '@msdyn365-commerce/core';\nimport { QueryResultSettings } from '@msdyn365-commerce/retail-proxy';\nimport { QueryResultSettingsProxy } from './QueryResultSettingsProxy';\n\nexport interface ISearchData {\n    q: string;\n    skip: number;\n    top: number;\n    itemsPerPage: string;\n    maxItems: string;\n    channelId: number;\n    queryResultSettings: QueryResultSettings;\n}\n\nexport const parseSearchData = (inputData: ICreateActionContext<IGeneric<IAny>>): ISearchData => {\n    // query is of type 'IDictionary<string> | undefined', so that q and skip are not recognized by tsc\n    // @ts-ignore:2339\n    const { requestContext: {query: {q, top, skip}, apiSettings: {channelId}}, config: {maxItems, itemsPerPage}} = inputData;\n    const queryResultSettings = QueryResultSettingsProxy.fromInputData(inputData).QueryResultSettings;\n    return {\n        q,\n        skip: (skip && Number(skip) || 0),\n        top: (top && Number(top) || 50),\n        itemsPerPage, // TODO BUGBUG 21667361\n        maxItems, // TODO BUGBUG 21667361\n        channelId,\n        queryResultSettings\n    };\n};"],"sourceRoot":""},"metadata":{},"sourceType":"module"}